/*! For license information please see main.29fac324.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,s)&&!_.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),I(a,t,s,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(o=e[c],c);l+=I(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,s,u=i+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],s=0;return I(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,P(N);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function N(e,n){p=!1,g&&(g=!1,y(S),S=-1),m=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,k=null,S=-1,C=5,T=-1;function I(){return!(t.unstable_now()-T<C)}function j(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?E():(_=!1,k=null)}}else _=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,E=function(){R.postMessage(null)}}else E=function(){v(j,0)};function P(e){k=e,_||(_=!0,E())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,P(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(w,i-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,P(N))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case N:return"Portal";case k:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Ee=null,_e=null;function ke(e){if(e=xs(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=Ns(t),Ne(e.stateNode,e.type,t))}}function Se(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Te(e,t,n)}finally{je=!1,(null!==Ee||null!==_e)&&(Ie(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ns(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Oe(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,s,i,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return qe(s),e;if(a===r)return qe(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Je=s.unstable_now,$e=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=dt(o):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~s)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,Et,_t,kt,St=!1,Ct=[],Tt=null,It=null,jt=null,At=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=bs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==It&&Ut(It)&&(It=null),null!==jt&&Ut(jt)&&(jt=null),At.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var s=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=s,Ht.transition=i}}function Kt(e,t,n,r){var s=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=s,Ht.transition=i}}function Gt(e,t,n,r){if(qt){var s=Yt(e,t,n,r);if(null===s)qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,s),!0;case"dragenter":return It=Lt(It,e,t,n,r,s),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var i=xs(s);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=bs(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(fn),pn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return _n}var Sn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Sn),Tn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(An),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(ws(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function kr(e){if(Er[e])return Er[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Sr=kr("animationend"),Cr=kr("animationiteration"),Tr=kr("animationstart"),Ir=kr("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){jr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Dr=Ar[Pr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var s=Wt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=bs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=i,s=we(n),a=[];e:{var o=jr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Sr:case Cr:case Tr:l=vn;break;case Ir:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Re(m,h))&&u.push(Wr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bs(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:ws(l),f=null==c?o:ws(c),(o=new u(p,m+"leave",l,n,s)).target=d,o.relatedTarget=f,p=null,bs(s)===r&&((u=new u(h,m+"enter",c,n,s)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Gr(f))m++;for(f=0,p=h;p;p=Gr(p))f++;for(;0<m-f;)u=Gr(u),m--;for(;0<f-m;)h=Gr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?ws(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if(Jn)g=ar;else{g=sr;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?ws(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(a,n,s)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):($t="value"in(Jt=s)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new xn(b,e,null,n,s),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Re(e,n))&&r.unshift(Wr(e,i,s)),null!=(i=Re(e,t))&&r.push(Wr(e,i,s))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,i))&&a.unshift(Wr(n,l,o)):s||null!=(l=Re(n,i))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ts=null,ns=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ss="function"===typeof setTimeout?setTimeout:void 0,is="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(ls)}:ss;function ls(e){setTimeout((function(){throw e}))}function cs(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),fs="__reactFiber$"+hs,ms="__reactProps$"+hs,ps="__reactContainer$"+hs,gs="__reactEvents$"+hs,vs="__reactListeners$"+hs,ys="__reactHandles$"+hs;function bs(e){var t=e[fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[fs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[fs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[fs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ns(e){return e[ms]||null}var Es=[],_s=-1;function ks(e){return{current:e}}function Ss(e){0>_s||(e.current=Es[_s],Es[_s]=null,_s--)}function Cs(e,t){_s++,Es[_s]=e.current,e.current=t}var Ts={},Is=ks(Ts),js=ks(!1),As=Ts;function Rs(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ps(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Ss(js),Ss(Is)}function Os(e,t,n){if(Is.current!==Ts)throw Error(i(168));Cs(Is,t),Cs(js,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,H(e)||"Unknown",s));return M({},n,r)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,As=Is.current,Cs(Is,e),Cs(js,js.current),!0}function Fs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ls(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Ss(js),Ss(Is),Cs(Is,e)):Ss(js),Cs(js,n)}var Vs=null,zs=!1,Bs=!1;function Hs(e){null===Vs?Vs=[e]:Vs.push(e)}function qs(){if(!Bs&&null!==Vs){Bs=!0;var e=0,t=bt;try{var n=Vs;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vs=null,zs=!1}catch(s){throw null!==Vs&&(Vs=Vs.slice(e+1)),Ge(Ze,qs),s}finally{bt=t,Bs=!1}}return null}var Ws=[],Ks=0,Gs=null,Qs=0,Ys=[],Xs=0,Js=null,$s=1,Zs="";function ei(e,t){Ws[Ks++]=Qs,Ws[Ks++]=Gs,Gs=e,Qs=t}function ti(e,t,n){Ys[Xs++]=$s,Ys[Xs++]=Zs,Ys[Xs++]=Js,Js=e;var r=$s;e=Zs;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$s=1<<32-at(t)+s|n<<s|r,Zs=i+e}else $s=1<<i|n<<s|r,Zs=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Gs;)Gs=Ws[--Ks],Ws[Ks]=null,Qs=Ws[--Ks],Ws[Ks]=null;for(;e===Js;)Js=Ys[--Xs],Ys[Xs]=null,Zs=Ys[--Xs],Ys[Xs]=null,$s=Ys[--Xs],Ys[Xs]=null}var si=null,ii=null,ai=!1,oi=null;function li(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,si=e,ii=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,si=e,ii=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Js?{id:$s,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,si=e,ii=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function di(e){if(ai){var t=ii;if(t){var n=t;if(!ci(e,t)){if(ui(e))throw Error(i(418));t=us(n.nextSibling);var r=si;t&&ci(e,t)?li(r,n):(e.flags=-4097&e.flags|2,ai=!1,si=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,si=e}}}function hi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;si=e}function fi(e){if(e!==si)return!1;if(!ai)return hi(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=ii)){if(ui(e))throw mi(),Error(i(418));for(;t;)li(e,t),t=us(t.nextSibling)}if(hi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ii=us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ii=null}}else ii=si?us(e.stateNode.nextSibling):null;return!0}function mi(){for(var e=ii;e;)e=us(e.nextSibling)}function pi(){ii=si=null,ai=!1}function gi(e){null===oi?oi=[e]:oi.push(e)}var vi=x.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&xi(i)===t.type)?((r=s(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case N:return(t=Vc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case R:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:d(e,t,n,r,null);bi(e,n)}return null}function m(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return m(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);bi(t,r)}return null}function p(s,i,o,l){for(var c=null,u=null,d=i,p=i=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(s,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),i=a(v,i,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(s,d),ai&&ei(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(i=a(d,i,p),null===u?c=d:u.sibling=d,u=d);return ai&&ei(s,p),c}for(d=r(s,d);p<o.length;p++)null!==(g=m(d,s,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),i=a(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),ai&&ei(s,p),c}function g(s,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=f(s,p,y.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(s,p),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,p=v}if(y.done)return n(s,p),ai&&ei(s,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return ai&&ei(s,g),u}for(p=r(s,p);!y.done;g++,y=l.next())null!==(y=m(p,s,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(s,e)})),ai&&ei(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&xi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((i=Mc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=yi(r,i,a),l.return=r,r=l)}return o(r);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Vc(a,r.mode,l)).return=r,r=i}return o(r);case R:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return p(r,i,a,l);if(O(a))return g(r,i,a,l);bi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Fc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var Ni=wi(!0),Ei=wi(!1),_i=ks(null),ki=null,Si=null,Ci=null;function Ti(){Ci=Si=ki=null}function Ii(e){var t=_i.current;Ss(_i),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){ki=e,Ci=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===ki)throw Error(i(308));Si=e,ki.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Pi=null;function Di(e){null===Pi?Pi=[e]:Pi.push(e)}function Oi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Di(t)):(n.next=s.next,s.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Li(e,n)}return null===(s=r.interleaved)?(t.next=t,Di(r)):(t.next=s.next,s.next=t),r.interleaved=t,Li(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qi(e,t,n,r){var s=e.updateQueue;Mi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=M({},d,h);break e;case 2:Mi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ul|=a,e.lanes=a,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Ki={},Gi=ks(Ki),Qi=ks(Ki),Yi=ks(Ki);function Xi(e){if(e===Ki)throw Error(i(174));return e}function Ji(e,t){switch(Cs(Yi,t),Cs(Qi,e),Cs(Gi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Gi),Cs(Gi,t)}function $i(){Ss(Gi),Ss(Qi),Ss(Yi)}function Zi(e){Xi(Yi.current);var t=Xi(Gi.current),n=le(t,e.type);t!==n&&(Cs(Qi,e),Cs(Gi,n))}function ea(e){Qi.current===e&&(Ss(Gi),Ss(Qi))}var ta=ks(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function sa(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var ia=x.ReactCurrentDispatcher,aa=x.ReactCurrentBatchConfig,oa=0,la=null,ca=null,ua=null,da=!1,ha=!1,fa=0,ma=0;function pa(){throw Error(i(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function va(e,t,n,r,s,a){if(oa=a,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?eo:to,e=n(r,s),ha){a=0;do{if(ha=!1,fa=0,25<=a)throw Error(i(301));a+=1,ua=ca=null,t.updateQueue=null,ia.current=no,e=n(r,s)}while(ha)}if(ia.current=Za,t=null!==ca&&null!==ca.next,oa=0,ua=ca=la=null,da=!1,t)throw Error(i(300));return e}function ya(){var e=0!==fa;return fa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?la.memoizedState=ua=e:ua=ua.next=e,ua}function xa(){if(null===ca){var e=la.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===ua?la.memoizedState:ua.next;if(null!==t)ua=t,ca=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===ua?la.memoizedState=ua=e:ua=ua.next=e}return ua}function wa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ca,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((oa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,la.lanes|=d,Ul|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,la.lanes|=a,Ul|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=xa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function ka(e,t){var n=la,r=xa(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,wo=!0),r=r.queue,Ma(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ra(9,Ca.bind(null,n,r,s,t),void 0,null),null===Al)throw Error(i(349));0!==(30&oa)||Sa(n,t,s)}return s}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&ja(e)}function Ta(e,t,n){return n((function(){Ia(t)&&ja(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ja(e){var t=Li(e,1);null!==t&&sc(t,e,1,-1)}function Aa(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,la,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return xa().memoizedState}function Da(e,t,n,r){var s=ba();la.flags|=e,s.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var s=xa();r=void 0===r?null:r;var i=void 0;if(null!==ca){var a=ca.memoizedState;if(i=a.destroy,null!==r&&ga(r,a.deps))return void(s.memoizedState=Ra(t,n,i,r))}la.flags|=e,s.memoizedState=Ra(1|t,n,i,r)}function La(e,t){return Da(8390656,8,e,t)}function Ma(e,t){return Oa(2048,8,e,t)}function Ua(e,t){return Oa(4,2,e,t)}function Fa(e,t){return Oa(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Va.bind(null,t,e),n)}function Ba(){}function Ha(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&oa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),la.lanes|=n,Ul|=n,e.baseState=!0),t)}function Ka(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{bt=n,aa.transition=r}}function Ga(){return xa().memoizedState}function Qa(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Ja(t,n);else if(null!==(n=Oi(e,t,n,r))){sc(n,e,r,nc()),$a(n,t,r)}}function Ya(e,t,n){var r=rc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ja(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Di(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Oi(e,t,s,r))&&(sc(n,e,r,s=nc()),$a(n,t,r))}}function Xa(e){var t=e.alternate;return e===la||null!==t&&t===la}function Ja(e,t){ha=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Za={readContext:Ri,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},eo={readContext:Ri,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Da(4194308,4,e,t)},useInsertionEffect:function(e,t){return Da(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qa.bind(null,la,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Aa,useDebugValue:Ba,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ka.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=la,s=ba();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!==(30&oa)||Sa(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,La(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Al.identifierPrefix;if(ai){var n=Zs;t=":"+t+"R"+(n=($s&~(1<<32-at($s)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ma++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:Ri,useCallback:Ha,useContext:Ri,useEffect:Ma,useImperativeHandle:za,useInsertionEffect:Ua,useLayoutEffect:Fa,useMemo:qa,useReducer:Na,useRef:Pa,useState:function(){return Na(wa)},useDebugValue:Ba,useDeferredValue:function(e){return Wa(xa(),ca.memoizedState,e)},useTransition:function(){return[Na(wa)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1},no={readContext:Ri,useCallback:Ha,useContext:Ri,useEffect:Ma,useImperativeHandle:za,useInsertionEffect:Ua,useLayoutEffect:Fa,useMemo:qa,useReducer:Ea,useRef:Pa,useState:function(){return Ea(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=xa();return null===ca?t.memoizedState=e:Wa(t,ca.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function so(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),s=rc(e),i=Vi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,s))&&(sc(t,e,s,r),Bi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),s=rc(e),i=Vi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,s))&&(sc(t,e,s,r),Bi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),s=Vi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zi(e,s,r))&&(sc(t,e,r,n),Bi(t,e,r))}};function ao(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oo(e,t,n){var r=!1,s=Ts,i=t.contextType;return"object"===typeof i&&null!==i?i=Ri(i):(s=Ps(t)?As:Is.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rs(e,s):Ts),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ui(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ri(i):(i=Ps(t)?As:Is.current,s.context=Rs(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(so(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&io.enqueueReplaceState(s,s.state,null),qi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Vi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=r),fo(0,t)},n}function go(e,t,n){(n=Vi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vi(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var xo=x.ReactCurrentOwner,wo=!1;function No(e,t,n,r){t.child=null===e?Ei(t,null,n,r):Ni(t,e.child,n,r)}function Eo(e,t,n,r,s){n=n.render;var i=t.ref;return Ai(t,s),r=va(e,t,n,r,i,s),n=ya(),null===e||wo?(ai&&n&&ni(t),t.flags|=1,No(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ko(e,t,s))}function _o(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ko(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ko(e,t,s)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Ko(e,t,s);0!==(131072&e.flags)&&(wo=!0)}}return To(e,t,n,r,s)}function So(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Cs(Ol,Dl),Dl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Cs(Ol,Dl),Dl|=r;return No(e,t,s,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,s){var i=Ps(n)?As:Is.current;return i=Rs(t,i),Ai(t,s),n=va(e,t,n,r,i,s),r=ya(),null===e||wo?(ai&&r&&ni(t),t.flags|=1,No(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ko(e,t,s))}function Io(e,t,n,r,s){if(Ps(n)){var i=!0;Us(t)}else i=!1;if(Ai(t,s),null===t.stateNode)Wo(e,t),oo(t,n,r),co(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ri(c):c=Rs(t,c=Ps(n)?As:Is.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&lo(t,a,r,c),Mi=!1;var h=t.memoizedState;a.state=h,qi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||js.current||Mi?("function"===typeof u&&(so(t,n,u,r),l=t.memoizedState),(o=Mi||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ri(l):l=Rs(t,l=Ps(n)?As:Is.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&lo(t,a,r,l),Mi=!1,h=t.memoizedState,a.state=h,qi(t,r,a,s);var m=t.memoizedState;o!==d||h!==m||js.current||Mi?("function"===typeof f&&(so(t,n,f,r),m=t.memoizedState),(c=Mi||ao(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return jo(e,t,n,r,i,s)}function jo(e,t,n,r,s,i){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Fs(t,n,!1),Ko(e,t,i);r=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ni(t,e.child,null,i),t.child=Ni(t,null,o,i)):No(e,t,o,i),t.memoizedState=r.state,s&&Fs(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Os(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Os(0,t.context,!1),Ji(e,t.containerInfo)}function Ro(e,t,n,r,s){return pi(),gi(s),t.flags|=256,No(e,t,n,r),t.child}var Po,Do,Oo,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,s=t.pendingProps,a=ta.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cs(ta,1&a),null===e)return di(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Uc(l,s,0,null),e=Mc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Uo(n),t.memoizedState=Mo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=ho(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Uc({mode:"visible",children:r.children},s,0,null),(a=Mc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ni(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=ho(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Al)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Li(e,s),sc(r,e,s,-1))}return vc(),zo(e,t,o,r=ho(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ii=us(s.nextSibling),si=t,ai=!0,oi=null,null!==e&&(Ys[Xs++]=$s,Ys[Xs++]=Zs,Ys[Xs++]=Js,$s=e.id,Zs=e.overflow,Js=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Uo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,s}return e=(o=e.child).sibling,s=Oc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Vo(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&gi(r),Ni(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Ho(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(No(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ho(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===na(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ho(t,!0,n,null,i);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Ps(t.type)&&Ds(),Qo(t),null;case 3:return r=t.stateNode,$i(),Ss(js),Ss(Is),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oi&&(lc(oi),oi=null))),Do(e,t),Qo(t),null;case 5:ea(t);var s=Xi(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Qo(t),null}if(e=Xi(Gi.current),fi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fs]=t,r[ms]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)Fr(Or[s],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":se(r,a),Fr("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fs]=t,e[ms]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),s=r;break;case"iframe":case"object":case"embed":Fr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)Fr(Or[s],e);s=r;break;case"source":Fr("error",e),s=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),s=r;break;case"details":Fr("toggle",e),s=r;break;case"input":X(e,r),s=Y(e,r),Fr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Fr("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Yi.current),Xi(Gi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fs]=t,(a=r.nodeValue!==n)&&null!==(e=si))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fs]=t,t.stateNode=r}return Qo(t),null;case 13:if(Ss(ta),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ii&&0!==(1&t.mode)&&0===(128&t.flags))mi(),pi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fs]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),a=!1}else null!==oi&&(lc(oi),oi=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===Ll&&(Ll=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return $i(),Do(e,t),null===e&&Br(t.stateNode.containerInfo),Qo(t),null;case 10:return Ii(t.type._context),Qo(t),null;case 19:if(Ss(ta),null===(a=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Go(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=na(e))){for(t.flags|=128,Go(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>ql&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ai)return Qo(t),null}else 2*Je()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ta.current,Cs(ta,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xo(e,t){switch(ri(t),t.tag){case 1:return Ps(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $i(),Ss(js),Ss(Is),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(Ss(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(ta),null;case 4:return $i(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Oo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xi(Gi.current);var i,a=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),a=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,$o=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var rl=!1;function sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&nl(t,n,i)}s=s.next}while(s!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fs],delete t[ms],delete t[gs],delete t[vs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,fl=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:$o||tl(n,t);case 6:var r=hl,s=fl;hl=null,ml(e,t,n),fl=s,null!==(hl=r)&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(fl?(e=hl,n=n.stateNode,8===e.nodeType?cs(e.parentNode,n):1===e.nodeType&&cs(e,n),Bt(e)):cs(hl,n.stateNode));break;case 4:r=hl,s=fl,hl=n.stateNode.containerInfo,fl=!0,ml(e,t,n),hl=r,fl=s;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&nl(n,t,a),s=s.next}while(s!==r)}ml(e,t,n);break;case 1:if(!$o&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,ml(e,t,n),$o=r):ml(e,t,n);break;default:ml(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,fl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===hl)throw Error(i(160));pl(a,o,s),hl=null,fl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Sc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{sl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(s,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,u)}switch(l){case"input":$(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(s,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[ms]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Hl=Je())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||d,vl(t,e),$o=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(m=(f=el).child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:tl(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==m?(m.return=f,el=m):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),dl(e,cl(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,cl(e),a);break;default:throw Error(i(161))}}catch(Ms){Sc(e,e.return,Ms)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var s=el,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Jo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Jo;var c=$o;if(Jo=a,($o=l)&&!c)for(el=s;null!==el;)l=(a=el).child,22===a.tag&&null!==a.memoizedState?_l(s):null!==l?(l.return=a,el=l):_l(s);for(;null!==i;)el=i,wl(i,t,n),i=i.sibling;el=s,Jo=o,$o=c}Nl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,el=i):Nl(e)}}function Nl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}$o||512&t.flags&&al(t)}catch(f){Sc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function _l(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(Ms){Sc(t,n,Ms)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(Ms){Sc(t,s,Ms)}}var i=t.return;try{al(t)}catch(Ms){Sc(t,i,Ms)}break;case 5:var a=t.return;try{al(t)}catch(Ms){Sc(t,a,Ms)}}}catch(Ms){Sc(t,t.return,Ms)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var kl,Sl=Math.ceil,Cl=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,jl=0,Al=null,Rl=null,Pl=0,Dl=0,Ol=ks(0),Ll=0,Ml=null,Ul=0,Fl=0,Vl=0,zl=null,Bl=null,Hl=0,ql=1/0,Wl=null,Kl=!1,Gl=null,Ql=null,Yl=!1,Xl=null,Jl=0,$l=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&jl)?Je():-1!==ec?ec:ec=Je()}function rc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Pl?Pl&-Pl:null!==vi.transition?(0===tc&&(tc=pt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function sc(e,t,n,r){if(50<$l)throw $l=0,Zl=null,Error(i(185));vt(e,n,r),0!==(2&jl)&&e===Al||(e===Al&&(0===(2&jl)&&(Fl|=n),4===Ll&&cc(e,Pl)),ic(e,r),1===n&&0===jl&&0===(1&t.mode)&&(ql=Je()+500,zs&&qs()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zs=!0,Hs(e)}(uc.bind(null,e)):Hs(uc.bind(null,e)),os((function(){0===(6&jl)&&qs()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ec=-1,tc=0,0!==(6&jl))throw Error(i(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var s=jl;jl|=2;var a=gc();for(Al===e&&Pl===t||(Wl=null,ql=Je()+500,mc(e,t));;)try{xc();break}catch(l){pc(e,l)}Ti(),Cl.current=a,jl=s,null!==Rl?t=0:(Al=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(r=s,t=oc(e,s))),1===t)throw n=Ml,mc(e,0),cc(e,r),ic(e,Je()),n;if(6===t)cc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=yc(e,r))&&(0!==(a=mt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,mc(e,0),cc(e,r),ic(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Ec(e,Bl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Hl+500-Je())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ss(Ec.bind(null,e,Bl,Wl),t);break}Ec(e,Bl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ss(Ec.bind(null,e,Bl,Wl),r);break}Ec(e,Bl,Wl);break;default:throw Error(i(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&jl))throw Error(i(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,mc(e,0),cc(e,t),ic(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Bl,Wl),ic(e,Je()),null}function dc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(ql=Je()+500,zs&&qs())}}function hc(e){null!==Xl&&0===Xl.tag&&0===(6&jl)&&_c();var t=jl;jl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(jl=t))&&qs()}}function fc(){Dl=Ol.current,Ss(Ol)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,is(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ri(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ds();break;case 3:$i(),Ss(js),Ss(Is),sa();break;case 5:ea(r);break;case 4:$i();break;case 13:case 19:Ss(ta);break;case 10:Ii(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Al=e,Rl=e=Oc(e.current,null),Pl=Dl=t,Ll=0,Ml=null,Vl=Fl=Ul=0,Bl=zl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Pi=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ti(),ia.current=Za,da){for(var r=la.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}da=!1}if(oa=0,ua=ca=la=null,ha=!1,fa=0,Tl.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yo(o);if(null!==m){m.flags&=-257,bo(m,o,l,0,t),1&m.mode&&vo(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){vo(a,u,t),vc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var v=yo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),gi(uo(c,l));break e}}a=c=uo(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,po(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Hi(a,go(a,l,t));break e}}a=a.return}while(null!==a)}Nc(n)}catch(x){t=x,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=Za,null===e?Za:e}function vc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ul)&&0===(268435455&Fl)||cc(Al,Pl)}function yc(e,t){var n=jl;jl|=2;var r=gc();for(Al===e&&Pl===t||(Wl=null,mc(e,t));;)try{bc();break}catch(s){pc(e,s)}if(Ti(),jl=n,Cl.current=r,null!==Rl)throw Error(i(261));return Al=null,Pl=0,Ll}function bc(){for(;null!==Rl;)wc(Rl)}function xc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Rl=t,Tl.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=bt,s=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Xl);if(0!==(6&jl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Al&&(Rl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Ac(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var o=bt;bt=1;var l=jl;jl|=4,Tl.current=null,function(e,t){if(ts=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(es){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ns={focusedElem:e,selectionRange:n},qt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ro(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(es){Sc(t,t.return,es)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}p=rl,rl=!1}(e,n),yl(n,e),mr(ns),qt=!!ts,ns=ts=null,e.current=n,xl(n,e,s),Xe(),jl=l,bt=o,Il.transition=a}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Jl=s),a=e.pendingLanes,0===a&&(Ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Zl?$l++:($l=0,Zl=e):$l=0,qs()}(e,t,n,r)}finally{Il.transition=s,bt=r}return null}function _c(){if(null!==Xl){var e=xt(Jl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&jl))throw Error(i(331));var s=jl;for(jl|=4,el=e.current;null!==el;){var a=el,o=a.child;if(0!==(16&el.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:sl(8,d,a)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var f=(d=el).sibling,m=d.return;if(ol(d),d===u){el=null;break}if(null!==f){f.return=m,el=f;break}el=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,el=o;else e:for(;null!==el;){if(0!==(2048&(a=el).flags))switch(a.tag){case 0:case 11:case 15:sl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,el=y;break e}el=a.return}}var b=e.current;for(el=b;null!==el;){var x=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,el=x;else e:for(o=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(N){Sc(l,l.return,N)}if(l===o){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(jl=s,qs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(N){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function kc(e,t,n){e=zi(e,t=po(0,t=uo(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=zi(t,e=go(t,e=uo(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Je()-Hl?mc(e,0):Vl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Li(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Mc(n.children,s,a,t);case _:o=8,s|=8;break;case k:return(e=Pc(12,n,t,2|s)).elementType=k,e.lanes=a,e;case I:return(e=Pc(13,n,t,s)).elementType=I,e.lanes=a,e;case j:return(e=Pc(19,n,t,s)).elementType=j,e.lanes=a,e;case P:return Uc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case T:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,i,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ui(i),e}function Hc(e){if(!e)return Ts;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ps(n))return Ls(e,n,t)}return t}function qc(e,t,n,r,s,i,a,o,l){return(e=Bc(n,r,!0,e,0,i,0,o,l)).context=Hc(null),n=e.current,(i=Vi(r=nc(),s=rc(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,s),e.current.lanes=s,vt(e,s,r),ic(e,r),e}function Wc(e,t,n,r){var s=t.current,i=nc(),a=rc(s);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zi(s,t,a))&&(sc(e,s,a,i),Bi(e,s,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||js.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),pi();break;case 5:Zi(t);break;case 1:Ps(t.type)&&Us(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(_i,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Cs(ta,1&ta.current),null!==(e=Ko(e,t,n))?e.sibling:null);Cs(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Ko(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ai&&0!==(1048576&t.flags)&&ti(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var s=Rs(t,Is.current);Ai(t,n),s=va(null,t,r,e,s,n);var a=ya();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(r)?(a=!0,Us(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ui(t),s.updater=io,t.stateNode=s,s._reactInternals=t,co(t,r,e,n),t=jo(null,t,r,!0,a,n)):(t.tag=0,ai&&a&&ni(t),No(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ro(r,e),s){case 0:t=To(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,ro(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,To(e,t,r,s=t.elementType===r?s:ro(r,s),n);case 1:return r=t.type,s=t.pendingProps,Io(e,t,r,s=t.elementType===r?s:ro(r,s),n);case 3:e:{if(Ao(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Fi(e,t),qi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,r,n,s=uo(Error(i(423)),t));break e}if(r!==s){t=Ro(e,t,r,n,s=uo(Error(i(424)),t));break e}for(ii=us(t.stateNode.containerInfo.firstChild),si=t,ai=!0,oi=null,n=Ei(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===s){t=Ko(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&di(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,rs(r,s)?o=null:null!==a&&rs(r,a)&&(t.flags|=32),Co(e,t),No(e,t,o,n),t.child;case 6:return null===e&&di(t),null;case 13:return Fo(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ni(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:ro(r,s),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Cs(_i,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!js.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Vi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ji(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ji(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}No(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ai(t,n),r=r(s=Ri(s)),t.flags|=1,No(e,t,r,n),t.child;case 14:return s=ro(r=t.type,t.pendingProps),_o(e,t,r,s=ro(r.type,s),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ro(r,s),Wo(e,t),t.tag=1,Ps(r)?(e=!0,Us(t)):e=!1,Ai(t,n),oo(t,r,s),co(t,r,s,n),jo(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Kc(a);o.call(e)}}Wc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Kc(a);i.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[ps]=a.current,Br(8===e.nodeType?e.parentNode:e),hc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Kc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[ps]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,s,r);return Kc(a)}Jc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[ps]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&jl)&&(ql=Je()+500,qs()))}break;case 13:hc((function(){var t=Li(e,1);if(null!==t){var n=nc();sc(t,e,1,n)}})),Qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)sc(t,e,134217728,nc());Qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=rc(e),n=Li(e,t);if(null!==n)sc(n,e,t,nc());Qc(e,t)}},_t=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ns(r);if(!s)throw Error(i(90));G(r),$(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=dc,Ie=hc;var nu={usingClientEntryPoint:!1,Events:[xs,ws,Ns,Se,Ce,dc]},ru={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},su={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{st=iu.inject(su),it=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(i(299));var n=!1,r="",s=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,Br(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".623f18a7.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="victor-landy-wedding:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/wedding/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkvictor_landy_wedding=self.webpackChunkvictor_landy_wedding||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),s=n(391);function i(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(358);const d=["sri"],h=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return k((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return N("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:E(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function _(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,c=d();function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function f(e){return S(e)}null==c&&(c=0,a.replaceState(u(u({},a.state),{},{idx:c}),""));let m={get action(){return o},get location(){return e(s,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v,h),l=e,()=>{s.removeEventListener(v,h),l=null}},createHref:e=>t(s,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=N(m.location,e,t);n&&n(r,e),c=d()+1;let u=w(r,c),h=m.createHref(r);try{a.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(h)}i&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let r=N(m.location,e,t);n&&n(r,e),c=d();let s=w(r,c),u=m.createHref(r);a.replaceState(s,"",u),i&&l&&l({action:o,location:m.location,delta:0})},go:e=>a.go(e)};return m}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:E(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let s=H(("string"===typeof t?_(t):t).pathname||"/",n);if(null==s)return null;let i=I(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=B(s);a=F(i[o],e,r)}return a}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(b(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let o=Q([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),I(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of j(e.path))s(e,t,r);else s(e,t)})),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=j(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var A=/^:[\w-]+$/,R=3,P=2,D=1,O=10,L=-2,M=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=L),t&&(r+=P),n.filter((e=>!M(e))).reduce(((e,t)=>e+(A.test(t)?R:""===t?D:O)),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:Q([i,u.pathname]),pathnameBase:Y(Q([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Q([i,u.pathnameBase]))}return a}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=z(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function B(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function K(e){let t=W(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function G(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=_(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let i,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?_(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:X(r),hash:J(s)}}(r,i),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext({isTransitioning:!1});re.displayName="ViewTransition";var se=r.createContext(new Map);se.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var ae=r.createContext(null);ae.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var le=r.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function ue(){return null!=r.useContext(oe)}function de(){return b(ue(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(ae).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(le);return e?function(){let{router:e}=Ee("useNavigate"),t=ke("useNavigate"),n=r.useRef(!1);fe((()=>{n.current=!0}));let s=r.useCallback((async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,he),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},s)))}),[e,t]);return s}():function(){b(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(ae),{matches:s}=r.useContext(le),{pathname:i}=de(),a=JSON.stringify(K(s)),o=r.useRef(!1);fe((()=>{o.current=!0}));let l=r.useCallback((function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,he),!o.current)return;if("number"===typeof r)return void n.go(r);let l=G(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)}),[t,n,a,i,e]);return l}()}r.createContext(null);function pe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(le),{pathname:s}=de(),i=JSON.stringify(K(n));return r.useMemo((()=>G(e,JSON.parse(i),s,"path"===t)),[e,i,s,t])}function ge(e,t,n,s){b(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(ae),{matches:a}=r.useContext(le),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Te(c,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=de();if(t){var p;let e="string"===typeof t?_(t):t;b("/"===d||(null===(p=e.pathname)||void 0===p?void 0:p.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let g=f.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=C(e,{pathname:v});x(h||null!=y,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),x(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=we(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Q([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Q([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&w?r.createElement(oe.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function ve(){let e=Se(),t=$(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,o)}var ye=r.createElement(ve,null),be=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(le.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:s}=e,i=r.useContext(te);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(le.Provider,{value:t},s)}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=s.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,o=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,s=o>=0?s.slice(0,o+1):[s[0]];break}}}return s.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||ye,a&&(o<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,c+1)),p=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(xe,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(be,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function Ne(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=r.useContext(te);return b(t,Ne(e)),t}function _e(e){let t=r.useContext(ne);return b(t,Ne(e)),t}function ke(e){let t=function(e){let t=r.useContext(le);return b(t,Ne(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Se(){var e;let t=r.useContext(ce),n=_e("useRouteError"),s=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[s]}var Ce={};function Te(e,t,n){t||Ce[e]||(Ce[e]=!0,x(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return ge(t,void 0,r,n)}));function Ie(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(e){let{basename:t="/",children:n=null,location:s,navigationType:i="POP",navigator:a,static:o=!1}=e;b(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:a,static:o,future:{}})),[l,a,o]);"string"===typeof s&&(s=_(s));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=s,p=r.useMemo((()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:m},navigationType:i}}),[l,u,d,h,f,m,i]);return x(null!=p,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:r.createElement(ae.Provider,{value:c},r.createElement(oe.Provider,{children:n,value:p}))}function Ae(e){let{children:t,location:n}=e;return ge(Re(t),n)}r.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,s)=>{if(!r.isValidElement(e))return;let i=[...t,s];if(e.type===r.Fragment)return void n.push.apply(n,Re(e.props.children,i));b(e.type===Ie,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Re(e.props.children,i)),n.push(a)})),n}var Pe="get",De="application/x-www-form-urlencoded";function Oe(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ue(e){return null==e||Me.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function Fe(e,t){let n,r,s,i,a;if(Oe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?H(a,t):null,n=e.getAttribute("method")||Pe,s=Ue(e.getAttribute("enctype"))||De,i=new FormData(e)}else if(function(e){return Oe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Oe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?H(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Pe,s=Ue(e.getAttribute("formenctype"))||Ue(a.getAttribute("enctype"))||De,i=new FormData(a,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Oe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,s=De,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Be(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function We(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s})).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,s)=>{if(t&&!Be(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e}),[])}function Ge(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Qe=new Set([100,101,204,205]);function Ye(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===H(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function Xe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let s,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if($(t))return r.createElement(Je,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)s=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);s=new Error(e)}return r.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),i)}function Je(e){var t;let{title:n,renderScripts:s,isOutsideRemixApp:i,children:a}=e,{routeModules:o}=nt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,s?r.createElement(ct,null):null)))}function $e(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=r.useContext(te);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=r.useContext(ne);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=r.createContext(void 0);function nt(){let e=r.useContext(tt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function it(e){let{page:t}=e,n=i(e,h),{router:s}=Ze(),a=r.useMemo((()=>C(s.routes,t,s.basename)),[s.routes,t,s.basename]);return a?r.createElement(ot,u({page:t,matches:a},n)):null}function at(e){let{manifest:t,routeModules:n}=nt(),[s,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return Ke((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(He).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),s}function ot(e){let{page:t,matches:n}=e,s=i(e,f),a=de(),{manifest:o,routeModules:l}=nt(),{basename:c}=Ze(),{loaderData:d,matches:h}=et(),m=r.useMemo((()=>qe(t,n,h,o,a,"data")),[t,n,h,o,a]),p=r.useMemo((()=>qe(t,n,h,o,a,"assets")),[t,n,h,o,a]),g=r.useMemo((()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let s=o.routes[t.route.id];s&&s.hasLoader&&(!m.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||s.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let s=Ye(t,c);return r&&e.size>0&&s.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[s.pathname+s.search]}),[c,d,a,o,m,n,t,l]),v=r.useMemo((()=>We(p,o)),[p,o]),y=at(p);return r.createElement(r.Fragment,null,g.map((e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},s)))),v.map((e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},s)))),y.map((e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t},n))})))}tt.displayName="FrameworkContext";var lt=!1;function ct(e){let{manifest:t,serverHandoffString:n,isSpaMode:s,renderMeta:a,routeDiscovery:o,ssr:l}=nt(),{router:c,static:h,staticContext:f}=Ze(),{matches:m}=et(),p=$e(o,l);a&&(a.didRenderScripts=!0);let g=st(m,null,s);r.useEffect((()=>{lt=!0}),[]);let v=r.useMemo((()=>{var s;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==(s=t.hmr)&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),s=t.routes[e.route.id];Ve(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,d),s=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push("/".concat(a.join("/"))),a.pop();o.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>s.add(e.route.id)))}));let l=[...s].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(a),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ge(o),type:"module",async:!0})))}),[]),y=lt?[]:(b=t.entry.imports.concat(We(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let x="object"===typeof t.sri?t.sri:{};return lt?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,p?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),y.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0}))),v)}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.6.2")}catch(zy){}function ht(e){let{basename:t,children:n,window:s}=e,i=r.useRef();null==i.current&&(i.current=y({window:s,v5Compat:!0}));let a=i.current,[o,l]=r.useState({action:a.action,location:a.location}),c=r.useCallback((e=>{r.startTransition((()=>l(e)))}),[l]);return r.useLayoutEffect((()=>a.listen(c)),[a,c]),r.createElement(je,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=r.forwardRef((function(e,t){let n,{onClick:s,discover:a="render",prefetch:o="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:p,preventScrollReset:g,viewTransition:v}=e,y=i(e,m),{basename:w}=r.useContext(ae),N="string"===typeof p&&ft.test(p),_=!1;if("string"===typeof p&&N&&(n=p,dt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=H(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:_=!0}catch(zy){x(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=r.useContext(ae),{hash:i,pathname:a,search:o}=pe(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:Q([n,a])),s.createHref({pathname:l,search:o,hash:i})}(p,{relative:l}),[S,C,T]=function(e,t){let n=r.useContext(tt),[s,i]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(s){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[s]);let m=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:rt(l,m),onBlur:rt(c,p),onMouseEnter:rt(u,m),onMouseLeave:rt(d,p),onTouchStart:rt(h,m)}]:[!1,f,{}]}(o,y),I=function(e){let{target:t,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=pe(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:E(c)===E(u);l(e,{replace:t,state:s,preventScrollReset:i,relative:a,viewTransition:o})}}),[c,l,u,n,s,t,e,i,a,o])}(p,{replace:d,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:v});let j=r.createElement("a",u(u(u({},y),T),{},{href:n||k,onClick:_||c?s:function(e){s&&s(e),e.defaultPrevented||I(e)},ref:ut(t,C),target:f,"data-discover":N||"render"!==a?void 0:"true"}));return S&&!N?r.createElement(r.Fragment,null,j,r.createElement(it,{page:k})):j}));mt.displayName="Link";var pt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,f=i(e,p),m=pe(c,{relative:f.relative}),g=de(),v=r.useContext(ne),{navigator:y,basename:x}=r.useContext(ae),w=null!=v&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yt("useViewTransitionState"),i=pe(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=H(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=H(n.nextLocation.pathname,s)||n.nextLocation.pathname;return null!=V(i.pathname,o)||null!=V(i.pathname,a)}(m)&&!0===d,N=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,E=g.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(E=E.toLowerCase(),_=_?_.toLowerCase():null,N=N.toLowerCase()),_&&x&&(_=H(_,x)||_);const k="/"!==N&&N.endsWith("/")?N.length-1:N.length;let S,C=E===N||!o&&E.startsWith(N)&&"/"===E.charAt(k),T=null!=_&&(_===N||!o&&_.startsWith(N)&&"/"===_.charAt(N.length)),I={isActive:C,isPending:T,isTransitioning:w},j=C?n:void 0;S="function"===typeof a?a(I):[a,C?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(I):l;return r.createElement(mt,u(u({},f),{},{"aria-current":j,className:S,ref:t,style:A,to:c,viewTransition:d}),"function"===typeof h?h(I):h)}));pt.displayName="NavLink";var gt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:s,navigate:a,reloadDocument:o,replace:l,state:c,method:d=Pe,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:v}=e,y=i(e,g),x=wt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ae),s=r.useContext(le);b(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a=u({},pe(e||".",{relative:t})),o=de();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Q([n,a.pathname]));return E(a)}(h,{relative:m}),N="get"===d.toLowerCase()?"get":"post",_="string"===typeof h&&ft.test(h);return r.createElement("form",u(u({ref:t,method:N,action:w,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:s,method:n,navigate:a,replace:l,state:c,relative:m,preventScrollReset:p,viewTransition:v})}},y),{},{"data-discover":_||"render"!==n?void 0:"true"}))}));function vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function yt(e){let t=r.useContext(te);return b(t,vt(e)),t}gt.displayName="Form";var bt=0,xt=()=>"__".concat(String(++bt),"__");function wt(){let{router:e}=yt("useSubmit"),{basename:t}=r.useContext(ae),n=ke("useRouteId");return r.useCallback((async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=Fe(r,t);if(!1===s.navigate){let t=s.fetcherKey||xt();await e.fetch(t,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[e,t,n])}var Nt=n(579);function Et(e){let{language:t,toggleLanguage:n,texts:r}=e;return(0,Nt.jsxs)("header",{className:"bg-white p-6 text-center relative shadow-sm",children:[(0,Nt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 px-4 py-2 bg-[#edafb8] text-white rounded-full text-sm hover:bg-[#edafb8]/80 transition z-10",children:"es"===t?"English":"Espa\xf1ol"}),(0,Nt.jsx)("h1",{className:"text-5xl font-autography text-gray-800 mb-2",children:"Victor & Landy"}),(0,Nt.jsx)("p",{className:"text-gray-600 italic",children:r[t].subtitle})]})}function _t(e){let{language:t,texts:n}=e;const s=de(),[i,a]=(0,r.useState)(!1),o=["/","/our-story","/event-details","/travel","/rsvp","/registry","/gallery","/faq"],l=()=>{a(!1)};return(0,Nt.jsx)("nav",{className:"sticky top-0 bg-white backdrop-blur shadow-md z-50",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Nt.jsxs)("div",{className:"md:hidden flex justify-between items-center py-3",children:[(0,Nt.jsx)("span",{className:"text-lg font-autography text-stone-700",children:"Victor & Landy"}),(0,Nt.jsx)("button",{onClick:()=>{a(!i)},className:"p-2 rounded-md text-stone-700 hover:text-pink-400 hover:bg-gray-50 transition-colors","aria-label":"Toggle menu",children:(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),"        ",(0,Nt.jsx)("ul",{className:"hidden md:flex justify-center gap-2 lg:gap-4 py-4 text-sm flex-wrap",children:n[t].nav.map(((e,t)=>(0,Nt.jsx)("li",{className:"transition",children:(0,Nt.jsx)(mt,{to:o[t],className:"px-2 lg:px-3 py-2 rounded-lg hover:bg-gray-50 transition-all duration-200 whitespace-nowrap ".concat(s.pathname===o[t]?"text-pink-400 bg-pink-50 font-semibold":"text-stone-700 hover:text-pink-400"),children:e})},t)))}),(0,Nt.jsx)("div",{className:"md:hidden transition-all duration-300 ease-in-out ".concat(i?"max-h-96 opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:(0,Nt.jsx)("ul",{className:"py-2 space-y-1",children:n[t].nav.map(((e,t)=>(0,Nt.jsx)("li",{children:(0,Nt.jsx)(mt,{to:o[t],onClick:l,className:"block px-4 py-3 rounded-lg transition-all duration-200 ".concat(s.pathname===o[t]?"text-pink-400 bg-pink-50 font-semibold border-l-4 border-pink-400":"text-stone-700 hover:text-pink-400 hover:bg-gray-50"),children:e})},t)))})})]})})}function kt(e){let{language:t,toggleLanguage:n}=e;return(0,Nt.jsx)("footer",{className:"bg-[#4a5759] text-[#f7e1d7] py-12 px-6",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("h3",{className:"text-2xl font-dancing-script mb-4",children:"Victor & Landy"}),(0,Nt.jsx)("div",{className:"flex justify-center items-center gap-4 mb-4",children:(0,Nt.jsx)("button",{onClick:n,className:"text-[#edafb8] hover:text-white transition",children:"es"===t?"English":"Espa\xf1ol"})})]}),(0,Nt.jsx)("div",{className:"border-t border-[#f7e1d7]/20 pt-6",children:(0,Nt.jsx)("p",{className:"text-sm opacity-70",children:"Hecho con amor por Victor & Landy \u2022 M\xe9rida, Yucat\xe1n \u2022 14 de Febrero, 2026"})})]})})}const St=n.p+"static/media/hero.264311f4ed0cb5ec9932.png",Ct=n.p+"static/media/rightSideFlower.b0b35cc5796a6d6c23b9.png";function Tt(e){let{language:t,texts:n,toggleLanguage:s}=e;const[i,a]=(0,r.useState)({}),[o,l]=(0,r.useState)(0),c=me(),u=[{url:"/api/placeholder/800/600",caption:"es"===t?"Nuestra foto de compromiso":"Our engagement photo"},{url:"/api/placeholder/800/600",caption:"es"===t?"En las calles de M\xe9rida":"In the streets of M\xe9rida"},{url:"/api/placeholder/800/600",caption:"es"===t?"Celebrando nuestro amor":"Celebrating our love"}];return(0,r.useEffect)((()=>{const e=new Date("2026-02-14T00:00:00"),t=setInterval((()=>{const t=(new Date).getTime(),n=e-t;a({days:Math.floor(n/864e5),hours:Math.floor(n%864e5/36e5),minutes:Math.floor(n%36e5/6e4),seconds:Math.floor(n%6e4/1e3)})}),1e3);return()=>clearInterval(t)}),[]),(0,r.useEffect)((()=>{const e=setInterval((()=>{l((e=>e===u.length-1?0:e+1))}),4e3);return()=>clearInterval(e)}),[u.length]),(0,Nt.jsxs)("div",{className:"min-h-screen",children:[(0,Nt.jsxs)("section",{className:"relative h-screen w-full overflow-hidden",children:[(0,Nt.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(St,")"),backgroundPosition:"center center",backgroundSize:"cover"}}),(0,Nt.jsx)("div",{className:"absolute top-6 right-6 z-20",children:(0,Nt.jsx)("button",{onClick:s,className:"px-4 py-2 bg-white/90 backdrop-blur text-gray-800 rounded-full text-sm hover:bg-white transition shadow-lg",children:"es"===t?"English":"Espa\xf1ol"})}),(0,Nt.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10",children:(0,Nt.jsx)("div",{className:"animate-bounce",children:(0,Nt.jsx)("svg",{className:"w-8 h-8 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]}),(0,Nt.jsx)(_t,{language:t,texts:n}),"      ",(0,Nt.jsxs)("section",{className:"relative py-20 px-6 text-center bg-white overflow-hidden",children:[(0,Nt.jsx)("div",{className:"absolute inset-0 z-0",children:(0,Nt.jsx)("div",{className:"relative w-full h-full",children:u.map(((e,t)=>(0,Nt.jsxs)("div",{className:"absolute inset-0 transition-opacity duration-1000 ".concat(t===o?"opacity-10":"opacity-0"),children:["                ",(0,Nt.jsx)("div",{className:"w-full h-full bg-stone-100/30 flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"text-8xl opacity-30 text-stone-400",children:"\ud83d\udcf8"})})]},t)))})}),"        ",(0,Nt.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,Nt.jsx)("div",{className:"absolute top-20 left-10 text-2xl text-pink-300/40 animate-bounce",style:{animationDelay:"0s"},children:"\ud83d\udc95"}),(0,Nt.jsx)("div",{className:"absolute top-32 right-16 text-xl text-stone-400/40 animate-bounce",style:{animationDelay:"1s"},children:"\ud83d\udc96"}),(0,Nt.jsx)("div",{className:"absolute bottom-40 left-20 text-lg text-pink-300/40 animate-bounce",style:{animationDelay:"2s"},children:"\ud83d\udc9d"}),(0,Nt.jsx)("div",{className:"absolute bottom-20 right-10 text-xl text-stone-400/40 animate-bounce",style:{animationDelay:"1.5s"},children:"\ud83d\udc97"})]}),"        ",(0,Nt.jsxs)("div",{className:"relative z-10",children:[(0,Nt.jsx)("h2",{className:"text-5xl md:text-6xl font-autography text-stone-700 mb-6",children:n[t].welcome}),(0,Nt.jsx)("p",{className:"mt-4 max-w-3xl mx-auto whitespace-pre-line text-lg leading-relaxed text-stone-600 bg-white/80 backdrop-blur rounded-xl p-6 shadow-sm border border-stone-200",children:n[t].intro}),"            ",(0,Nt.jsxs)("div",{className:"mt-12 bg-white backdrop-blur rounded-3xl p-8 max-w-2xl mx-auto shadow-lg border border-stone-200",children:[(0,Nt.jsx)("h3",{className:"text-3xl font-autography text-stone-700 mb-6",children:n[t].countdown}),(0,Nt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(i).map((e=>{let[r,s]=e;return(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-4xl font-bold text-stone-600 mb-2 bg-stone-50 rounded-xl py-3 border border-stone-100",children:s||0}),(0,Nt.jsx)("div",{className:"text-sm text-stone-600 uppercase tracking-wider font-semibold",children:n[t][r]})]},r)}))})]})]})]}),"      ",(0,Nt.jsxs)("section",{className:"py-16 px-6 bg-gray-50",children:[(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto",children:["          ",(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsx)("h3",{className:"text-4xl font-autography text-stone-700 mb-4",children:"es"===t?"Detalles del Evento":"Event Details"}),(0,Nt.jsx)("div",{className:"w-16 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:["            ","            ",(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-stone-200 text-center hover:transform hover:scale-105 transition-all duration-300 hover:shadow-xl",children:[(0,Nt.jsx)("div",{className:"text-5xl mb-4",children:"\u26ea"}),(0,Nt.jsx)("h4",{className:"text-2xl font-autography text-stone-700 mb-3",children:"es"===t?"Ceremonia":"Ceremony"}),(0,Nt.jsx)("p",{className:"text-stone-600 font-semibold mb-2",children:"es"===t?"S\xe1bado 14 de Febrero":"Saturday February 14"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"4:00 PM"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-sm mt-2",children:"Seminario Menor San Felipe de Jes\xfas"})]}),"            ",(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-pink-200 text-center hover:transform hover:scale-105 transition-all duration-300 hover:shadow-xl",children:[(0,Nt.jsx)("div",{className:"text-5xl mb-4",children:"\ud83e\udd42"}),(0,Nt.jsx)("h4",{className:"text-2xl font-autography text-stone-700 mb-3",children:"es"===t?"Recepci\xf3n":"Reception"}),(0,Nt.jsx)("p",{className:"text-pink-500 font-semibold mb-2",children:"es"===t?"S\xe1bado 14 de Febrero":"Saturday February 14"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"6:00 PM"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-sm mt-2",children:"Hacienda Chaka"})]}),"            ",(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-stone-200 text-center hover:transform hover:scale-105 transition-all duration-300 hover:shadow-xl",children:[(0,Nt.jsx)("div",{className:"text-5xl mb-4",children:"\ud83c\udf89"}),(0,Nt.jsx)("h4",{className:"text-2xl font-autography text-stone-700 mb-3",children:"es"===t?"Torna-Boda":"Next Day Party"}),(0,Nt.jsx)("p",{className:"text-stone-600 font-semibold mb-2",children:"es"===t?"Domingo 15 de Febrero":"Sunday February 15"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"1:00 PM"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-sm mt-2",children:"es"===t?"Lugar por confirmar":"Venue TBD"})]})]})]}),"      "]}),"      ",(0,Nt.jsx)("div",{className:"relative overflow-hidden",children:(0,Nt.jsx)("div",{className:"absolute -top-16 -right-12 z-10 hidden lg:block",children:(0,Nt.jsx)("img",{src:Ct,alt:"Decorative flower",className:"w-72 h-96 opacity-90 transform rotate-12 drop-shadow-lg"})})}),(0,Nt.jsx)("section",{className:"py-16 px-6 bg-white relative",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsx)("h3",{className:"text-4xl font-autography text-stone-700 mb-4",children:"es"===t?"Conoce a la Pareja":"Meet the Couple"}),(0,Nt.jsx)("div",{className:"w-16 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-12",children:["            ",(0,Nt.jsxs)("div",{className:"text-center",children:["              ",(0,Nt.jsx)("div",{className:"w-64 h-64 mx-auto mb-6 bg-stone-100 rounded-full flex items-center justify-center border-4 border-stone-200 shadow-lg",children:(0,Nt.jsx)("div",{className:"text-6xl",children:"\ud83d\udc68\u200d\ud83d\udcbc"})}),(0,Nt.jsx)("h4",{className:"text-3xl font-autography text-stone-700 mb-3",children:"Victor"}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-stone-200",children:[(0,Nt.jsx)("p",{className:"text-stone-600 mb-4",children:"es"===t?"Ingeniero apasionado por la tecnolog\xeda y los viajes. Le encanta explorar nuevas culturas y crear memorias inolvidables.":"An engineer passionate about technology and travel. He loves exploring new cultures and creating unforgettable memories."}),(0,Nt.jsxs)("div",{className:"flex justify-center gap-4 text-sm text-stone-500",children:[(0,Nt.jsxs)("span",{children:["\ud83c\udfaf ","es"===t?"Tecnolog\xeda":"Technology"]}),(0,Nt.jsxs)("span",{children:["\u2708\ufe0f ","es"===t?"Viajes":"Travel"]}),(0,Nt.jsxs)("span",{children:["\ud83d\udcda ","es"===t?"Lectura":"Reading"]})]})]})]}),(0,Nt.jsxs)("div",{className:"text-center",children:["              ",(0,Nt.jsx)("div",{className:"w-64 h-64 mx-auto mb-6 bg-pink-100 rounded-full flex items-center justify-center border-4 border-pink-200 shadow-lg",children:(0,Nt.jsx)("div",{className:"text-6xl",children:"\ud83d\udc69\u200d\ud83c\udfa8"})}),(0,Nt.jsx)("h4",{className:"text-3xl font-autography text-stone-700 mb-3",children:"Landy"}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-pink-200",children:[(0,Nt.jsx)("p",{className:"text-stone-600 mb-4",children:"es"===t?"Artista creativa con un coraz\xf3n lleno de amor por la familia y los momentos especiales. Siempre encuentra la belleza en los detalles.":"A creative artist with a heart full of love for family and special moments. She always finds beauty in the details."}),(0,Nt.jsxs)("div",{className:"flex justify-center gap-4 text-sm text-pink-500",children:[(0,Nt.jsxs)("span",{children:["\ud83c\udfa8 ","es"===t?"Arte":"Art"]}),(0,Nt.jsxs)("span",{children:["\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 ","es"===t?"Familia":"Family"]}),(0,Nt.jsxs)("span",{children:["\ud83c\udf38 ","es"===t?"Naturaleza":"Nature"]})]})]})]})]}),"        "]})}),(0,Nt.jsx)("section",{className:"py-16 px-6 bg-gray-50",children:(0,Nt.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:["            ",(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-stone-200",children:["              ",(0,Nt.jsxs)("div",{className:"text-center mb-6",children:[(0,Nt.jsx)("div",{className:"text-5xl mb-4",children:"\u2600\ufe0f"}),(0,Nt.jsx)("h4",{className:"text-2xl font-autography text-stone-700 mb-2",children:"es"===t?"Clima en Febrero":"February Weather"}),(0,Nt.jsx)("div",{className:"w-12 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center bg-stone-50 rounded-xl p-3 border border-stone-100",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"Temperatura":"Temperature"}),(0,Nt.jsx)("span",{className:"font-semibold text-stone-600",children:"25-30\xb0C"})]}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center bg-stone-50 rounded-xl p-3 border border-stone-100",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"Clima":"Weather"}),(0,Nt.jsx)("span",{className:"font-semibold text-stone-600",children:"es"===t?"Soleado y seco":"Sunny & dry"})]}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center bg-stone-50 rounded-xl p-3 border border-stone-100",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"Recomendaci\xf3n":"Recommendation"}),(0,Nt.jsx)("span",{className:"font-semibold text-stone-600",children:"es"===t?"Ropa ligera":"Light clothing"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-pink-200",children:["              ",(0,Nt.jsxs)("div",{className:"text-center mb-6",children:[(0,Nt.jsx)("div",{className:"text-5xl mb-4",children:"\u2708\ufe0f"}),(0,Nt.jsx)("h4",{className:"text-2xl font-autography text-stone-700 mb-2",children:"es"===t?"\xbfVienes de lejos?":"Coming from afar?"}),(0,Nt.jsx)("div",{className:"w-12 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-6 text-center",children:"es"===t?"Te ayudamos con toda la informaci\xf3n que necesitas para llegar a M\xe9rida y disfrutar tu estancia al m\xe1ximo.":"We help you with all the information you need to get to M\xe9rida and enjoy your stay to the fullest."}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-3 text-stone-500",children:[(0,Nt.jsx)("span",{className:"text-xl",children:"\ud83c\udfe8"}),(0,Nt.jsx)("span",{children:"es"===t?"Hoteles recomendados":"Recommended hotels"})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-3 text-stone-500",children:[(0,Nt.jsx)("span",{className:"text-xl",children:"\ud83d\ude97"}),(0,Nt.jsx)("span",{children:"es"===t?"Transporte local":"Local transportation"})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-3 text-stone-500",children:[(0,Nt.jsx)("span",{className:"text-xl",children:"\ud83d\udccd"}),(0,Nt.jsx)("span",{children:"es"===t?"Lugares de inter\xe9s":"Points of interest"})]})]}),(0,Nt.jsx)("button",{onClick:()=>c("/travel"),className:"w-full mt-6 bg-stone-600 text-white py-3 px-6 rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-300 hover:bg-stone-700",children:"es"===t?"Ver Informaci\xf3n de Viaje":"See Travel Information"})]})]})})}),"      ",(0,Nt.jsx)("section",{className:"py-16 px-6 bg-white",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:["          ",(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udc8c"}),(0,Nt.jsx)("h3",{className:"text-4xl font-autography text-stone-700 mb-6",children:"es"===t?"\xa1Confirma tu Asistencia!":"Please RSVP!"}),(0,Nt.jsx)("p",{className:"text-xl text-stone-600 mb-8",children:"es"===t?"Tu presencia har\xeda nuestro d\xeda a\xfan m\xe1s especial. Por favor confirma tu asistencia antes del 1 de enero de 2026.":"Your presence would make our day even more special. Please confirm your attendance before January 1, 2026."}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,Nt.jsx)("button",{onClick:()=>c("/rsvp"),className:"bg-pink-400 text-white py-4 px-8 rounded-xl text-xl font-semibold hover:shadow-xl transform hover:scale-105 transition-all duration-300 hover:bg-pink-500",children:"es"===t?"\u2709\ufe0f Confirmar Asistencia":"\u2709\ufe0f RSVP Now"}),(0,Nt.jsx)("div",{className:"bg-stone-50 rounded-xl p-4 flex items-center justify-center border border-stone-200",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcf1"}),(0,Nt.jsx)("p",{className:"text-stone-700 font-semibold mb-1",children:"#VictorYLandy2026"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-sm",children:"es"===t?"Comparte tus fotos":"Share your photos"})]})})]}),(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsx)("p",{className:"text-stone-500 text-sm",children:"es"===t?"Con amor, Victor & Landy \ud83d\udc95":"With love, Victor & Landy \ud83d\udc95"})})]})]})})]})}function It(e){let{language:t,texts:n}=e;const r=[{date:"es"===t?"Marzo 2018":"March 2018",title:"es"===t?"Nuestro Primer Encuentro":"Our First Meeting",description:"es"===t?"Fue amor a primera vista en aquella cafeter\xeda universitaria":"It was love at first sight in that university caf\xe9",side:"left"},{date:"es"===t?"Julio 2018":"July 2018",title:"es"===t?"Primera Cita Oficial":"Our First Official Date",description:"es"===t?"Una cena rom\xe1ntica que cambi\xf3 nuestras vidas para siempre":"A romantic dinner that changed our lives forever",side:"right"},{date:"es"===t?"Diciembre 2018":"December 2018",title:"es"===t?"Oficialmente Novios":"Officially a Couple",description:"es"===t?"El momento en que decidimos estar juntos para siempre":"The moment we decided to be together forever",side:"left"},{date:"es"===t?"Junio 2019":"June 2019",title:"es"===t?"Nuestro Primer Viaje":"Our First Trip Together",description:"es"===t?"Descubriendo el mundo juntos en las playas de Canc\xfan":"Discovering the world together on the beaches of Canc\xfan",side:"right"},{date:"es"===t?"Enero 2020":"January 2020",title:"es"===t?"Viviendo Juntos":"Moving in Together",description:"es"===t?"Comenzamos nuestra vida en com\xfan en nuestro primer hogar":"We started our life together in our first home",side:"left"},{date:"es"===t?"Agosto 2020":"August 2020",title:"es"===t?"Adoptamos a Luna":"We Adopted Luna",description:"es"===t?'Nuestra primera "hija" peluda se uni\xf3 a la familia':'Our first furry "daughter" joined the family',side:"right"},{date:"es"===t?"Febrero 2021":"February 2021",title:"es"===t?"Conociendo M\xe9rida":"Discovering M\xe9rida",description:"es"===t?"Nos enamoramos de esta hermosa ciudad yucateca":"We fell in love with this beautiful Yucatecan city",side:"left"},{date:"es"===t?"Septiembre 2022":"September 2022",title:"es"===t?"Graduaci\xf3n":"Graduation",description:"es"===t?"Celebramos nuestros logros acad\xe9micos juntos":"We celebrated our academic achievements together",side:"right"},{date:"es"===t?"Marzo 2023":"March 2023",title:"es"===t?"Nuevos Trabajos":"New Jobs",description:"es"===t?"Comenzamos nuestras carreras profesionales":"We started our professional careers",side:"left"},{date:"es"===t?"Octubre 2023":"October 2023",title:"es"===t?"Aniversario de 5 A\xf1os":"5 Year Anniversary",description:"es"===t?"Celebrando medio d\xe9cada de amor incondicional":"Celebrating half a decade of unconditional love",side:"right"},{date:"es"===t?"Abril 2024":"April 2024",title:"es"===t?"La Propuesta":"The Proposal",description:"es"===t?"El momento m\xe1s m\xe1gico de nuestras vidas en M\xe9rida":"The most magical moment of our lives in M\xe9rida",side:"left"},{date:"es"===t?"Febrero 2026":"February 2026",title:"es"===t?"\xa1Nuestra Boda!":"Our Wedding!",description:"es"===t?"El d\xeda que oficializaremos nuestro amor eterno":"The day we make our eternal love official",side:"right"}];return(0,Nt.jsx)("div",{className:"min-h-screen py-8 md:py-16 px-4 md:px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-12 md:mb-16",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-5xl md:text-6xl mb-4 md:mb-6",children:"\ud83d\udc95"}),(0,Nt.jsx)("h1",{className:"text-3xl md:text-5xl font-autography text-stone-700 mb-4 md:mb-6 px-4",children:n[t].ourStory.title}),(0,Nt.jsx)("p",{className:"text-lg md:text-xl text-stone-600 max-w-3xl mx-auto px-4",children:"es"===t?"Un viaje de amor que comenz\xf3 con una sonrisa y continuar\xe1 para toda la vida":"A love journey that started with a smile and will continue for a lifetime"})]}),(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("div",{className:"hidden md:block absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-pink-400 rounded-full"}),(0,Nt.jsx)("div",{className:"md:hidden absolute left-6 top-0 w-1 h-full bg-pink-400 rounded-full"}),(0,Nt.jsx)("div",{className:"space-y-8 md:space-y-16",children:r.map(((e,t)=>(0,Nt.jsxs)("div",{className:"relative ".concat("md:flex md:items-center "+("left"===e.side?"md:justify-start":"md:justify-end")),children:[(0,Nt.jsx)("div",{className:"absolute w-6 h-6 bg-pink-400 rounded-full border-4 border-white shadow-lg z-10 ".concat("left-3 md:left-1/2 md:transform md:-translate-x-1/2")}),(0,Nt.jsx)("div",{className:"".concat("ml-12 md:ml-0 md:w-5/12 "+("left"===e.side?"md:pr-8":"md:pl-8")),children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl p-4 md:p-6 shadow-lg border border-stone-200 ".concat("right"===e.side?"md:ml-auto":""),children:[(0,Nt.jsx)("div",{className:"w-full h-32 md:h-48 bg-stone-50 rounded-xl mb-4 flex items-center justify-center border border-stone-200",children:(0,Nt.jsx)("span",{className:"text-4xl md:text-6xl",children:"\ud83d\udcf8"})}),(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-2",children:e.date}),(0,Nt.jsx)("h4",{className:"text-base md:text-lg font-semibold text-pink-400 mb-3",children:e.title}),(0,Nt.jsx)("p",{className:"text-sm md:text-base text-stone-600 leading-relaxed",children:e.description})]})})]},t)))})]}),"        ",(0,Nt.jsxs)("div",{className:"text-center mt-12 md:mt-20 bg-white rounded-2xl p-6 md:p-8 border border-stone-200 shadow-lg mx-4 md:mx-0",children:[(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-4",children:"es"===t?"\xa1Y la historia contin\xfaa!":"And the story continues!"}),(0,Nt.jsx)("p",{className:"text-sm md:text-base text-stone-600",children:"es"===t?"Cada d\xeda escribimos nuevas p\xe1ginas de nuestra historia de amor, y no podemos esperar a compartir el pr\xf3ximo cap\xedtulo contigo en M\xe9rida.":"Every day we write new pages of our love story, and we can't wait to share the next chapter with you in M\xe9rida."})]})]})})}function jt(e){let{language:t,texts:n}=e;const r=e=>"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e+" M\xe9rida Yucat\xe1n"));return(0,Nt.jsx)("div",{className:"min-h-screen py-8 md:py-16 px-4 md:px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-12 md:mb-16",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-5xl md:text-6xl mb-4 md:mb-6",children:"\ud83d\udc92"}),(0,Nt.jsx)("h1",{className:"text-3xl md:text-5xl font-autography text-stone-700 mb-4 md:mb-6 px-4",children:n[t].eventDetails.title}),(0,Nt.jsx)("p",{className:"text-lg md:text-xl text-stone-600 max-w-3xl mx-auto px-4",children:"es"===t?"Celebraremos nuestro amor durante dos d\xedas m\xe1gicos en M\xe9rida, Yucat\xe1n":"We will celebrate our love during two magical days in M\xe9rida, Yucat\xe1n"})]}),"        ",(0,Nt.jsxs)("div",{className:"mb-12 md:mb-16",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8 md:mb-12",children:[(0,Nt.jsx)("div",{className:"inline-block bg-stone-600 text-white px-6 md:px-8 py-2 md:py-3 rounded-full text-lg md:text-xl font-semibold mb-4",children:"es"===t?"S\xe1bado 14 de Febrero, 2026":"Saturday February 14, 2026"}),(0,Nt.jsx)("h2",{className:"text-2xl md:text-3xl font-autography text-stone-700",children:"es"===t?"D\xeda de la Ceremonia":"Ceremony Day"})]}),(0,Nt.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6 md:gap-8 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-4xl md:text-5xl mb-4",children:"\u26ea"}),(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-2",children:"es"===t?"Ceremonia Religiosa":"Religious Ceremony"}),(0,Nt.jsx)("div",{className:"w-16 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"space-y-4 text-center mb-6",children:[(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 border border-stone-200",children:[(0,Nt.jsx)("p",{className:"text-xl md:text-2xl font-bold text-stone-700",children:"4:00 PM"}),(0,Nt.jsx)("p",{className:"text-stone-500",children:"es"===t?"Hora de inicio":"Start time"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-base md:text-lg font-semibold text-stone-700 mb-2",children:"Seminario Menor San Felipe de Jes\xfas"}),(0,Nt.jsx)("p",{className:"text-stone-500",children:"M\xe9rida, Yucat\xe1n"})]})]}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("div",{className:"w-full h-40 md:h-48 bg-stone-50 rounded-xl border border-stone-200 flex items-center justify-center mb-4",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl md:text-4xl mb-2",children:"\ud83d\uddfa\ufe0f"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-sm",children:"es"===t?"Mapa del Seminario":"Seminary Map"})]})}),(0,Nt.jsx)("button",{onClick:()=>window.open(r("Seminario Menor San Felipe de Jes\xfas"),"_blank"),className:"w-full bg-stone-600 hover:bg-stone-700 text-white py-2 md:py-3 px-4 md:px-6 rounded-xl font-semibold transition-colors duration-300",children:"es"===t?"\ud83d\udccd C\xf3mo llegar":"\ud83d\udccd Get Directions"})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-lg border border-pink-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-4xl md:text-5xl mb-4",children:"\ud83e\udd42"}),(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-2",children:"es"===t?"Recepci\xf3n y Fiesta":"Reception & Party"}),(0,Nt.jsx)("div",{className:"w-16 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"space-y-4 text-center mb-6",children:[(0,Nt.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 border border-pink-200",children:[(0,Nt.jsx)("p",{className:"text-xl md:text-2xl font-bold text-stone-700",children:"6:00 PM"}),(0,Nt.jsx)("p",{className:"text-stone-500",children:"es"===t?"Aproximadamente":"Approximately"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-base md:text-lg font-semibold text-stone-700 mb-2",children:"Hacienda Chaka"}),(0,Nt.jsx)("p",{className:"text-stone-500",children:"M\xe9rida, Yucat\xe1n"})]})]}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("div",{className:"w-full h-40 md:h-48 bg-stone-50 rounded-xl border border-stone-200 flex items-center justify-center mb-4",children:(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-3xl md:text-4xl mb-2",children:"\ud83d\uddfa\ufe0f"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-sm",children:"es"===t?"Mapa de Hacienda Chaka":"Hacienda Chaka Map"})]})}),(0,Nt.jsx)("button",{onClick:()=>window.open(r("Hacienda Chaka"),"_blank"),className:"w-full bg-pink-400 hover:bg-pink-500 text-white py-2 md:py-3 px-4 md:px-6 rounded-xl font-semibold transition-colors duration-300",children:"es"===t?"\ud83d\udccd C\xf3mo llegar":"\ud83d\udccd Get Directions"})]})]})]})]}),"        ",(0,Nt.jsxs)("div",{className:"mb-12 md:mb-16",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8 md:mb-12",children:[(0,Nt.jsx)("div",{className:"inline-block bg-pink-400 text-white px-6 md:px-8 py-2 md:py-3 rounded-full text-lg md:text-xl font-semibold mb-4",children:"es"===t?"Domingo 15 de Febrero, 2026":"Sunday February 15, 2026"}),(0,Nt.jsx)("h2",{className:"text-2xl md:text-3xl font-autography text-stone-700",children:"es"===t?"Torna-Boda":"Next Day Party"})]}),"          ",(0,Nt.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-lg border border-pink-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-4xl md:text-5xl mb-4",children:"\ud83c\udf89"}),(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-2",children:"es"===t?"Torna-Boda":"Next Day Celebration"}),(0,Nt.jsx)("div",{className:"w-16 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"space-y-4 text-center mb-6",children:[(0,Nt.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 border border-pink-200",children:[(0,Nt.jsx)("p",{className:"text-xl md:text-2xl font-bold text-stone-700",children:"1:00 PM"}),(0,Nt.jsx)("p",{className:"text-stone-500",children:"es"===t?"Hora de inicio":"Start time"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"text-base md:text-lg font-semibold text-stone-700 mb-2",children:"es"===t?"Lugar por confirmar":"Venue TBD"}),(0,Nt.jsx)("p",{className:"text-stone-500",children:"es"===t?"Les avisaremos pronto sobre la ubicaci\xf3n":"We will let you know the location soon"})]})]}),(0,Nt.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 text-center border border-stone-200",children:(0,Nt.jsx)("p",{className:"text-stone-600 text-sm",children:"es"===t?"\xa1M\xe1s informaci\xf3n pr\xf3ximamente!":"More information coming soon!"})})]})})]}),"        ",(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6 md:mb-8",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-4xl md:text-5xl mb-4",children:"\ud83d\udc57"}),(0,Nt.jsx)("h3",{className:"text-2xl md:text-3xl font-autography text-stone-700 mb-4",children:"es"===t?"C\xf3digo de Vestimenta":"Dress Code"}),(0,Nt.jsx)("div",{className:"w-20 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:[(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 md:p-6 mb-4 border border-stone-200",children:[(0,Nt.jsx)("h4",{className:"text-lg md:text-xl font-semibold text-stone-700 mb-2",children:"es"===t?"Ceremonia Religiosa":"Religious Ceremony"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"Formal / Cocktail"})]})}),(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 md:p-6 mb-4 border border-stone-200",children:[(0,Nt.jsx)("h4",{className:"text-lg md:text-xl font-semibold text-stone-700 mb-2",children:"es"===t?"Recepci\xf3n y Torna-Boda":"Reception & Next Day Party"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"Semi-formal / Guayabera"})]})})]}),(0,Nt.jsx)("div",{className:"text-center mt-4 md:mt-6",children:(0,Nt.jsx)("p",{className:"text-stone-500 text-sm",children:"es"===t?"Por favor, considera el clima c\xe1lido de Yucat\xe1n al elegir tu atuendo":"Please consider Yucat\xe1n's warm climate when choosing your outfit"})})]})]})})}function At(e){let{language:t,texts:n}=e;const[s,i]=(0,r.useState)(null),a=[{id:"centro-historico",name:"Centro Hist\xf3rico",nameEn:"Historic Center",description:"Arquitectura colonial y plazas hermosas",descriptionEn:"Colonial architecture and beautiful plazas",icon:"\ud83c\udfdb\ufe0f",duration:"es"===t?"2-3 horas":"2-3 hours",distance:"es"===t?"En el centro de la ciudad":"In the city center",highlights:"es"===t?["Plaza Grande (Z\xf3calo)","Catedral de San Ildefonso","Casa de Montejo","Palacio del Gobierno","Mercado Lucas de G\xe1lvez"]:["Plaza Grande (Main Square)","Cathedral of San Ildefonso","Casa de Montejo","Government Palace","Lucas de G\xe1lvez Market"],tips:"es"===t?["Mejor visitarlo temprano en la ma\xf1ana o al atardecer","Los domingos hay eventos culturales gratuitos","Perfecto para caminar y tomar fotos"]:["Best visited early morning or at sunset","Free cultural events on Sundays","Perfect for walking and photography"]},{id:"chichen-itza",name:"Chichen Itz\xe1",nameEn:"Chichen Itza",description:"Una de las 7 maravillas del mundo moderno",descriptionEn:"One of the 7 wonders of the modern world",icon:"\ud83c\udffa",duration:"es"===t?"D\xeda completo":"Full day",distance:"es"===t?"2 horas desde M\xe9rida":"2 hours from M\xe9rida",highlights:"es"===t?["Pir\xe1mide de Kukulk\xe1n (El Castillo)","Gran Juego de Pelota","Templo de los Guerreros","Cenote Sagrado","Observatorio (El Caracol)"]:["Kukulkan Pyramid (El Castillo)","Great Ball Court","Temple of Warriors","Sacred Cenote","Observatory (El Caracol)"],tips:"es"===t?["Lleva protector solar y sombrero","Mejor ir temprano para evitar multitudes","Considera un tour guiado para aprender m\xe1s","Lleva agua y snacks"]:["Bring sunscreen and hat","Go early to avoid crowds","Consider a guided tour to learn more","Bring water and snacks"]},{id:"cenotes",name:"Cenotes",nameEn:"Cenotes",description:"Piscinas naturales sagradas de los mayas",descriptionEn:"Sacred natural pools of the Maya",icon:"\ud83d\udca7",duration:"es"===t?"3-4 horas":"3-4 hours",distance:"es"===t?"30 min - 1 hora desde M\xe9rida":"30 min - 1 hour from M\xe9rida",highlights:["Cenote Xlacah (Dzibilchalt\xfan)","Cenote San Ignacio","Cenote Yokdzonot","Cenote Sambul\xe1","Cenote Chelent\xfan"],tips:"es"===t?["Trae traje de ba\xf1o y toalla","Usa protector solar biodegradable","Lleva zapatos acu\xe1ticos","Perfecto para refrescarse del calor"]:["Bring swimsuit and towel","Use biodegradable sunscreen","Bring water shoes","Perfect to cool off from the heat"]},{id:"gastronomia",name:"Gastronom\xeda Yucateca",nameEn:"Yucatecan Cuisine",description:"Cochinita pibil, sopa de lima y m\xe1s",descriptionEn:"Cochinita pibil, lime soup, and more",icon:"\ud83c\udf2e",duration:"es"===t?"Todo el d\xeda":"All day",distance:"es"===t?"En toda la ciudad":"Throughout the city",highlights:"es"===t?["Cochinita Pibil","Sopa de Lima","Poc Chuc","Panuchos y Salbutes","Marquesitas"]:["Cochinita Pibil","Lime Soup","Poc Chuc","Panuchos and Salbutes","Marquesitas"],tips:"es"===t?["Prueba el mercado Lucas de G\xe1lvez","Restaurante Apoala para alta cocina yucateca","La Chaya Maya para comida tradicional","No te pierdas las marquesitas de postre"]:["Try Lucas de G\xe1lvez market","Apoala restaurant for fine Yucatecan cuisine","La Chaya Maya for traditional food","Don't miss marquesitas for dessert"]},{id:"uxmal",name:"Uxmal",nameEn:"Uxmal",description:"Sitio arqueol\xf3gico con arquitectura Puuc",descriptionEn:"Archaeological site with Puuc architecture",icon:"\ud83c\udfdb\ufe0f",duration:"es"===t?"Medio d\xeda":"Half day",distance:"es"===t?"1 hora desde M\xe9rida":"1 hour from M\xe9rida",highlights:"es"===t?["Pir\xe1mide del Adivino","Cuadr\xe1ngulo de las Monjas","Palacio del Gobernador","Casa de las Tortugas","Espect\xe1culo de luz y sonido"]:["Pyramid of the Magician","Nunnery Quadrangle","Governor's Palace","House of Turtles","Light and sound show"],tips:"es"===t?["Menos concurrido que Chichen Itz\xe1","Arquitectura mejor conservada","Ideal para los amantes de la historia","El espect\xe1culo nocturno es impresionante"]:["Less crowded than Chichen Itza","Better preserved architecture","Ideal for history lovers","Night show is impressive"]},{id:"progreso",name:"Progreso",nameEn:"Progreso",description:"Playa y puerto m\xe1s cercano a M\xe9rida",descriptionEn:"Closest beach and port to M\xe9rida",icon:"\ud83c\udfd6\ufe0f",duration:"es"===t?"Medio d\xeda":"Half day",distance:"es"===t?"30 minutos desde M\xe9rida":"30 minutes from M\xe9rida",highlights:"es"===t?["Playa de Progreso","Malec\xf3n de Progreso","Muelle de Progreso","Mariscos frescos","Casa de los Mayas"]:["Progreso Beach","Progreso Boardwalk","Progreso Pier","Fresh seafood","Casa de los Mayas"],tips:"es"===t?["Perfecto para un d\xeda de playa","Prueba los mariscos en el malec\xf3n","Agua muy tranquila, ideal para familias","Atardeceres espectaculares"]:["Perfect for a beach day","Try seafood at the boardwalk","Very calm water, ideal for families","Spectacular sunsets"]}];return(0,Nt.jsx)("div",{className:"min-h-screen py-8 md:py-16 px-4 md:px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:["        ",(0,Nt.jsxs)("div",{className:"text-center mb-8 md:mb-12",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-5xl md:text-6xl mb-4 md:mb-6",children:"\u2708\ufe0f"}),(0,Nt.jsx)("h1",{className:"text-3xl md:text-4xl font-autography text-stone-700 mb-4 px-4",children:n[t].travel.title})]}),"        ",(0,Nt.jsx)("div",{className:"bg-white rounded-2xl p-6 md:p-8 shadow-lg mb-6 md:mb-8 border border-stone-200",children:(0,Nt.jsx)("p",{className:"text-lg md:text-xl leading-relaxed text-center mb-6 md:mb-8 text-stone-700",children:n[t].travel.content})}),"        ",(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl p-6 md:p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsx)("h3",{className:"text-lg md:text-xl font-autography text-stone-700 mb-4",children:"es"===t?"Hotel Recomendado 1":"Recommended Hotel 1"}),(0,Nt.jsxs)("div",{className:"space-y-3 text-stone-600",children:[(0,Nt.jsx)("p",{className:"font-semibold",children:"[Hotel Name]"}),(0,Nt.jsx)("p",{className:"text-sm",children:"es"===t?"Descuento especial para hu\xe9spedes":"Special discount for guests"}),(0,Nt.jsx)("button",{className:"w-full bg-pink-400 text-white px-4 md:px-6 py-2 md:py-3 rounded-full hover:bg-pink-500 transition",children:"es"===t?"Ver Detalles":"View Details"})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl p-6 md:p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsx)("h3",{className:"text-lg md:text-xl font-autography text-stone-700 mb-4",children:"es"===t?"Hotel Recomendado 2":"Recommended Hotel 2"}),(0,Nt.jsxs)("div",{className:"space-y-3 text-stone-600",children:[(0,Nt.jsx)("p",{className:"font-semibold",children:"[Hotel Name]"}),(0,Nt.jsx)("p",{className:"text-sm",children:"es"===t?"Opci\xf3n econ\xf3mica cerca del venue":"Budget option near venue"}),(0,Nt.jsx)("button",{className:"w-full bg-stone-600 text-white px-4 md:px-6 py-2 md:py-3 rounded-full hover:bg-stone-700 transition",children:"es"===t?"Ver Detalles":"View Details"})]})]})]}),"        ",(0,Nt.jsxs)("div",{className:"mt-6 md:mt-8 bg-white rounded-2xl p-6 md:p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-4 md:mb-6 text-center",children:"es"===t?"Informaci\xf3n de Viaje":"Travel Information"}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold text-stone-700 mb-2",children:"es"===t?"Por Avi\xf3n":"By Air"}),(0,Nt.jsx)("p",{className:"text-sm text-stone-600",children:"es"===t?"Aeropuerto Internacional de M\xe9rida (MID) - 15 min del centro":"M\xe9rida International Airport (MID) - 15 min from downtown"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold text-stone-700 mb-2",children:"es"===t?"Transporte Local":"Local Transport"}),(0,Nt.jsx)("p",{className:"text-sm text-stone-600",children:"es"===t?"Taxi, Uber, o renta de auto disponibles":"Taxi, Uber, or car rental available"})]})]})]}),"        ",(0,Nt.jsxs)("div",{className:"text-center mb-8 md:mb-12 mt-8 md:mt-12",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-5xl md:text-6xl mb-4 md:mb-6",children:"\ud83c\udfaf"}),(0,Nt.jsx)("h2",{className:"text-3xl md:text-4xl font-autography text-stone-700 mb-4 md:mb-6",children:"es"===t?"Qu\xe9 Hacer en Yucat\xe1n":"Things to Do in Yucat\xe1n"}),(0,Nt.jsx)("p",{className:"text-lg md:text-xl text-stone-600 max-w-3xl mx-auto",children:"es"===t?"Descubre la magia de Yucat\xe1n: desde sitios arqueol\xf3gicos hasta cenotes cristalinos y la deliciosa gastronom\xeda local":"Discover the magic of Yucat\xe1n: from archaeological sites to crystal-clear cenotes and delicious local cuisine"})]}),(0,Nt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 mb-8 md:mb-16",children:a.map(((e,n)=>(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-3xl p-4 md:p-6 shadow-lg border border-stone-200 hover:transform hover:scale-105 transition-all duration-300 cursor-pointer hover:shadow-xl",onClick:()=>i(e),children:[(0,Nt.jsxs)("div",{className:"text-center mb-4",children:[(0,Nt.jsx)("div",{className:"text-4xl md:text-5xl mb-3",children:e.icon}),(0,Nt.jsx)("h3",{className:"text-lg md:text-2xl font-autography text-stone-700 mb-2",children:"es"===t?e.name:e.nameEn}),(0,Nt.jsx)("div",{className:"w-8 md:w-12 h-1 bg-pink-400 mx-auto mb-3"})]}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-4 text-center leading-relaxed text-sm md:text-base",children:"es"===t?e.description:e.descriptionEn}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center text-xs md:text-sm text-stone-500 mb-4",children:[(0,Nt.jsxs)("span",{children:["\u23f1\ufe0f ",e.duration]}),(0,Nt.jsxs)("span",{children:["\ud83d\udccd ",e.distance]})]}),(0,Nt.jsx)("button",{className:"w-full bg-pink-400 text-white py-2 px-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-300 hover:bg-pink-500 text-sm md:text-base",children:"es"===t?"Ver m\xe1s detalles":"See more details"})]},n)))}),(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-3xl p-6 md:p-8 shadow-lg border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6 md:mb-8",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-4xl md:text-5xl mb-4",children:"\ud83d\udcc5"}),(0,Nt.jsx)("h3",{className:"text-2xl md:text-3xl font-autography text-stone-700 mb-4",children:"es"===t?"Itinerario Sugerido para el Fin de Semana de Boda":"Suggested Wedding Weekend Itinerary"}),(0,Nt.jsx)("div",{className:"w-16 md:w-20 h-1 bg-pink-400 mx-auto"})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-xl md:rounded-2xl p-4 md:p-6 border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-4",children:[(0,Nt.jsx)("div",{className:"w-10 md:w-12 h-10 md:h-12 bg-stone-600 text-white rounded-full flex items-center justify-center text-base md:text-lg font-bold mx-auto mb-2",children:"J"}),(0,Nt.jsx)("h4",{className:"font-bold text-stone-700 text-base md:text-lg",children:"es"===t?"Jueves - Llegada":"Thursday - Arrival"})]}),(0,Nt.jsxs)("ul",{className:"text-xs md:text-sm text-stone-600 space-y-2",children:[(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Llegada a M\xe9rida":"Arrival in M\xe9rida"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Check-in hotel":"Hotel check-in"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Cena en Centro Hist\xf3rico":"Dinner in Historic Center"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Descanso":"Rest"]})]})]}),(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-xl md:rounded-2xl p-4 md:p-6 border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-4",children:[(0,Nt.jsx)("div",{className:"w-10 md:w-12 h-10 md:h-12 bg-pink-400 text-white rounded-full flex items-center justify-center text-base md:text-lg font-bold mx-auto mb-2",children:"V"}),(0,Nt.jsx)("h4",{className:"font-bold text-stone-700 text-base md:text-lg",children:"es"===t?"Viernes - Exploraci\xf3n":"Friday - Exploration"})]}),(0,Nt.jsxs)("ul",{className:"text-xs md:text-sm text-stone-600 space-y-2",children:[(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Tour Centro Hist\xf3rico":"Historic Center tour"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Almuerzo yucateco":"Yucatecan lunch"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Cenotes o Progreso":"Cenotes or Progreso"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Cena libre":"Free dinner"]})]})]}),(0,Nt.jsxs)("div",{className:"bg-pink-50 rounded-xl md:rounded-2xl p-4 md:p-6 border-2 border-pink-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-4",children:[(0,Nt.jsx)("div",{className:"w-10 md:w-12 h-10 md:h-12 bg-pink-400 text-white rounded-full flex items-center justify-center text-base md:text-lg font-bold mx-auto mb-2",children:"\ud83d\udc92"}),(0,Nt.jsx)("h4",{className:"font-bold text-stone-700 text-base md:text-lg",children:"es"===t?"S\xe1bado - \xa1BODA!":"Saturday - WEDDING!"})]}),(0,Nt.jsxs)("ul",{className:"text-xs md:text-sm text-stone-600 space-y-2",children:[(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Ma\xf1ana libre":"Free morning"]}),(0,Nt.jsxs)("li",{children:["\u2022 ",(0,Nt.jsxs)("strong",{children:["4:00 PM - ","es"===t?"Ceremonia":"Ceremony"]})]}),(0,Nt.jsxs)("li",{children:["\u2022 ",(0,Nt.jsxs)("strong",{children:["6:00 PM - ","es"===t?"Recepci\xf3n":"Reception"]})]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"\xa1Fiesta!":"Party!"]})]})]}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl md:rounded-2xl p-4 md:p-6 border-2 border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-4",children:[(0,Nt.jsx)("div",{className:"w-10 md:w-12 h-10 md:h-12 bg-stone-600 text-white rounded-full flex items-center justify-center text-base md:text-lg font-bold mx-auto mb-2",children:"\ud83c\udf89"}),(0,Nt.jsx)("h4",{className:"font-bold text-stone-700 text-base md:text-lg",children:"es"===t?"Domingo - Torna-Boda":"Sunday - Next Day Party"})]}),(0,Nt.jsxs)("ul",{className:"text-xs md:text-sm text-stone-600 space-y-2",children:[(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Ma\xf1ana relajada":"Relaxed morning"]}),(0,Nt.jsxs)("li",{children:["\u2022 ",(0,Nt.jsx)("strong",{children:"1:00 PM - Torna-Boda"})]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Contin\xfaa la celebraci\xf3n":"Celebration continues"]}),(0,Nt.jsxs)("li",{children:["\u2022 ","es"===t?"Despedidas":"Farewells"]})]})]})]}),(0,Nt.jsx)("div",{className:"mt-6 md:mt-8 text-center",children:(0,Nt.jsx)("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-200",children:(0,Nt.jsx)("p",{className:"text-stone-600 text-xs md:text-sm",children:"es"===t?"\ud83d\udca1 Sugerencia: Si te quedas m\xe1s d\xedas, Chichen Itz\xe1 y Uxmal son perfectos para el lunes o martes":"\ud83d\udca1 Tip: If you're staying longer, Chichen Itza and Uxmal are perfect for Monday or Tuesday"})})})]}),"        ",s&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center p-6 md:p-8 border-b border-stone-200",children:[(0,Nt.jsx)("h2",{className:"text-2xl md:text-3xl font-autography text-stone-700",children:"es"===t?s.name:s.nameEn}),(0,Nt.jsx)("button",{onClick:()=>i(null),className:"text-stone-400 hover:text-stone-600 p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Nt.jsxs)("div",{className:"p-6 md:p-8",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6 md:mb-8",children:[(0,Nt.jsx)("div",{className:"text-6xl md:text-8xl mb-4",children:s.icon}),(0,Nt.jsx)("div",{className:"w-16 md:w-20 h-1 bg-pink-400 mx-auto mb-4 md:mb-6"}),(0,Nt.jsx)("p",{className:"text-lg md:text-xl text-stone-600 max-w-2xl mx-auto",children:"es"===t?s.description:s.descriptionEn})]}),(0,Nt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8 mb-6 md:mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-gray-50 rounded-xl md:rounded-2xl p-4 md:p-6 border border-stone-200",children:[(0,Nt.jsxs)("h3",{className:"text-lg md:text-xl font-autography text-stone-700 mb-4 flex items-center gap-2",children:[(0,Nt.jsx)("span",{className:"text-xl md:text-2xl",children:"\u2728"}),"es"===t?"Puntos Destacados":"Highlights"]}),(0,Nt.jsx)("ul",{className:"space-y-2",children:s.highlights.map(((e,t)=>(0,Nt.jsxs)("li",{className:"text-stone-600 flex items-start gap-2 text-sm md:text-base",children:[(0,Nt.jsx)("span",{className:"text-pink-400 font-bold",children:"\u2022"}),e]},t)))})]}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl md:rounded-2xl p-4 md:p-6 border border-stone-200",children:[(0,Nt.jsxs)("h3",{className:"text-lg md:text-xl font-autography text-stone-700 mb-4 flex items-center gap-2",children:[(0,Nt.jsx)("span",{className:"text-xl md:text-2xl",children:"\ud83d\udca1"}),"es"===t?"Consejos \xdatiles":"Useful Tips"]}),(0,Nt.jsx)("ul",{className:"space-y-2",children:s.tips.map(((e,t)=>(0,Nt.jsxs)("li",{className:"text-stone-600 flex items-start gap-2 text-sm md:text-base",children:[(0,Nt.jsx)("span",{className:"text-pink-400 font-bold",children:"\u2022"}),e]},t)))})]})]}),(0,Nt.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-4 text-center border border-stone-200",children:[(0,Nt.jsx)("div",{className:"text-xl md:text-2xl mb-2",children:"\u23f1\ufe0f"}),(0,Nt.jsx)("p",{className:"text-stone-700 font-semibold text-sm md:text-base",children:s.duration}),(0,Nt.jsx)("p",{className:"text-stone-500 text-xs md:text-sm",children:"es"===t?"Duraci\xf3n":"Duration"})]}),(0,Nt.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 text-center border border-pink-200",children:[(0,Nt.jsx)("div",{className:"text-xl md:text-2xl mb-2",children:"\ud83d\udccd"}),(0,Nt.jsx)("p",{className:"text-stone-700 font-semibold text-sm md:text-base",children:s.distance}),(0,Nt.jsx)("p",{className:"text-stone-500 text-xs md:text-sm",children:"es"===t?"Distancia":"Distance"})]})]})]}),(0,Nt.jsx)("div",{className:"flex justify-center p-6 md:p-8 border-t border-stone-200",children:(0,Nt.jsx)("button",{onClick:()=>i(null),className:"bg-pink-400 hover:bg-pink-500 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"es"===t?"Cerrar":"Close"})})]})})]})})}const Rt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Pt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new Dt;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ot=function(e){return function(e){const t=Rt(e);return Pt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Lt=function(e){try{return Pt.decodeString(e,!0)}catch(zy){console.error("base64Decode failed: ",zy)}return null};function Mt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ut=()=>{try{return Mt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/wedding",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(zy){return}const t=e&&Lt(e[1]);return t&&JSON.parse(t)})()}catch(zy){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(zy))}},Ft=e=>{var t,n;return null===(n=null===(t=Ut())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Vt=e=>{const t=Ft(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},zt=()=>{var e;return null===(e=Ut())||void 0===e?void 0:e.config},Bt=e=>{var t;return null===(t=Ut())||void 0===t?void 0:t["_".concat(e)]};class Ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function qt(e){return e.endsWith(".cloudworkstations.dev")}async function Wt(e){return(await fetch(e,{credentials:"include"})).ok}function Kt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ot(JSON.stringify({alg:"none",type:"JWT"})),Ot(JSON.stringify(i)),""].join(".")}const Gt={};let Qt=!1;function Yt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!qt(window.location.host)||Gt[e]===t||Gt[e]||Qt)return;function n(e){return"__firebase__banner__".concat(e)}Gt[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Gt))Gt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Qt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Xt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Jt(){var e;const t=null===(e=Ut())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(zy){return!1}}function $t(){return!Jt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zt(){try{return"object"===typeof indexedDB}catch(zy){return!1}}class en extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}}class tn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(nn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new en(n,i,t)}}const nn=/\{\$([^}]+)}/g;function rn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(sn(n)&&sn(i)){if(!rn(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sn(e){return null!==e&&"object"===typeof e}function an(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function on(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ln(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class cn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=un),void 0===r.error&&(r.error=un),void 0===r.complete&&(r.complete=un);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(zy){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(zy){"undefined"!==typeof console&&console.error&&console.error(zy)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function un(){}function dn(e){return e&&e._delegate?e._delegate:e}class hn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fn="[DEFAULT]";class mn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ht;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(zy){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(zy){if(r)return null;throw zy}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fn})}catch(zy){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(zy){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===fn?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn;return this.component?this.component.multipleInstances?e:fn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gn=[];var vn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vn||(vn={}));const yn={debug:vn.DEBUG,verbose:vn.VERBOSE,info:vn.INFO,warn:vn.WARN,error:vn.ERROR,silent:vn.SILENT},bn=vn.INFO,xn={[vn.DEBUG]:"log",[vn.VERBOSE]:"log",[vn.INFO]:"info",[vn.WARN]:"warn",[vn.ERROR]:"error"},wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Nn{constructor(e){this.name=e,this._logLevel=bn,this._logHandler=wn,this._userLogHandler=null,gn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vn.DEBUG,...t),this._logHandler(this,vn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vn.VERBOSE,...t),this._logHandler(this,vn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vn.INFO,...t),this._logHandler(this,vn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vn.WARN,...t),this._logHandler(this,vn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vn.ERROR,...t),this._logHandler(this,vn.ERROR,...t)}}let En,_n;const kn=new WeakMap,Sn=new WeakMap,Cn=new WeakMap,Tn=new WeakMap,In=new WeakMap;let jn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Sn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Cn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function An(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_n||(_n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Dn(this),n),Pn(kn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pn(e.apply(Dn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(Dn(this),t,...r);return Cn.set(i,t.sort?t.sort():[t]),Pn(i)}}function Rn(e){return"function"===typeof e?An(e):(e instanceof IDBTransaction&&function(e){if(Sn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));Sn.set(e,t)}(e),t=e,(En||(En=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,jn):e);var t}function Pn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Pn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&kn.set(t,e)})).catch((()=>{})),In.set(t,e),t}(e);if(Tn.has(e))return Tn.get(e);const t=Rn(e);return t!==e&&(Tn.set(e,t),In.set(t,e)),t}const Dn=e=>In.get(e);const On=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],Mn=new Map;function Un(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mn.get(t))return Mn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Ln.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!On.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Mn.set(t,i),i}jn=(e=>u(u({},e),{},{get:(t,n,r)=>Un(t,n)||e.get(t,n,r),has:(t,n)=>!!Un(t,n)||e.has(t,n)}))(jn);class Fn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Vn="@firebase/app",zn="0.13.1",Bn=new Nn("@firebase/app"),Hn="@firebase/app-compat",qn="@firebase/analytics-compat",Wn="@firebase/analytics",Kn="@firebase/app-check-compat",Gn="@firebase/app-check",Qn="@firebase/auth",Yn="@firebase/auth-compat",Xn="@firebase/database",Jn="@firebase/data-connect",$n="@firebase/database-compat",Zn="@firebase/functions",er="@firebase/functions-compat",tr="@firebase/installations",nr="@firebase/installations-compat",rr="@firebase/messaging",sr="@firebase/messaging-compat",ir="@firebase/performance",ar="@firebase/performance-compat",or="@firebase/remote-config",lr="@firebase/remote-config-compat",cr="@firebase/storage",ur="@firebase/storage-compat",dr="@firebase/firestore",hr="@firebase/ai",fr="@firebase/firestore-compat",mr="firebase",pr="[DEFAULT]",gr={[Vn]:"fire-core",[Hn]:"fire-core-compat",[Wn]:"fire-analytics",[qn]:"fire-analytics-compat",[Gn]:"fire-app-check",[Kn]:"fire-app-check-compat",[Qn]:"fire-auth",[Yn]:"fire-auth-compat",[Xn]:"fire-rtdb",[Jn]:"fire-data-connect",[$n]:"fire-rtdb-compat",[Zn]:"fire-fn",[er]:"fire-fn-compat",[tr]:"fire-iid",[nr]:"fire-iid-compat",[rr]:"fire-fcm",[sr]:"fire-fcm-compat",[ir]:"fire-perf",[ar]:"fire-perf-compat",[or]:"fire-rc",[lr]:"fire-rc-compat",[cr]:"fire-gcs",[ur]:"fire-gcs-compat",[dr]:"fire-fst",[fr]:"fire-fst-compat",[hr]:"fire-vertex","fire-js":"fire-js",[mr]:"fire-js-all"},vr=new Map,yr=new Map,br=new Map;function xr(e,t){try{e.container.addComponent(t)}catch(zy){Bn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),zy)}}function wr(e){const t=e.name;if(br.has(t))return Bn.debug("There were multiple attempts to register component ".concat(t,".")),!1;br.set(t,e);for(const n of vr.values())xr(n,e);for(const n of yr.values())xr(n,e);return!0}function Nr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Er(e){return null!==e&&void 0!==e&&void 0!==e.settings}const _r=new tn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class kr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Sr="11.9.0";function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:pr,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw _r.create("bad-app-name",{appName:String(s)});if(n||(n=zt()),!n)throw _r.create("no-options");const i=vr.get(s);if(i){if(rn(n,i.options)&&rn(r,i.config))return i;throw _r.create("duplicate-app",{appName:s})}const a=new pn(s);for(const l of br.values())a.addComponent(l);const o=new kr(n,r,a);return vr.set(s,o),o}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr;const t=vr.get(e);if(!t&&e===pr&&zt())return Cr();if(!t)throw _r.create("no-app",{appName:e});return t}function Ir(e,t,n){var r;let s=null!==(r=gr[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bn.warn(e.join(" "))}wr(new hn("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const jr="firebase-heartbeat-store";let Ar=null;function Rr(){return Ar||(Ar=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Pn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Pn(a.result),e.oldVersion,e.newVersion,Pn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(jr)}catch(zy){console.warn(zy)}}}).catch((e=>{throw _r.create("idb-open",{originalErrorMessage:e.message})}))),Ar}async function Pr(e,t){try{const n=(await Rr()).transaction(jr,"readwrite"),r=n.objectStore(jr);await r.put(t,Dr(e)),await n.done}catch(zy){if(zy instanceof en)Bn.warn(zy.message);else{const t=_r.create("idb-set",{originalErrorMessage:null===zy||void 0===zy?void 0:zy.message});Bn.warn(t.message)}}}function Dr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Or{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(zy){Bn.warn(zy)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Lr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Ur(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ur(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Ot(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(zy){return Bn.warn(zy),""}}}function Lr(){return(new Date).toISOString().substring(0,10)}class Mr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Zt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rr()).transaction(jr),n=await t.objectStore(jr).get(Dr(e));return await t.done,n}catch(zy){if(zy instanceof en)Bn.warn(zy.message);else{const t=_r.create("idb-get",{originalErrorMessage:null===zy||void 0===zy?void 0:zy.message});Bn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ur(e){return Ot(JSON.stringify({version:2,heartbeats:e})).length}var Fr;Fr="",wr(new hn("platform-logger",(e=>new Fn(e)),"PRIVATE")),wr(new hn("heartbeat",(e=>new Or(e)),"PRIVATE")),Ir(Vn,zn,Fr),Ir(Vn,zn,"esm2017"),Ir("fire-js","");var Vr,zr,Br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Hr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=f(e,s.j(t)),new p(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new p(s,e)}function v(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),p=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,m(n,2*s+2*i),n[2*s+2*i+1]+=l*g,m(n,2*s+2*i+1),n[2*s+2*i+1]+=f*p,m(n,2*s+2*i+1),n[2*s+2*i+2]+=l*p,m(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,zr=Hr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},Vr=Hr.Integer=r}).apply("undefined"!==typeof Br?Br:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var qr,Wr,Kr,Gr,Qr,Yr,Xr,Jr,$r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof $r&&$r];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){s.setTimeout((()=>{throw e}),0)}function _(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=s.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=_();){try{e.h.call(e.g)}catch(n){E(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function R(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,P);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=H(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,s){if(r&&r.once)return Q(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function Y(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,s))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,s)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):V(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var s=t;w(t=new P(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var xe={},we=null;function Ne(){return we=we||new ne}function Ee(e){P.call(this,xe.La,e)}function _e(e){const t=Ne();re(t,new Ee(t))}function ke(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Se(e){const t=Ne();re(t,new ke(t,e))}function Ce(e,t){P.call(this,xe.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Ee,P),xe.STAT_EVENT="statevent",d(ke,P),xe.Ma="timingevent",d(Ce,P),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,me),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=K(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),Se(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=a}else nn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||_e(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var i=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Ue){4==h&&(this.s=4,Se(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Se(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else je(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=N(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),Ke(this)}}}catch(h){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),Se(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){Nt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return Nt(e),t=St(e,t),e.g.has(t)}function kt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Tt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(zy){throw t.push(r+"type="+encodeURIComponent("_badmap")),zy}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Nt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)_t(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,_t(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(jt,me),jt.prototype.g=function(){return new At(this.l,this.j)},jt.prototype.i=(pt={},function(){return pt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Ht(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ut.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(zy){}}}function qt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function $t(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||j(),T||(C(),T=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{It(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||j(),T||(C(),T=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=Ne(),new Ce(r,n)),$t(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(s.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),dn(e),Jt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Fe(s,n,null)):Fe(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&$t(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,mn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Jr=Zr.createWebChannelTransport=function(){return new pn},Xr=Zr.getStatEventTarget=function(){return Ne()},Yr=Zr.Event=xe,Qr=Zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Gr=Zr.ErrorCode=Re,Pe.COMPLETE="complete",Kr=Zr.EventType=Pe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Wr=Zr.WebChannel=ge,Zr.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,qr=Zr.XhrIo=Mt}).apply("undefined"!==typeof $r?$r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const es="@firebase/firestore",ts="4.7.17";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let rs="11.9.0";const ss=new Nn("@firebase/firestore");function is(){return ss.logLevel}function as(e){if(ss.logLevel<=vn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(cs);ss.debug("Firestore (".concat(rs,"): ").concat(e),...s)}}function os(e){if(ss.logLevel<=vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(cs);ss.error("Firestore (".concat(rs,"): ").concat(e),...s)}}function ls(e){if(ss.logLevel<=vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(cs);ss.warn("Firestore (".concat(rs,"): ").concat(e),...s)}}function cs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function us(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,ds(e,r,n)}function ds(e,t,n){let r="FIRESTORE (".concat(rs,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw os(r),new Error(r)}function hs(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||ds(t,s,r)}function fs(e,t){return e}const ms={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ps extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ys{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ns.UNAUTHENTICATED)))}shutdown(){}}class bs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xs{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){hs(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gs,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{as("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(as("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gs)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(as("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hs("string"==typeof t.accessToken,31837,{l:t}),new vs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hs(null===e||"string"==typeof e,2055,{h:e}),new ns(e)}}class ws{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ns{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ws(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ns.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Es{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _s{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){hs(void 0===this.o,3512);const n=e=>{null!=e.error&&as("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,as("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{as("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):as("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Es(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(hs("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Es(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ks(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ss(){return new TextEncoder}class Cs{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ks(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ts(e,t){return e<t?-1:e>t?1:0}function Is(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ts(r,s);{const i=Ss(),a=As(i.encode(js(e,n)),i.encode(js(t,n)));return 0!==a?a:Ts(r,s)}}n+=r>65535?2:1}return Ts(e.length,t.length)}function js(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function As(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Ts(e[n],t[n]);return Ts(e.length,t.length)}function Rs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Ps=-62135596800,Ds=1e6;class Os{static now(){return Os.fromMillis(Date.now())}static fromDate(e){return Os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ds);return new Os(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ps(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ps(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ps)throw new ps(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ps(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ds}_compareTo(e){return this.seconds===e.seconds?Ts(this.nanoseconds,e.nanoseconds):Ts(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ps;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ls{static fromTimestamp(e){return new Ls(e)}static min(){return new Ls(new Os(0,0))}static max(){return new Ls(new Os(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ms="__name__";class Us{constructor(e,t,n){void 0===t?t=0:t>e.length&&us(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&us(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Us.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Us?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Us.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ts(e.length,t.length)}static compareSegments(e,t){const n=Us.isNumericId(e),r=Us.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Us.extractNumericId(e).compare(Us.extractNumericId(t)):Is(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class Fs extends Us{construct(e,t,n){return new Fs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new ps(ms.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter((e=>e.length>0)))}return new Fs(e)}static emptyPath(){return new Fs([])}}const Vs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zs extends Us{construct(e,t,n){return new zs(e,t,n)}static isValidIdentifier(e){return Vs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ms}static keyField(){return new zs([Ms])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new ps(ms.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ps(ms.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ps(ms.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new ps(ms.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zs(t)}static emptyPath(){return new zs([])}}class Bs{constructor(e){this.path=e}static fromPath(e){return new Bs(Fs.fromString(e))}static fromName(e){return new Bs(Fs.fromString(e).popFirst(5))}static empty(){return new Bs(Fs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bs(new Fs(e.slice()))}}const Hs=-1;class qs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}qs.UNKNOWN_ID=-1;function Ws(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ls.fromTimestamp(1e9===r?new Os(n+1,0):new Os(n,r));return new Gs(s,Bs.empty(),t)}function Ks(e){return new Gs(e.readTime,e.key,Hs)}class Gs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gs(Ls.min(),Bs.empty(),Hs)}static max(){return new Gs(Ls.max(),Bs.empty(),Hs)}}function Qs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Bs.comparator(e.documentKey,t.documentKey),0!==n?n:Ts(e.largestBatchId,t.largestBatchId))}const Ys="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Js(e){if(e.code!==ms.FAILED_PRECONDITION||e.message!==Ys)throw e;as("LocalStore","Unexpectedly lost primary lease")}class $s{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&us(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $s(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $s?t:$s.resolve(t)}catch(e){return $s.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$s.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$s.reject(t)}static resolve(e){return new $s(((t,n)=>{t(e)}))}static reject(e){return new $s(((t,n)=>{n(e)}))}static waitFor(e){return new $s(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=$s.resolve(!1);for(const n of e)t=t.next((e=>e?$s.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new $s(((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new $s(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function Zs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ei(e){return"IndexedDbTransactionError"===e.name}class ti{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ti.le=-1;const ni=-1;function ri(e){return null==e}function si(e){return 0===e&&1/e==-1/0}function ii(e){return"number"==typeof e&&Number.isInteger(e)&&!si(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ai="\x01";function oi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ci(t)),t=li(e.get(n),t);return ci(t)}function li(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case ai:n+="\x01\x11";break;default:n+=t}}return n}function ci(e){return e+ai+"\x01"}const ui="remoteDocuments",di="owner",hi="mutationQueues",fi="mutations";const mi="documentMutations",pi="remoteDocumentsV14",gi="remoteDocumentGlobal",vi="targets",yi="targetDocuments",bi="targetGlobal",xi="collectionParents",wi="clientMetadata",Ni="bundles",Ei="namedQueries",_i="indexConfiguration",ki="indexState",Si="indexEntries",Ci="documentOverlays",Ti="globals",Ii=[hi,fi,mi,ui,vi,di,bi,yi,wi,gi,xi,Ni,Ei],ji=[hi,fi,mi,pi,vi,di,bi,yi,wi,gi,xi,Ni,Ei,Ci],Ai=ji,Ri=[...Ai,_i,ki,Si];function Pi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Di(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Oi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Li{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new Li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mi(this.root,e,this.comparator,!0)}}class Mi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Ui.RED,this.left=null!=r?r:Ui.EMPTY,this.right=null!=s?s:Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Ui(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ui.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw us(43730,{key:this.key,value:this.value});if(this.right.isRed())throw us(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw us(27949);return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw us(57766)}get value(){throw us(16141)}get color(){throw us(16727)}get left(){throw us(29726)}get right(){throw us(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ui(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new Li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vi(this.data.getIterator())}getIteratorFrom(e){return new Vi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Fi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class Vi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(e){this.fields=e,e.sort(zs.comparator)}static empty(){return new zi([])}unionWith(e){let t=new Fi(zs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Bi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Bi("Invalid base64 string: "+e):e}}(e);return new Hi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ts(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const qi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(e){if(hs(!!e,39018),"string"==typeof e){let t=0;const n=qi.exec(e);if(hs(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ki(e.seconds),nanos:Ki(e.nanos)}}function Ki(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gi(e){return"string"==typeof e?Hi.fromBase64String(e):Hi.fromUint8Array(e)}const Qi="server_timestamp",Yi="__type__",Xi="__previous_value__",Ji="__local_write_time__";function $i(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Yi])||void 0===n?void 0:n.stringValue)===Qi}function Zi(e){const t=e.mapValue.fields[Xi];return $i(t)?Zi(t):t}function ea(e){const t=Wi(e.mapValue.fields[Ji].timestampValue);return new Os(t.seconds,t.nanos)}class ta{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const na="(default)";class ra{constructor(e,t){this.projectId=e,this.database=t||na}static empty(){return new ra("","")}get isDefaultDatabase(){return this.database===na}isEqual(e){return e instanceof ra&&e.projectId===this.projectId&&e.database===this.database}}const sa="__type__",ia="__max__",aa={mapValue:{fields:{__type__:{stringValue:ia}}}},oa="__vector__",la="value";function ca(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$i(e)?4:Sa(e)?9007199254740991:_a(e)?10:11:us(28295,{value:e})}function ua(e,t){if(e===t)return!0;const n=ca(e);if(n!==ca(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ea(e).isEqual(ea(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Wi(e.timestampValue),r=Wi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gi(e.bytesValue).isEqual(Gi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ki(e.geoPointValue.latitude)===Ki(t.geoPointValue.latitude)&&Ki(e.geoPointValue.longitude)===Ki(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ki(e.integerValue)===Ki(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ki(e.doubleValue),r=Ki(t.doubleValue);return n===r?si(n)===si(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rs(e.arrayValue.values||[],t.arrayValue.values||[],ua);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pi(n)!==Pi(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!ua(n[s],r[s])))return!1;return!0}(e,t);default:return us(52216,{left:e})}}function da(e,t){return void 0!==(e.values||[]).find((e=>ua(e,t)))}function ha(e,t){if(e===t)return 0;const n=ca(e),r=ca(t);if(n!==r)return Ts(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ts(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ki(e.integerValue||e.doubleValue),r=Ki(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fa(e.timestampValue,t.timestampValue);case 4:return fa(ea(e),ea(t));case 5:return Is(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gi(e),r=Gi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Ts(n[s],r[s]);if(0!==e)return e}return Ts(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ts(Ki(e.latitude),Ki(t.latitude));return 0!==n?n:Ts(Ki(e.longitude),Ki(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ma(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[la])||void 0===n?void 0:n.arrayValue,c=null===(r=o[la])||void 0===r?void 0:r.arrayValue,u=Ts((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:ma(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===aa.mapValue&&t===aa.mapValue)return 0;if(e===aa.mapValue)return 1;if(t===aa.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Is(r[a],i[a]);if(0!==e)return e;const t=ha(n[r[a]],s[i[a]]);if(0!==t)return t}return Ts(r.length,i.length)}(e.mapValue,t.mapValue);default:throw us(23264,{Pe:n})}}function fa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ts(e,t);const n=Wi(e),r=Wi(t),s=Ts(n.seconds,r.seconds);return 0!==s?s:Ts(n.nanos,r.nanos)}function ma(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=ha(n[s],r[s]);if(e)return e}return Ts(n.length,r.length)}function pa(e){return ga(e)}function ga(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Wi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Gi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Bs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ga(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(ga(e.fields[s]));return n+"}"}(e.mapValue):us(61005,{value:e})}function va(e){switch(ca(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zi(e);return t?16+va(t):16;case 5:return 2*e.stringValue.length;case 6:return Gi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+va(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Di(e.fields,((e,n)=>{t+=e.length+va(n)})),t}(e.mapValue);default:throw us(13486,{value:e})}}function ya(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ba(e){return!!e&&"integerValue"in e}function xa(e){return!!e&&"arrayValue"in e}function wa(e){return!!e&&"nullValue"in e}function Na(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ea(e){return!!e&&"mapValue"in e}function _a(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[sa])||void 0===n?void 0:n.stringValue)===oa}function ka(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Di(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ka(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ka(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sa(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ia}class Ca{constructor(e){this.value=e}static empty(){return new Ca({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ea(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(t)}setAll(e){let t=zs.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=ka(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Ea(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ea(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Di(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ca(ka(this.value))}}function Ta(e){const t=[];return Di(e.fields,((e,n)=>{const r=new zs([e]);if(Ea(n)){const e=Ta(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new zi(t)}class Ia{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Ia(e,0,Ls.min(),Ls.min(),Ls.min(),Ca.empty(),0)}static newFoundDocument(e,t,n,r){return new Ia(e,1,t,Ls.min(),n,r,0)}static newNoDocument(e,t){return new Ia(e,2,t,Ls.min(),Ls.min(),Ca.empty(),0)}static newUnknownDocument(e,t){return new Ia(e,3,t,Ls.min(),Ls.min(),Ca.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ls.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ca.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ca.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ls.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ia(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ja{constructor(e,t){this.position=e,this.inclusive=t}}function Aa(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?Bs.comparator(Bs.fromName(a.referenceValue),n.key):ha(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Ra(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ua(e.position[n],t.position[n]))return!1;return!0}class Pa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Da(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Oa{}class La extends Oa{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new qa(e,t,n):"array-contains"===t?new Qa(e,n):"in"===t?new Ya(e,n):"not-in"===t?new Xa(e,n):"array-contains-any"===t?new Ja(e,n):new La(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Wa(e,n):new Ka(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ha(t,this.value)):null!==t&&ca(this.value)===ca(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return us(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends Oa{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ma(e,t)}matches(e){return Ua(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ua(e){return"and"===e.op}function Fa(e){return Va(e)&&Ua(e)}function Va(e){for(const t of e.filters)if(t instanceof Ma)return!1;return!0}function za(e){if(e instanceof La)return e.field.canonicalString()+e.op.toString()+pa(e.value);if(Fa(e))return e.filters.map((e=>za(e))).join(",");{const t=e.filters.map((e=>za(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ba(e,t){return e instanceof La?function(e,t){return t instanceof La&&e.op===t.op&&e.field.isEqual(t.field)&&ua(e.value,t.value)}(e,t):e instanceof Ma?function(e,t){return t instanceof Ma&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ba(n,t.filters[r])),!0)}(e,t):void us(19439)}function Ha(e){return e instanceof La?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pa(e.value))}(e):e instanceof Ma?function(e){return e.op.toString()+" {"+e.getFilters().map(Ha).join(" ,")+"}"}(e):"Filter"}class qa extends La{constructor(e,t,n){super(e,t,n),this.key=Bs.fromName(n.referenceValue)}matches(e){const t=Bs.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wa extends La{constructor(e,t){super(e,"in",t),this.keys=Ga("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ka extends La{constructor(e,t){super(e,"not-in",t),this.keys=Ga("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ga(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Bs.fromName(e.referenceValue)))}class Qa extends La{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xa(t)&&da(t.arrayValue,this.value)}}class Ya extends La{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&da(this.value.arrayValue,t)}}class Xa extends La{constructor(e,t){super(e,"not-in",t)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!da(this.value.arrayValue,t)}}class Ja extends La{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xa(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>da(this.value.arrayValue,e)))}}class $a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Ie=null}}function Za(e){return new $a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function eo(e){const t=fs(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>za(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ri(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>pa(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>pa(e))).join(",")),t.Ie=e}return t.Ie}function to(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Da(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ba(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ra(e.startAt,t.startAt)&&Ra(e.endAt,t.endAt)}function no(e){return Bs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ro{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function so(e,t,n,r,s,i,a,o){return new ro(e,t,n,r,s,i,a,o)}function io(e){return new ro(e)}function ao(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function oo(e){return null!==e.collectionGroup}function lo(e){const t=fs(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Fi(zs.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Pa(r,n))})),e.has(zs.keyField().canonicalString())||t.Ee.push(new Pa(zs.keyField(),n))}return t.Ee}function co(e){const t=fs(e);return t.de||(t.de=uo(t,lo(e))),t.de}function uo(e,t){if("F"===e.limitType)return Za(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Pa(e.field,t)}));const n=e.endAt?new ja(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ja(e.startAt.position,e.startAt.inclusive):null;return Za(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ho(e,t){const n=e.filters.concat([t]);return new ro(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fo(e,t,n){return new ro(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mo(e,t){return to(co(e),co(t))&&e.limitType===t.limitType}function po(e){return"".concat(eo(co(e)),"|lt:").concat(e.limitType)}function go(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ha(e))).join(", "),"]")),ri(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>pa(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>pa(e))).join(",")),"Target(".concat(t,")")}(co(e)),"; limitType=").concat(e.limitType,")")}function vo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of lo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Aa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,lo(e),t))&&!(e.endAt&&!function(e,t,n){const r=Aa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,lo(e),t))}(e,t)}function yo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bo(e){return(t,n)=>{let r=!1;for(const s of lo(e)){const e=xo(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function xo(e,t,n){const r=e.field.isKeyField()?Bs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?ha(r,s):us(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return us(19790,{direction:e.dir})}}class wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return Oi(this.inner)}size(){return this.innerSize}}const No=new Li(Bs.comparator);function Eo(){return No}const _o=new Li(Bs.comparator);function ko(){let e=_o;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function So(e){let t=_o;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Co(){return Io()}function To(){return Io()}function Io(){return new wo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jo=new Li(Bs.comparator),Ao=new Fi(Bs.comparator);function Ro(){let e=Ao;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Po=new Fi(Ts);function Do(){return Po}function Oo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:si(t)?"-0":t}}function Lo(e){return{integerValue:""+e}}function Mo(e,t){return ii(t)?Lo(t):Oo(e,t)}class Uo{constructor(){this._=void 0}}function Fo(e,t,n){return e instanceof Bo?function(e,t){const n={fields:{[Yi]:{stringValue:Qi},[Ji]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&$i(t)&&(t=Zi(t)),t&&(n.fields[Xi]=t),{mapValue:n}}(n,t):e instanceof Ho?qo(e,t):e instanceof Wo?Ko(e,t):function(e,t){const n=zo(e,t),r=Qo(n)+Qo(e.Re);return ba(n)&&ba(e.Re)?Lo(r):Oo(e.serializer,r)}(e,t)}function Vo(e,t,n){return e instanceof Ho?qo(e,t):e instanceof Wo?Ko(e,t):n}function zo(e,t){return e instanceof Go?function(e){return ba(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Bo extends Uo{}class Ho extends Uo{constructor(e){super(),this.elements=e}}function qo(e,t){const n=Yo(t);for(const r of e.elements)n.some((e=>ua(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Wo extends Uo{constructor(e){super(),this.elements=e}}function Ko(e,t){let n=Yo(t);for(const r of e.elements)n=n.filter((e=>!ua(e,r)));return{arrayValue:{values:n}}}class Go extends Uo{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Qo(e){return Ki(e.integerValue||e.doubleValue)}function Yo(e){return xa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Xo{constructor(e,t){this.field=e,this.transform=t}}class Jo{constructor(e,t){this.version=e,this.transformResults=t}}class $o{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $o}static exists(e){return new $o(void 0,e)}static updateTime(e){return new $o(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class el{}function tl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dl(e.key,$o.none()):new al(e.key,e.data,$o.none());{const n=e.data,r=Ca.empty();let s=new Fi(zs.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new ol(e.key,r,new zi(s.toArray()),$o.none())}}function nl(e,t,n){e instanceof al?function(e,t,n){const r=e.value.clone(),s=cl(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ol?function(e,t,n){if(!Zo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=cl(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(ll(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rl(e,t,n,r){return e instanceof al?function(e,t,n,r){if(!Zo(e.precondition,t))return n;const s=e.value.clone(),i=ul(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof ol?function(e,t,n,r){if(!Zo(e.precondition,t))return n;const s=ul(e.fieldTransforms,r,t),i=t.data;return i.setAll(ll(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Zo(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=zo(r.transform,e||null);null!=s&&(null===n&&(n=Ca.empty()),n.set(r.field,s))}return n||null}function il(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rs(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ho&&t instanceof Ho||e instanceof Wo&&t instanceof Wo?Rs(e.elements,t.elements,ua):e instanceof Go&&t instanceof Go?ua(e.Re,t.Re):e instanceof Bo&&t instanceof Bo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class al extends el{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ol extends el{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ll(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function cl(e,t,n){const r=new Map;hs(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Vo(a,o,n[s]))}return r}function ul(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Fo(e,i,t))}return r}class dl extends el{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hl extends el{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&nl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=rl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=rl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=To();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=tl(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Ls.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ro())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,((e,t)=>il(e,t)))&&Rs(this.baseMutations,e.baseMutations,((e,t)=>il(e,t)))}}class ml{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){hs(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=jo;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new ml(e,t,n,r)}}class pl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class gl{constructor(e,t){this.count=e,this.unchangedNames=t}}var vl,yl;function bl(e){switch(e){case ms.OK:return us(64938);case ms.CANCELLED:case ms.UNKNOWN:case ms.DEADLINE_EXCEEDED:case ms.RESOURCE_EXHAUSTED:case ms.INTERNAL:case ms.UNAVAILABLE:case ms.UNAUTHENTICATED:return!1;case ms.INVALID_ARGUMENT:case ms.NOT_FOUND:case ms.ALREADY_EXISTS:case ms.PERMISSION_DENIED:case ms.FAILED_PRECONDITION:case ms.ABORTED:case ms.OUT_OF_RANGE:case ms.UNIMPLEMENTED:case ms.DATA_LOSS:return!0;default:return us(15467,{code:e})}}function xl(e){if(void 0===e)return os("GRPC error has no .code"),ms.UNKNOWN;switch(e){case vl.OK:return ms.OK;case vl.CANCELLED:return ms.CANCELLED;case vl.UNKNOWN:return ms.UNKNOWN;case vl.DEADLINE_EXCEEDED:return ms.DEADLINE_EXCEEDED;case vl.RESOURCE_EXHAUSTED:return ms.RESOURCE_EXHAUSTED;case vl.INTERNAL:return ms.INTERNAL;case vl.UNAVAILABLE:return ms.UNAVAILABLE;case vl.UNAUTHENTICATED:return ms.UNAUTHENTICATED;case vl.INVALID_ARGUMENT:return ms.INVALID_ARGUMENT;case vl.NOT_FOUND:return ms.NOT_FOUND;case vl.ALREADY_EXISTS:return ms.ALREADY_EXISTS;case vl.PERMISSION_DENIED:return ms.PERMISSION_DENIED;case vl.FAILED_PRECONDITION:return ms.FAILED_PRECONDITION;case vl.ABORTED:return ms.ABORTED;case vl.OUT_OF_RANGE:return ms.OUT_OF_RANGE;case vl.UNIMPLEMENTED:return ms.UNIMPLEMENTED;case vl.DATA_LOSS:return ms.DATA_LOSS;default:return us(39323,{code:e})}}(yl=vl||(vl={}))[yl.OK=0]="OK",yl[yl.CANCELLED=1]="CANCELLED",yl[yl.UNKNOWN=2]="UNKNOWN",yl[yl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yl[yl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yl[yl.NOT_FOUND=5]="NOT_FOUND",yl[yl.ALREADY_EXISTS=6]="ALREADY_EXISTS",yl[yl.PERMISSION_DENIED=7]="PERMISSION_DENIED",yl[yl.UNAUTHENTICATED=16]="UNAUTHENTICATED",yl[yl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yl[yl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yl[yl.ABORTED=10]="ABORTED",yl[yl.OUT_OF_RANGE=11]="OUT_OF_RANGE",yl[yl.UNIMPLEMENTED=12]="UNIMPLEMENTED",yl[yl.INTERNAL=13]="INTERNAL",yl[yl.UNAVAILABLE=14]="UNAVAILABLE",yl[yl.DATA_LOSS=15]="DATA_LOSS";let wl=null;const Nl=new Vr([4294967295,4294967295],0);function El(e){const t=Ss().encode(e),n=new zr;return n.update(t),new Uint8Array(n.digest())}function _l(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Vr([n,r],0),new Vr([s,i],0)]}class kl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sl("Invalid padding: ".concat(t));if(n<0)throw new Sl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Sl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Sl("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Vr.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Vr.fromNumber(n)));return 1===r.compare(Nl)&&(r=new Vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=El(e),[n,r]=_l(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new kl(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=El(e),[n,r]=_l(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cl{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Cl(Ls.min(),r,new Li(Ts),Eo(),Ro())}}class Tl{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tl(n,t,Ro(),Ro(),Ro())}}class Il{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class jl{constructor(e,t){this.targetId=e,this.Ce=t}}class Al{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hi.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Rl{constructor(){this.Fe=0,this.Me=Ol(),this.xe=Hi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ro(),t=Ro(),n=Ro();return this.Me.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:us(38017,{changeType:s})}})),new Tl(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Ol()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,hs(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Pl{constructor(e){this.ze=e,this.je=new Map,this.He=Eo(),this.Je=Dl(),this.Ye=Dl(),this.Ze=new Li(Ts)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:us(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(no(s))if(0===n){const e=new Bs(s.path);this.tt(t,e,Ia.newNoDocument(e,Ls.min()))}else hs(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),s=n?this.lt(n,e,r):1;if(0!==s){this.st(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==wl||wl.ht(function(e,t,n,r,s){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,s))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=Gi(n).toUint8Array()}catch(e){if(e instanceof Bi)return ls("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new kl(i,r,s)}catch(e){return ls(e instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.ze.Pt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const s=this._t(r);if(s){if(n.current&&no(s.target)){const t=new Bs(s.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Ia.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Ro();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Cl(e,t,this.Ze,this.He,n);return this.He=Eo(),this.Je=Dl(),this.Ye=Dl(),this.Ze=new Li(Ts),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Rl,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Fi(Ts),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Fi(Ts),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||as("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Rl),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Dl(){return new Li(Bs.comparator)}function Ol(){return new Li(Bs.comparator)}const Ll={asc:"ASCENDING",desc:"DESCENDING"},Ml={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ul={and:"AND",or:"OR"};class Fl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vl(e,t){return e.useProto3Json||ri(t)?t:{value:t}}function zl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hl(e,t){return zl(e,t.toTimestamp())}function ql(e){return hs(!!e,49232),Ls.fromTimestamp(function(e){const t=Wi(e);return new Os(t.seconds,t.nanos)}(e))}function Wl(e,t){return Kl(e,t).canonicalString()}function Kl(e,t){const n=function(e){return new Fs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Gl(e){const t=Fs.fromString(e);return hs(fc(t),10190,{key:t.toString()}),t}function Ql(e,t){return Wl(e.databaseId,t.path)}function Yl(e,t){const n=Gl(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(ms.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(ms.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bs(Zl(n))}function Xl(e,t){return Wl(e.databaseId,t)}function Jl(e){const t=Gl(e);return 4===t.length?Fs.emptyPath():Zl(t)}function $l(e){return new Fs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zl(e){return hs(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ec(e,t,n){return{name:Ql(e,t),fields:n.value.mapValue.fields}}function tc(e,t){let n;if(t instanceof al)n={update:ec(e,t.key,t.value)};else if(t instanceof dl)n={delete:Ql(e,t.key)};else if(t instanceof ol)n={update:ec(e,t.key,t.data),updateMask:hc(t.fieldMask)};else{if(!(t instanceof hl))return us(16599,{ft:t.type});n={verify:Ql(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Bo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ho)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Go)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw us(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:us(27497)}(e,t.precondition)),n}function nc(e,t){return{documents:[Xl(e,t.path)]}}function rc(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xl(e,s);const i=function(e){if(0!==e.length)return dc(Ma.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:cc(e.field),direction:ac(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Vl(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:s}}function sc(e){let t=Jl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){hs(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=ic(e);return t instanceof Ma&&Fa(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Pa(uc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ri(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ja(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ja(n,t)}(n.endAt)),so(t,s,a,i,o,"F",l,c)}function ic(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uc(e.unaryFilter.field);return La.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=uc(e.unaryFilter.field);return La.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uc(e.unaryFilter.field);return La.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=uc(e.unaryFilter.field);return La.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return us(61313);default:return us(60726)}}(e):void 0!==e.fieldFilter?function(e){return La.create(uc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return us(58110);default:return us(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ma.create(e.compositeFilter.filters.map((e=>ic(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return us(1026)}}(e.compositeFilter.op))}(e):us(30097,{filter:e})}function ac(e){return Ll[e]}function oc(e){return Ml[e]}function lc(e){return Ul[e]}function cc(e){return{fieldPath:e.canonicalString()}}function uc(e){return zs.fromServerFormat(e.fieldPath)}function dc(e){return e instanceof La?function(e){if("=="===e.op){if(Na(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NAN"}};if(wa(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Na(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NAN"}};if(wa(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(e.field),op:oc(e.op),value:e.value}}}(e):e instanceof Ma?function(e){const t=e.getFilters().map((e=>dc(e)));return 1===t.length?t[0]:{compositeFilter:{op:lc(e.op),filters:t}}}(e):us(54877,{filter:e})}function hc(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class mc{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ls.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ls.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Hi.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pc{constructor(e){this.wt=e}}function gc(e){const t=sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fo(t,t.limit,"L"):t}class vc{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ki(e.integerValue));else if("doubleValue"in e){const n=Ki(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),si(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Wi(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Gi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Sa(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):_a(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):us(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const s=e.fields||{};this.Mt(t,53);const i=la,a=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Ki(a)),this.Nt(i,t),this.Ct(s[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Bs.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}vc.Wt=new vc;class yc{constructor(){this.Cn=new bc}addToCollectionParentIndex(e,t){return this.Cn.add(t),$s.resolve()}getCollectionParents(e,t){return $s.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return $s.resolve()}deleteFieldIndex(e,t){return $s.resolve()}deleteAllFieldIndexes(e){return $s.resolve()}createTargetIndexes(e,t){return $s.resolve()}getDocumentsMatchingTarget(e,t){return $s.resolve(null)}getIndexType(e,t){return $s.resolve(0)}getFieldIndexes(e,t){return $s.resolve([])}getNextCollectionGroupToUpdate(e){return $s.resolve(null)}getMinOffset(e,t){return $s.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return $s.resolve(Gs.min())}updateCollectionGroup(e,t,n){return $s.resolve()}updateIndexEntries(e,t){return $s.resolve()}}class bc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Fi(Fs.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Fi(Fs.comparator)).toArray()}}new Uint8Array(0);const xc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wc=41943040;class Nc{static withCacheSize(e){return new Nc(e,Nc.DEFAULT_COLLECTION_PERCENTILE,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Nc.DEFAULT_COLLECTION_PERCENTILE=10,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nc.DEFAULT=new Nc(wc,Nc.DEFAULT_COLLECTION_PERCENTILE,Nc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nc.DISABLED=new Nc(-1,0,0);class Ec{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ec(0)}static lr(){return new Ec(-1)}}const _c="LruGarbageCollector",kc=1048576;function Sc(e,t){let[n,r]=e,[s,i]=t;const a=Ts(n,s);return 0===a?Ts(r,i):a}class Cc{constructor(e){this.Er=e,this.buffer=new Fi(Sc),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Sc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Tc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){as(_c,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ei(e)?as(_c,"Ignoring IndexedDB error during garbage collection: ",e):await Js(e)}await this.mr(3e5)}))}}class Ic{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return $s.resolve(ti.le);const n=new Cc(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(as("LruGarbageCollector","Garbage collection skipped; disabled"),$s.resolve(xc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(as("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),xc):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(as("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),is()<=vn.DEBUG&&as("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),$s.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e}))))}}function jc(e,t){return new Ic(e,t)}class Ac{constructor(){this.changes=new wo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ia.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?$s.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&rl(n.mutation,e,zi.empty(),Os.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ro()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ro();const r=Co();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ko();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Co();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ro())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Eo();const i=Io(),a=Io();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ol)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),rl(a.mutation,t,a.mutation.getFieldMask(),Os.now())):i.set(t.key,zi.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Rc(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Io();let r=new Li(((e,t)=>e-t)),s=Ro();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||zi.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Ro()).add(e);r=r.insert(s.batchId,o)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=To();l.forEach((e=>{if(!s.has(e)){const r=tl(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return $s.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Bs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):$s.resolve(Co());let a=Hs,o=s;return i.next((t=>$s.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?$s.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,Ro()))).next((e=>({batchId:a,changes:So(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Bs(t)).next((e=>{let t=ko();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=ko();return this.indexManager.getCollectionParents(e,s).next((a=>$s.forEach(a,(a=>{const o=function(e,t){return new ro(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ia.newInvalidDocument(r)))}));let n=ko();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&rl(i.mutation,r,zi.empty(),Os.now()),vo(t,r)&&(n=n.insert(e,r))})),n}))}}class Dc{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return $s.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ql(e.createTime)}}(t)),$s.resolve()}getNamedQuery(e,t){return $s.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:gc(e.bundledQuery),readTime:ql(e.readTime)}}(t)),$s.resolve()}}class Oc{constructor(){this.overlays=new Li(Bs.comparator),this.Qr=new Map}getOverlay(e,t){return $s.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Co();return $s.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),$s.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),$s.resolve()}getOverlaysForCollection(e,t,n){const r=Co(),s=t.length+1,i=new Bs(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return $s.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Li(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Co(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Co(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return $s.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new pl(t,n));let s=this.Qr.get(t);void 0===s&&(s=Ro(),this.Qr.set(t,s)),this.Qr.set(t,s.add(n.key))}}class Lc{constructor(){this.sessionToken=Hi.EMPTY_BYTE_STRING}getSessionToken(e){return $s.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$s.resolve()}}class Mc{constructor(){this.$r=new Fi(Uc.Ur),this.Kr=new Fi(Uc.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Uc(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new Uc(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new Bs(new Fs([])),n=new Uc(t,e),r=new Uc(t,e+1),s=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),s.push(e.key)})),s}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Bs(new Fs([])),n=new Uc(t,e),r=new Uc(t,e+1);let s=Ro();return this.Kr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new Uc(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Uc{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Bs.comparator(e.key,t.key)||Ts(e.Zr,t.Zr)}static Wr(e,t){return Ts(e.Zr,t.Zr)||Bs.comparator(e.key,t.key)}}class Fc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Fi(Uc.Ur)}checkEmpty(e){return $s.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new fl(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Xr=this.Xr.add(new Uc(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $s.resolve(i)}lookupMutationBatch(e,t){return $s.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),s=r<0?0:r;return $s.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $s.resolve(0===this.mutationQueue.length?ni:this.nr-1)}getAllMutationBatches(e){return $s.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Uc(t,0),r=new Uc(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);s.push(t)})),$s.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Fi(Ts);return t.forEach((e=>{const t=new Uc(e,0),r=new Uc(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),$s.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Bs.isDocumentKey(s)||(s=s.child(""));const i=new Uc(new Bs(s),0);let a=new Fi(Ts);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)}),i),$s.resolve(this.ni(a))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){hs(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return $s.forEach(t.mutations,(r=>{const s=new Uc(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new Uc(t,0),r=this.Xr.firstAfterOrEqual(n);return $s.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$s.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vc{constructor(e){this.ii=e,this.docs=new Li(Bs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return $s.resolve(n?n.document.mutableCopy():Ia.newInvalidDocument(t))}getEntries(e,t){let n=Eo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ia.newInvalidDocument(e))})),$s.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Eo();const i=t.path,a=new Bs(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Qs(Ks(a),n)<=0||(r.has(a.key)||vo(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return $s.resolve(s)}getAllFromCollectionGroup(e,t,n,r){us(9500)}si(e,t){return $s.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new zc(this)}getSize(e){return $s.resolve(this.size)}}class zc extends Ac{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),$s.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Bc{constructor(e){this.persistence=e,this.oi=new wo((e=>eo(e)),to),this.lastRemoteSnapshotVersion=Ls.min(),this.highestTargetId=0,this._i=0,this.ai=new Mc,this.targetCount=0,this.ui=Ec.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),$s.resolve()}getLastRemoteSnapshotVersion(e){return $s.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $s.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$s.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),$s.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,$s.resolve()}updateTargetData(e,t){return this.Tr(t),$s.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,$s.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.oi.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),$s.waitFor(s).next((()=>r))}getTargetCount(e){return $s.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return $s.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),$s.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),$s.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),$s.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return $s.resolve(n)}containsKey(e,t){return $s.resolve(this.ai.containsKey(t))}}class Hc{constructor(e,t){this.ci={},this.overlays={},this.li=new ti(0),this.hi=!1,this.hi=!0,this.Pi=new Lc,this.referenceDelegate=e(this),this.Ti=new Bc(this),this.indexManager=new yc,this.remoteDocumentCache=function(e){return new Vc(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new pc(t),this.Ei=new Dc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Fc(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){as("MemoryPersistence","Starting transaction:",e);const r=new qc(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return $s.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class qc extends Xs{constructor(e){super(),this.currentSequenceNumber=e}}class Wc{constructor(e){this.persistence=e,this.Vi=new Mc,this.mi=null}static fi(e){return new Wc(e)}get gi(){if(this.mi)return this.mi;throw us(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),$s.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),$s.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),$s.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $s.forEach(this.gi,(n=>{const r=Bs.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,Ls.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return $s.or([()=>$s.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Kc{constructor(e,t){this.persistence=e,this.yi=new wo((e=>oi(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=jc(this,t)}static fi(e,t){return new Kc(e,t)}di(){}Ai(e){return $s.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return $s.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?$s.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,s.removeEntry(r,Ls.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),$s.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),$s.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),$s.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),$s.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=va(e.data.value)),t}Dr(e,t,n){return $s.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return $s.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Ro(),r=Ro();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Gc(e,t.fromCache,n,r)}}class Qc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Yc{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=$t()?8:Zs(Xt())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ws(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.bs(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new Qc;return this.Ss(e,t,n).next((r=>{if(s.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>s.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(is()<=vn.DEBUG&&as("QueryEngine","SDK will not create cache indexes for query:",go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$s.resolve()):(is()<=vn.DEBUG&&as("QueryEngine","Query:",go(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(is()<=vn.DEBUG&&as("QueryEngine","The SDK decides to create cache indexes for query:",go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(t))):$s.resolve())}ws(e,t){if(ao(t))return $s.resolve(null);let n=co(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=fo(t,null,"F"),n=co(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Ro(...r);return this.ys.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.vs(t,r);return this.Cs(t,i,s,n.readTime)?this.ws(e,fo(t,null,"F")):this.Fs(e,i,t,n)}))))})))))}bs(e,t,n,r){return ao(t)||r.isEqual(Ls.min())?$s.resolve(null):this.ys.getDocuments(e,n).next((s=>{const i=this.vs(t,s);return this.Cs(t,i,n,r)?$s.resolve(null):(is()<=vn.DEBUG&&as("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),go(t)),this.Fs(e,i,t,Ws(r,Hs)).next((e=>e)))}))}vs(e,t){let n=new Fi(bo(e));return t.forEach(((t,r)=>{vo(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return is()<=vn.DEBUG&&as("QueryEngine","Using full collection scan to execute query:",go(t)),this.ys.getDocumentsMatchingQuery(e,t,Gs.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Xc="LocalStore";class Jc{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Li(Ts),this.Os=new wo((e=>eo(e)),to),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pc(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function $c(e,t,n,r){return new Jc(e,t,n,r)}async function Zc(e,t){const n=fs(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let a=Ro();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({ks:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function eu(e){const t=fs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function tu(e,t,n){let r=Ro(),s=Ro();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Eo();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ls.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):as(Xc,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{qs:r,Qs:s}}))}function nu(e,t){const n=fs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ni),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ru(e,t){const n=fs(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((s=>s?(r=s,$s.resolve(r)):n.Ti.allocateTargetId(e).next((s=>(r=new mc(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function su(e,t,n){const r=fs(e),s=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!ei(e))throw e;as(Xc,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(s.target)}function iu(e,t,n){const r=fs(e);let s=Ls.min(),i=Ro();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=fs(e),s=r.Os.get(n);return void 0!==s?$s.resolve(r.xs.get(s)):r.Ti.getTargetData(t,n)}(r,e,co(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?s:Ls.min(),n?i:Ro()))).next((e=>(au(r,yo(t),e),{documents:e,$s:i})))))}function au(e,t,n){let r=e.Ns.get(t)||Ls.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class ou{constructor(){this.activeTargetIds=Do()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lu{constructor(){this.xo=new ou,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ou,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cu{No(e){}shutdown(){}}const uu="ConnectivityMonitor";class du{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){as(uu,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){as(uu,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hu=null;function fu(){return null===hu?hu=268435456+Math.round(2147483648*Math.random()):hu++,"0x"+hu.toString(16)}const mu="RestConnection",pu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gu{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===na?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,s){const i=fu(),a=this.jo(e,t.toUriEncodedString());as(mu,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,s);const{host:l}=new URL(a),c=qt(l);return this.Jo(e,a,o,n,c).then((t=>(as(mu,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw ls(mu,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t}))}Yo(e,t,n,r,s,i){return this.zo(e,t,n,r,s)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=pu[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class vu{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const yu="WebChannelConnection";class bu extends gu{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=fu();return new Promise(((s,a)=>{const o=new qr;o.setWithCredentials(!0),o.listenOnce(Kr.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Gr.NO_ERROR:const t=o.getResponseJson();as(yu,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Gr.TIMEOUT:as(yu,"RPC '".concat(e,"' ").concat(i," timed out")),a(new ps(ms.DEADLINE_EXCEEDED,"Request time out"));break;case Gr.HTTP_ERROR:const n=o.getStatus();if(as(yu,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ms).indexOf(t)>=0?t:ms.UNKNOWN}(t.status);a(new ps(e,t.message))}else a(new ps(ms.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ps(ms.UNAVAILABLE,"Connection failed."));break;default:us(9055,{h_:e,streamId:i,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{as(yu,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);as(yu,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=fu(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Jr(),a=Xr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");as(yu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.E_(u);let d=!1,h=!1;const f=new vu({Zo:t=>{h?as(yu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(as(yu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),as(yu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Wr.EventType.OPEN,(()=>{h||(as(yu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),m(u,Wr.EventType.CLOSE,(()=>{h||(h=!0,as(yu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),m(u,Wr.EventType.ERROR,(t=>{h||(h=!0,ls(yu,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new ps(ms.UNAVAILABLE,"The operation could not be completed")))})),m(u,Wr.EventType.MESSAGE,(t=>{var n;if(!h){const s=t.data[0];hs(!!s,16349);const i=s,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){as(yu,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=vl[e];if(void 0!==t)return xl(t)}(t),s=a.message;void 0===n&&(n=ms.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.u_(new ps(n,s)),u.close()}else as(yu,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.c_(s)}})),m(a,Yr.STAT_EVENT,(t=>{t.stat===Qr.PROXY?as(yu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Qr.NOPROXY&&as(yu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function xu(){return"undefined"!=typeof document?document:null}function wu(e){return new Fl(e,!0)}class Nu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&as("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Eu="PersistentStream";class _u{constructor(e,t,n,r,s,i,a,o){this.xi=e,this.S_=n,this.D_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Nu(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===ms.RESOURCE_EXHAUSTED?(os(t.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ms.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new ps(ms.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return as(Eu,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(as(Eu,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ku extends _u{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:us(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(hs(void 0===t||"string"==typeof t,58123),Hi.fromBase64String(t||"")):(hs(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Hi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ms.UNKNOWN:xl(e.code);return new ps(t,e.message||"")}(a);n=new Al(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yl(e,r.document.name),i=ql(r.document.updateTime),a=r.document.createTime?ql(r.document.createTime):Ls.min(),o=new Ca({mapValue:{fields:r.document.fields}}),l=Ia.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Il(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Yl(e,r.document),i=r.readTime?ql(r.readTime):Ls.min(),a=Ia.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Il([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Yl(e,r.document),i=r.removedTargetIds||[];n=new Il([],i,s,null)}else{if(!("filter"in t))return us(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new gl(r,s),a=e.targetId;n=new jl(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ls.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ls.min():t.readTime?ql(t.readTime):Ls.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=$l(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=no(r)?{documents:nc(e,r)}:{query:rc(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Bl(e,t.resumeToken);const r=Vl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ls.min())>0){n.readTime=zl(e,t.snapshotVersion.toTimestamp());const r=Vl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return us(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=$l(this.serializer),t.removeTarget=e,this.Q_(t)}}class Su extends _u{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return hs(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hs(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){hs(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(hs(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?ql(e.updateTime):ql(t);return n.isEqual(Ls.min())&&(n=ql(t)),new Jo(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ql(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=$l(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>tc(this.serializer,e)))};this.Q_(t)}}class Cu{}class Tu extends Cu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new ps(ms.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,a]=s;return this.connection.zo(e,Kl(t,n),r,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ms.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(ms.UNKNOWN,e.toString())}))}Yo(e,t,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.Yo(e,Kl(t,n),r,a,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ms.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(ms.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class Iu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(os(t),this.ua=!1):as("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const ju="RemoteStore";class Au{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No((e=>{n.enqueueAndForget((async()=>{Vu(this)&&(as(ju,"Restarting streams for network reachability change."),await async function(e){const t=fs(e);t.da.add(4),await Pu(t),t.Va.set("Unknown"),t.da.delete(4),await Ru(t)}(this))}))})),this.Va=new Iu(n,r)}}async function Ru(e){if(Vu(e))for(const t of e.Aa)await t(!0)}async function Pu(e){for(const t of e.Aa)await t(!1)}function Du(e,t){const n=fs(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Fu(n)?Uu(n):id(n).N_()&&Lu(n,t))}function Ou(e,t){const n=fs(e),r=id(n);n.Ea.delete(t),r.N_()&&Mu(n,t),0===n.Ea.size&&(r.N_()?r.k_():Vu(n)&&n.Va.set("Unknown"))}function Lu(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ls.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}id(e).Z_(t)}function Mu(e,t){e.ma.Ke(t),id(e).X_(t)}function Uu(e){e.ma=new Pl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),id(e).start(),e.Va.ca()}function Fu(e){return Vu(e)&&!id(e).O_()&&e.Ea.size>0}function Vu(e){return 0===fs(e).da.size}function zu(e){e.ma=void 0}async function Bu(e){e.Va.set("Online")}async function Hu(e){e.Ea.forEach(((t,n)=>{Lu(e,t)}))}async function qu(e,t){zu(e),Fu(e)?(e.Va.Pa(t),Uu(e)):e.Va.set("Unknown")}async function Wu(e,t,n){if(e.Va.set("Online"),t instanceof Al&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){as(ju,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ku(e,n)}else if(t instanceof Il?e.ma.Xe(t):t instanceof jl?e.ma.ot(t):e.ma.nt(t),!n.isEqual(Ls.min()))try{const t=await eu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ea.get(r);s&&e.Ea.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Hi.EMPTY_BYTE_STRING,r.snapshotVersion)),Mu(e,t);const s=new mc(r.target,t,n,r.sequenceNumber);Lu(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){as(ju,"Failed to raise snapshot:",t),await Ku(e,t)}}async function Ku(e,t,n){if(!ei(t))throw t;e.da.add(1),await Pu(e),e.Va.set("Offline"),n||(n=()=>eu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{as(ju,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Ru(e)}))}function Gu(e,t){return t().catch((n=>Ku(e,n,t)))}async function Qu(e){const t=fs(e),n=ad(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:ni;for(;Yu(t);)try{const e=await nu(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,Xu(t,e)}catch(e){await Ku(t,e)}Ju(t)&&$u(t)}function Yu(e){return Vu(e)&&e.Ia.length<10}function Xu(e,t){e.Ia.push(t);const n=ad(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Ju(e){return Vu(e)&&!ad(e).O_()&&e.Ia.length>0}function $u(e){ad(e).start()}async function Zu(e){ad(e).ia()}async function ed(e){const t=ad(e);for(const n of e.Ia)t.ta(n.mutations)}async function td(e,t,n){const r=e.Ia.shift(),s=ml.from(r,t,n);await Gu(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Qu(e)}async function nd(e,t){t&&ad(e).ea&&await async function(e,t){if(function(e){return bl(e)&&e!==ms.ABORTED}(t.code)){const n=e.Ia.shift();ad(e).L_(),await Gu(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Qu(e)}}(e,t),Ju(e)&&$u(e)}async function rd(e,t){const n=fs(e);n.asyncQueue.verifyOperationInProgress(),as(ju,"RemoteStore received new credentials");const r=Vu(n);n.da.add(3),await Pu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Ru(n)}async function sd(e,t){const n=fs(e);t?(n.da.delete(2),await Ru(n)):t||(n.da.add(2),await Pu(n),n.Va.set("Unknown"))}function id(e){return e.fa||(e.fa=function(e,t,n){const r=fs(e);return r.oa(),new ku(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Bu.bind(null,e),n_:Hu.bind(null,e),i_:qu.bind(null,e),Y_:Wu.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),Fu(e)?Uu(e):e.Va.set("Unknown")):(await e.fa.stop(),zu(e))}))),e.fa}function ad(e){return e.ga||(e.ga=function(e,t,n){const r=fs(e);return r.oa(),new Su(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Zu.bind(null,e),i_:nd.bind(null,e),na:ed.bind(null,e),ra:td.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await Qu(e)):(await e.ga.stop(),e.Ia.length>0&&(as(ju,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class od{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new od(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(ms.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ld(e,t){if(os("AsyncQueue","".concat(t,": ").concat(e)),ei(e))return new ps(ms.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class cd{static emptySet(e){return new cd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Bs.comparator(t.key,n.key):(e,t)=>Bs.comparator(e.key,t.key),this.keyedMap=ko(),this.sortedSet=new Li(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new cd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ud{constructor(){this.pa=new Li(Bs.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):us(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class dd{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new dd(e,t,cd.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class hd{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class fd{constructor(){this.queries=md(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=fs(e),r=n.queries;n.queries=md(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new ps(ms.ABORTED,"Firestore shutting down"))}}function md(){return new wo((e=>po(e)),mo)}async function pd(e,t){const n=fs(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Da()&&t.va()&&(r=2):(i=new hd,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=ld(e,"Initialization of query '".concat(go(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&bd(n)}async function gd(e,t){const n=fs(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.va()?0:1:!i.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vd(e,t){const n=fs(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(s)&&(r=!0);t.ba=s}}r&&bd(n)}function yd(e,t,n){const r=fs(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function bd(e){e.Ca.forEach((e=>{e.next()}))}var xd,wd;(wd=xd||(xd={})).xa="default",wd.Cache="cache";class Nd{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new dd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==xd.Cache}}class Ed{constructor(e){this.key=e}}class _d{constructor(e){this.key=e}}class kd{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ro(),this.mutatedKeys=Ro(),this.Za=bo(e),this.Xa=new cd(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new ud,r=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=vo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Xa:i,nu:n,Cs:a,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const i=e.nu.wa();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return us(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==i.length||l?{snapshot:new dd(this.query,e.Xa,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ud,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ro(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new _d(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new Ed(n))})),t}au(e){this.Ha=e.$s,this.Ya=Ro();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return dd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Sd="SyncEngine";class Cd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Td{constructor(e){this.key=e,this.cu=!1}}class Id{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.lu={},this.hu=new wo((e=>po(e)),mo),this.Pu=new Map,this.Tu=new Set,this.Iu=new Li(Bs.comparator),this.Eu=new Map,this.du=new Mc,this.Au={},this.Ru=new Map,this.Vu=Ec.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function jd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Jd(e);let s;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await Rd(r,t,n,!0),s}async function Ad(e,t){const n=Jd(e);await Rd(n,t,!0,!1)}async function Rd(e,t,n,r){const s=await ru(e.localStore,co(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Pd(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&Du(e.remoteStore,s),o}async function Pd(e,t,n,r,s){e.fu=(t,n,r)=>async function(e,t,n,r){let s=t.view.tu(n);s.Cs&&(s=await iu(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,s)})));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return Wd(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const i=await iu(e.localStore,t,!0),a=new kd(t,i.$s),o=a.tu(i.documents),l=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Wd(e,n,c.ou);const u=new Cd(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function Dd(e,t,n){const r=fs(e),s=r.hu.get(t),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter((e=>!mo(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await su(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ou(r.remoteStore,s.targetId),Hd(r,s.targetId)})).catch(Js)):(Hd(r,s.targetId),await su(r.localStore,s.targetId,!0))}async function Od(e,t){const n=fs(e),r=n.hu.get(t),s=n.Pu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ou(n.remoteStore,r.targetId))}async function Ld(e,t){const n=fs(e);try{const e=await function(e,t){const n=fs(e),r=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];t.targetChanges.forEach(((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Hi.EMPTY_BYTE_STRING,Ls.min()).withLastLimboFreeSnapshotVersion(Ls.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Ti.updateTargetData(e,c))}));let o=Eo(),l=Ro();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(tu(e,i,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(Ls.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return $s.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(hs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?hs(r.cu,14607):e.removedDocuments.size>0&&(hs(r.cu,42227),r.cu=!1))})),await Qd(n,e,t)}catch(e){await Js(e)}}function Md(e,t,n){const r=fs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const s=r.view.Fa(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=fs(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.Sa)s.Fa(t)&&(r=!0)})),r&&bd(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ud(e,t,n){const r=fs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let e=new Li(Bs.comparator);e=e.insert(i,Ia.newNoDocument(i,Ls.min()));const n=Ro().add(i),s=new Cl(Ls.min(),new Map,new Li(Ts),e,n);await Ld(r,s),r.Iu=r.Iu.remove(i),r.Eu.delete(t),Gd(r)}else await su(r.localStore,t,!1).then((()=>Hd(r,t,n))).catch(Js)}async function Fd(e,t){const n=fs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=$s.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);hs(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ro();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Bd(n,r,null),zd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qd(n,e)}catch(e){await Js(e)}}async function Vd(e,t,n){const r=fs(e);try{const e=await function(e,t){const n=fs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(hs(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Bd(r,t,n),zd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qd(r,e)}catch(n){await Js(n)}}function zd(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function Bd(e,t,n){const r=fs(e);let s=r.Au[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Au[r.currentUser.toKey()]=s}}function Hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||qd(e,t)}))}function qd(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Ou(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Gd(e))}function Wd(e,t,n){for(const r of n)r instanceof Ed?(e.du.addReference(r.key,t),Kd(e,r)):r instanceof _d?(as(Sd,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||qd(e,r.key)):us(19791,{pu:r})}function Kd(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(as(Sd,"New document in limbo: "+n),e.Tu.add(r),Gd(e))}function Gd(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Bs(Fs.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Td(n)),e.Iu=e.Iu.insert(n,r),Du(e.remoteStore,new mc(co(io(n.path)),r,"TargetPurposeLimboResolution",ti.le))}}async function Qd(e,t,n){const r=fs(e),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach(((e,o)=>{a.push(r.fu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Gc.Rs(o.targetId,e);i.push(t)}})))})),await Promise.all(a),r.lu.Y_(s),await async function(e,t){const n=fs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>$s.forEach(t,(t=>$s.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>$s.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ei(e))throw e;as(Xc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,s)}}}(r.localStore,i))}async function Yd(e,t){const n=fs(e);if(!n.currentUser.isEqual(t)){as(Sd,"User change. New user:",t.toKey());const e=await Zc(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new ps(ms.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Qd(n,e.ks)}}function Xd(e,t){const n=fs(e),r=n.Eu.get(t);if(r&&r.cu)return Ro().add(r.key);{let e=Ro();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Jd(e){const t=fs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ud.bind(null,t),t.lu.Y_=vd.bind(null,t.eventManager),t.lu.gu=yd.bind(null,t.eventManager),t}function $d(e){const t=fs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vd.bind(null,t),t}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return $c(this.persistence,new Yc,e.initialUser,this.serializer)}Su(e){return new Hc(Wc.fi,this.serializer)}bu(e){return new lu}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class eh extends Zd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){hs(this.persistence.referenceDelegate instanceof Kc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Tc(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?Nc.withCacheSize(this.cacheSizeBytes):Nc.DEFAULT;return new Hc((e=>Kc.fi(e,t)),this.serializer)}}class th{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Md(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yd.bind(null,this.syncEngine),await sd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fd}createDatastore(e){const t=wu(e.databaseInfo.databaseId),n=function(e){return new bu(e)}(e.databaseInfo);return function(e,t,n,r){return new Tu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new Au(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>Md(this.syncEngine,e,0)),du.C()?new du:new cu)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new Id(e,t,n,r,s,i);return a&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=fs(e);as(ju,"RemoteStore shutting down."),t.da.add(5),await Pu(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}th.provider={build:()=>new th};class nh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const rh="FirestoreClient";class sh{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ns.UNAUTHENTICATED,this.clientId=Cs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{as(rh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(as(rh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ld(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ih(e,t){e.asyncQueue.verifyOperationInProgress(),as(rh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Zc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ah(e,t){e.asyncQueue.verifyOperationInProgress();const n=await oh(e);as(rh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>rd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>rd(t.remoteStore,n))),e._onlineComponents=t}async function oh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){as(rh,"Using user provided OfflineComponentProvider");try{await ih(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ms.FAILED_PRECONDITION||e.code===ms.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await ih(e,new Zd)}}else as(rh,"Using default OfflineComponentProvider"),await ih(e,new eh(void 0));return e._offlineComponents}async function lh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(as(rh,"Using user provided OnlineComponentProvider"),await ah(e,e._uninitializedComponentsProvider._online)):(as(rh,"Using default OnlineComponentProvider"),await ah(e,new th))),e._onlineComponents}function ch(e){return lh(e).then((e=>e.syncEngine))}async function uh(e){const t=await lh(e),n=t.eventManager;return n.onListen=jd.bind(null,t.syncEngine),n.onUnlisten=Dd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ad.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Od.bind(null,t.syncEngine),n}function dh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new nh({next:o=>{i.xu(),t.enqueueAndForget((()=>gd(e,a)));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new ps(ms.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new ps(ms.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new Nd(io(n.path),i,{includeMetadataChanges:!0,Qa:!0});return pd(e,a)}(await uh(e),e.asyncQueue,t,n,r))),r.promise}function hh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new nh({next:n=>{i.xu(),t.enqueueAndForget((()=>gd(e,a))),n.fromCache&&"server"===r.source?s.reject(new ps(ms.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new Nd(n,i,{includeMetadataChanges:!0,Qa:!0});return pd(e,a)}(await uh(e),e.asyncQueue,t,n,r))),r.promise}function fh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mh=new Map;function ph(e,t,n){if(!n)throw new ps(ms.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gh(e){if(!Bs.isDocumentKey(e))throw new ps(ms.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vh(e){if(Bs.isDocumentKey(e))throw new ps(ms.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function yh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":us(12329,{type:typeof e})}function bh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(ms.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(e);throw new ps(ms.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const xh="firestore.googleapis.com",wh=!0;class Nh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ps(ms.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xh,this.ssl=wh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:wh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=wc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<kc)throw new ps(ms.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ps(ms.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ps(ms.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ps(ms.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ps(ms.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ps(ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ps(ms.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ys;switch(e.type){case"firstParty":return new Ns(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ps(ms.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mh.get(e);t&&(as("ComponentProvider","Removing Datastore"),mh.delete(e),t.terminate())}(this),Promise.resolve()}}class _h{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _h(this.firestore,e,this._query)}}class kh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kh(this.firestore,e,this._key)}}class Sh extends _h{constructor(e,t,n){super(e,t,io(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kh(this.firestore,null,new Bs(e))}withConverter(e){return new Sh(this.firestore,e,this._path)}}function Ch(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=dn(e),ph("collection","path",t),e instanceof Eh){const n=Fs.fromString(t,...r);return vh(n),new Sh(e,null,n)}{if(!(e instanceof kh||e instanceof Sh))throw new ps(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fs.fromString(t,...r));return vh(n),new Sh(e.firestore,null,n)}}function Th(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=dn(e),1===arguments.length&&(t=Cs.newId()),ph("doc","path",t),e instanceof Eh){const n=Fs.fromString(t,...r);return gh(n),new kh(e,null,new Bs(n))}{if(!(e instanceof kh||e instanceof Sh))throw new ps(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Fs.fromString(t,...r));return gh(n),new kh(e.firestore,e instanceof Sh?e.converter:null,new Bs(n))}}const Ih="AsyncQueue";class jh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Nu(this,"async_queue_retry"),this.rc=()=>{const e=xu();e&&as(Ih,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=xu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=xu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new gs;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(zy){if(!ei(zy))throw zy;as(Ih,"Operation failed with retryable error: "+zy)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,os("INTERNAL UNHANDLED ERROR: ",Ah(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=od.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&us(47125,{cc:Ah(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Ah(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Rh extends Eh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new jh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jh(e),this._firestoreClient=void 0,await e}}}function Ph(e){if(e._terminated)throw new ps(ms.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Dh(e),e._firestoreClient}function Dh(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new ta(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,fh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new sh(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Oh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oh(Hi.fromBase64String(e))}catch(e){throw new ps(ms.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Oh(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ps(ms.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mh{constructor(e){this._methodName=e}}class Uh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ps(ms.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ps(ms.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ts(this._lat,e._lat)||Ts(this._long,e._long)}}class Fh{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Vh=/^__.*__$/;class zh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new al(e,this.data,t,this.fieldTransforms)}}class Bh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw us(40011,{Ic:e})}}class qh{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new qh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return lf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(Hh(this.Ic)&&Vh.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Wh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wu(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qh({Ic:e,methodName:t,wc:n,path:zs.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(e){const t=e._freezeSettings(),n=wu(e._databaseId);return new Wh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gh(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(i.merge||i.mergeFields?2:0,t,n,s);rf("Data must be an object, but it was:",a,r);const o=tf(r,a);let l,c;if(i.merge)l=new zi(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=sf(t,r,n);if(!a.contains(s))throw new ps(ms.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));cf(e,s)||e.push(s)}l=new zi(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new zh(new Ca(o),l,c)}class Qh extends Mh{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class Yh extends Mh{_toFieldTransform(e){return new Xo(e.path,new Bo)}isEqual(e){return e instanceof Yh}}class Xh extends Mh{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){const t=new Go(e.serializer,Mo(e.serializer,this.Dc));return new Xo(e.path,t)}isEqual(e){return e instanceof Xh&&this.Dc===e.Dc}}function Jh(e,t,n,r){const s=e.bc(1,t,n);rf("Data must be an object, but it was:",s,r);const i=[],a=Ca.empty();Di(r,((e,r)=>{const o=of(t,e,n);r=dn(r);const l=s.mc(o);if(r instanceof Qh)i.push(o);else{const e=ef(r,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new zi(i);return new Bh(a,o,s.fieldTransforms)}function $h(e,t,n,r,s,i){const a=e.bc(1,t,n),o=[sf(t,r,n)],l=[s];if(i.length%2!=0)throw new ps(ms.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(sf(t,i[h])),l.push(i[h+1]);const c=[],u=Ca.empty();for(let h=o.length-1;h>=0;--h)if(!cf(c,o[h])){const e=o[h];let t=l[h];t=dn(t);const n=a.mc(e);if(t instanceof Qh)c.push(e);else{const r=ef(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new zi(c);return new Bh(u,d,a.fieldTransforms)}function Zh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ef(n,e.bc(r?4:3,t))}function ef(e,t){if(nf(e=dn(e)))return rf("Unsupported field value:",t,e),tf(e,t);if(e instanceof Mh)return function(e,t){if(!Hh(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=ef(s,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=dn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Mo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Os.fromDate(e);return{timestampValue:zl(t.serializer,n)}}if(e instanceof Os){const n=new Os(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zl(t.serializer,n)}}if(e instanceof Uh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Oh)return{bytesValue:Bl(t.serializer,e._byteString)};if(e instanceof kh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Wl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Fh)return function(e,t){return{mapValue:{fields:{[sa]:{stringValue:oa},[la]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return Oo(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(yh(e)))}(e,t)}function tf(e,t){const n={};return Oi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Di(e,((e,r)=>{const s=ef(r,t.Ac(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function nf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Os||e instanceof Uh||e instanceof Oh||e instanceof kh||e instanceof Mh||e instanceof Fh)}function rf(e,t,n){if(!nf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=yh(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function sf(e,t,n){if((t=dn(t))instanceof Lh)return t._internalPath;if("string"==typeof t)return of(e,t);throw lf("Field path arguments must be of type string or ",e,!1,void 0,n)}const af=new RegExp("[~\\*/\\[\\]]");function of(e,t,n){if(t.search(af)>=0)throw lf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Lh(...t.split("."))._internalPath}catch(r){throw lf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lf(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new ps(ms.INVALID_ARGUMENT,o+e+l)}function cf(e,t){return e.some((e=>e.isEqual(t)))}class uf{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new df(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class df extends uf{data(){return super.data()}}function hf(e,t){return"string"==typeof t?of(e,t):t instanceof Lh?t._internalPath:t._delegate._internalPath}function ff(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ps(ms.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mf{}class pf extends mf{}function gf(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof mf&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof yf)).length,n=e.filter((e=>e instanceof vf)).length;if(t>1||t>0&&n>0)throw new ps(ms.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class vf extends pf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vf(e,t,n)}_apply(e){const t=this._parse(e);return Ef(e._query,t),new _h(e.firestore,e.converter,ho(e._query,t))}_parse(e){const t=Kh(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new ps(ms.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Nf(a,i);const t=[];for(const n of a)t.push(wf(r,e,n));o={arrayValue:{values:t}}}else o=wf(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Nf(a,i),o=Zh(n,t,a,"in"===i||"not-in"===i);return La.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class yf extends mf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ma.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Ef(n,s),n=ho(n,s)}(e._query,t),new _h(e.firestore,e.converter,ho(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bf extends pf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ps(ms.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ps(ms.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pa(t,n)}(e._query,this._field,this._direction);return new _h(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ro(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function xf(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hf("orderBy",e);return bf._create(n,t)}function wf(e,t,n){if("string"==typeof(n=dn(n))){if(""===n)throw new ps(ms.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oo(t)&&-1!==n.indexOf("/"))throw new ps(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Fs.fromString(n));if(!Bs.isDocumentKey(r))throw new ps(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ya(e,new Bs(r))}if(n instanceof kh)return ya(e,n._key);throw new ps(ms.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(yh(n),"."))}function Nf(e,t){if(!Array.isArray(e)||0===e.length)throw new ps(ms.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ef(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ps(ms.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ps(ms.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class _f{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw us(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Di(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[la].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ki(e.doubleValue)));return new Fh(s)}convertGeoPoint(e){return new Uh(Ki(e.latitude),Ki(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new Os(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Fs.fromString(e);hs(fc(n),9688,{name:e});const r=new ra(n.get(1),n.get(3)),s=new Bs(n.popFirst(5));return r.isEqual(t)||os("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function kf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cf extends uf{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Tf extends Cf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class If{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Tf(this._firestore,this._userDataWriter,n.key,n,new Sf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ps(ms.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Tf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Sf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Tf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:jf(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return us(61501,{type:e})}}class Af extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kh(this.firestore,null,t)}}function Rf(e){e=bh(e,_h);const t=bh(e.firestore,Rh),n=Ph(t),r=new Af(t);return ff(e._query),hh(n,e._query).then((n=>new If(t,r,e,n)))}function Pf(e,t,n){e=bh(e,kh);const r=bh(e.firestore,Rh),s=kf(e.converter,t,n);return Of(r,[Gh(Kh(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,$o.none())])}function Df(e,t,n){e=bh(e,kh);const r=bh(e.firestore,Rh),s=Kh(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=dn(t))||t instanceof Lh?$h(s,"updateDoc",e._key,t,n,o):Jh(s,"updateDoc",e._key,t),Of(r,[i.toMutation(e._key,$o.exists(!0))])}function Of(e,t){return function(e,t){const n=new gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=$d(e);try{const e=await function(e,t){const n=fs(e),r=Os.now(),s=t.reduce(((e,t)=>e.add(t.key)),Ro());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Eo(),l=Ro();return n.Bs.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{i=s;const a=[];for(const e of t){const t=sl(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new ol(e.key,t,Ta(t.value.mapValue),$o.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:So(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new Li(Ts)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Qd(r,e.changes),await Qu(r.remoteStore)}catch(e){const t=ld(e,"Failed to persist write");n.reject(t)}}(await ch(e),t,n))),n.promise}(Ph(e),t)}function Lf(e,t,n){const r=n.docs.get(t._key),s=new Af(e);return new Cf(e,s,t._key,r,new Sf(n.hasPendingWrites,n.fromCache),t.converter)}function Mf(){return new Yh("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rs=e}(Sr),wr(new hn("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new Rh(new xs(e.getProvider("auth-internal")),new _s(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(ms.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ra(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Ir(es,ts,e),Ir(es,ts,"esm2017")}();Ir("firebase","11.9.0","app");function Uf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ff(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vf=Ff,zf=new tn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bf=new Nn("@firebase/auth");function Hf(e){if(Bf.logLevel<=vn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bf.error("Auth (".concat(Sr,"): ").concat(e),...n)}}function qf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Qf(e,...n)}function Wf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qf(e,...n)}function Kf(e,t,n){const r=Object.assign(Object.assign({},Vf()),{[t]:n});return new tn("auth","Firebase",r).create(t,{appName:e.name})}function Gf(e){return Kf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return zf.create(e,...n)}function Yf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Qf(t,...r)}}function Xf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hf(t),new Error(t)}function Jf(e,t){e||Xf(t)}function $f(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zf(){return"http:"===em()||"https:"===em()}function em(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function tm(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zf()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class nm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return tm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rm(e,t){Jf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class sm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Xf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Xf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Xf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const im={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},am=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],om=new nm(3e4,6e4);function lm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function cm(e,t,n,r){return um(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=an(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&qt(e.emulatorConfig.host)&&(l.credentials="include"),sm.fetch()(await hm(e,e.config.apiHost,n,a),l)}))}async function um(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},im),t);try{const t=new mm(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw pm(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pm(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw pm(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw pm(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Kf(e,o,a);qf(e,o)}}catch(zy){if(zy instanceof en)throw zy;qf(e,"network-request-failed",{message:String(zy)})}}async function dm(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await cm(e,t,n,r,s);return"mfaPendingCredential"in i&&qf(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function hm(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,a=i.config.emulator?rm(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(am.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function fm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mm{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wf(this.auth,"network-request-failed"))),om.get())}))}}function pm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wf(e,t,r);return s.customData._tokenResponse=n,s}function gm(e){return void 0!==e&&void 0!==e.enterprise}class vm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ym(e,t){return cm(e,"GET","/v2/recaptchaConfig",lm(e,t))}async function bm(e,t){return cm(e,"POST","/v1/accounts:lookup",t)}function xm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(zy){}}function wm(e){return 1e3*Number(e)}function Nm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const e=Lt(n);return e?JSON.parse(e):(Hf("Failed to decode base64 JWT payload"),null)}catch(zy){return Hf("Caught error parsing JWT payload as JSON",null===zy||void 0===zy?void 0:zy.toString()),null}}function Em(e){const t=Nm(e);return Yf(t,"internal-error"),Yf("undefined"!==typeof t.exp,"internal-error"),Yf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function _m(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(zy){throw zy instanceof en&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(zy)&&e.auth.currentUser===e&&await e.auth.signOut(),zy}}class km{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(zy){return void((null===zy||void 0===zy?void 0:zy.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xm(this.lastLoginAt),this.creationTime=xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cm(e){var t;const n=e.auth,r=await e.getIdToken(),s=await _m(e,bm(n,{idToken:r}));Yf(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Tm(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Tm(e){return e.map((e=>{var{providerId:t}=e,n=Uf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Im{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yf(e.idToken,"internal-error"),Yf("undefined"!==typeof e.idToken,"internal-error"),Yf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Em(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Yf(0!==e.length,"internal-error");const t=Em(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Yf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await um(e,{},(async()=>{const n=an({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await hm(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sm.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Im;return n&&(Yf("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Yf("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Yf("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Im,this.toJSON())}_performRefresh(){return Xf("not implemented")}}function jm(e,t){Yf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Am{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new km(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _m(this,this.stsTokenManager.getToken(this.auth,e));return Yf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=dn(e),r=await n.getIdToken(t),s=Nm(r);Yf(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xm(wm(s.auth_time)),issuedAtTime:xm(wm(s.iat)),expirationTime:xm(wm(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=dn(e);await Cm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Yf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Am(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Yf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Cm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Gf(this.auth));const e=await this.getIdToken();return await _m(this,async function(e,t){return cm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:N}=t;Yf(y&&N,e,"internal-error");const E=Im.fromJSON(this.name,N);Yf("string"===typeof y,e,"internal-error"),jm(u,e.name),jm(d,e.name),Yf("boolean"===typeof b,e,"internal-error"),Yf("boolean"===typeof x,e,"internal-error"),jm(h,e.name),jm(f,e.name),jm(m,e.name),jm(p,e.name),jm(g,e.name),jm(v,e.name);const _=new Am({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:m,stsTokenManager:E,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(_.providerData=w.map((e=>Object.assign({},e)))),p&&(_._redirectEventId=p),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Im;r.updateFromServerResponse(t);const s=new Am({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Cm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Yf(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Tm(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),a=new Im;a.updateFromIdToken(n);const o=new Am({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Sm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(o,l),o}}const Rm=new Map;function Pm(e){Jf(e instanceof Function,"Expected a class definition");let t=Rm.get(e);return t?(Jf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rm.set(e,t),t)}class Dm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dm.type="NONE";const Om=Dm;function Lm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Mm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Lm(this.userKey,r.apiKey,s),this.fullPersistenceKey=Lm("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await bm(this.auth,{idToken:e}).catch((()=>{}));return t?Am._fromGetAccountInfoResponse(this.auth,t,e):null}return Am._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Mm(Pm(Om),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||Pm(Om);const i=Lm(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await bm(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Am._fromGetAccountInfoResponse(e,r,t)}else n=Am._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(i)}catch(l){}}))),new Mm(s,e,n)):new Mm(s,e,n)}}function Um(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qm(t))return"Blackberry";if(Wm(t))return"Webos";if(Vm(t))return"Safari";if((t.includes("chrome/")||zm(t))&&!t.includes("edge/"))return"Chrome";if(Hm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/firefox\//i.test(e)}function Vm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/crios\//i.test(e)}function Bm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/iemobile/i.test(e)}function Hm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/android/i.test(e)}function qm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/blackberry/i.test(e)}function Wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/webos/i.test(e)}function Km(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Gm(){return function(){const e=Xt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt();return Km(e)||Hm(e)||Wm(e)||qm(e)||/windows phone/i.test(e)||Bm(e)}function Ym(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Um(Xt());break;case"Worker":t="".concat(Um(Xt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sr,"/").concat(r)}class Xm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(zy){r(zy)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(zy){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===zy||void 0===zy?void 0:zy.message})}}}class Jm{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class $m{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ep(this),this.idTokenSubscription=new ep(this),this.beforeStateQueue=new Xm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pm(t)),this._initializationPromise=this.queue((async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await Mm.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(zy){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await bm(this,{idToken:e}),n=await Am._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(zy){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(zy)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Yf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(zy){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cm(e)}catch(zy){if((null===zy||void 0===zy?void 0:zy.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Gf(this));const t=e?dn(e):null;return t&&Yf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Yf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Er(this.app)?Promise.reject(Gf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Gf(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Pm(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return cm(e,"GET","/v2/passwordPolicy",lm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Jm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return cm(e,"POST","/v2/accounts:revokeToken",lm(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pm(e)||this._popupRedirectResolver;Yf(t,this,"argument-error"),this.redirectPersistenceManager=await Mm.create(this,[Pm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yf(a,this,"internal-error"),a.then((()=>{i||s(this.currentUser)})),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ym(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Bf.logLevel<=vn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bf.warn("Auth (".concat(Sr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Zm(e){return dn(e)}class ep{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new cn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Yf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function np(e){return tp.loadJS(e)}function rp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class sp{constructor(){this.enterprise=new ip}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ip{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ap="NO_RECAPTCHA";class op{constructor(e){this.type="recaptcha-enterprise",this.auth=Zm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;gm(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(ap)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new sp).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ym(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new vm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&gm(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=tp.recaptchaEnterpriseScript;0!==t.length&&(t+=s),np(t).then((()=>{n(s,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function lp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new op(e);let a;if(s)a=ap;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cp(e,t,n,r,s){var i,a;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lp(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch((async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await lp(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)}))}if("PHONE_PROVIDER"===s){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const s=await lp(e,t,n);return r(e,s).catch((async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await lp(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)}))}{const s=await lp(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function up(e){const t=Zm(e),n=await ym(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new vm(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new op(t).verify()}}function dp(e,t,n){const r=Zm(e);Yf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=hp(t),{host:a,port:o}=function(e){const t=hp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:fp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:fp(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Yf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Yf(rn(c,r.config.emulator)&&rn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,qt(a)?(Wt("".concat(i,"//").concat(a).concat(l)),Yt("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class mp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xf("not implemented")}_getIdTokenResponse(e){return Xf("not implemented")}_linkToIdToken(e,t){return Xf("not implemented")}_getReauthenticationResolver(e){return Xf("not implemented")}}async function pp(e,t){return cm(e,"POST","/v1/accounts:signUp",t)}async function gp(e,t){return dm(e,"POST","/v1/accounts:signInWithPassword",lm(e,t))}class vp extends mp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new vp(e,t,"password")}static _fromEmailAndCode(e,t){return new vp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return cp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return dm(e,"POST","/v1/accounts:signInWithEmailLink",lm(e,t))}(e,{email:this._email,oobCode:this._password});default:qf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return cp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return dm(e,"POST","/v1/accounts:signInWithEmailLink",lm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yp(e,t){return dm(e,"POST","/v1/accounts:signInWithIdp",lm(e,t))}class bp extends mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Uf(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new bp(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return yp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=an(t)}return e}}async function xp(e,t){return cm(e,"POST","/v1/accounts:sendVerificationCode",lm(e,t))}const wp={USER_NOT_FOUND:"user-not-found"};class Np extends mp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Np({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Np({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return dm(e,"POST","/v1/accounts:signInWithPhoneNumber",lm(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await dm(e,"POST","/v1/accounts:signInWithPhoneNumber",lm(e,t));if(n.temporaryProof)throw pm(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return dm(e,"POST","/v1/accounts:signInWithPhoneNumber",lm(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),wp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Np({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class Ep{constructor(e){var t,n,r,s,i,a;const o=on(ln(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Yf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=on(ln(e)).link,n=t?on(ln(t)).deep_link_id:null,r=on(ln(e)).deep_link_id;return(r?on(ln(r)).link:null)||r||n||t||e}(e);try{return new Ep(t)}catch(n){return null}}}class _p{constructor(){this.providerId=_p.PROVIDER_ID}static credential(e,t){return vp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ep.parseLink(t);return Yf(n,"argument-error"),vp._fromEmailAndCode(e,n.code,n.tenantId)}}_p.PROVIDER_ID="password",_p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_p.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sp extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cp extends Sp{constructor(){super("facebook.com")}static credential(e){return bp._fromParams({providerId:Cp.PROVIDER_ID,signInMethod:Cp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cp.credentialFromTaggedObject(e)}static credentialFromError(e){return Cp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Cp.credential(t.oauthAccessToken)}catch(n){return null}}}Cp.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cp.PROVIDER_ID="facebook.com";class Tp extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bp._fromParams({providerId:Tp.PROVIDER_ID,signInMethod:Tp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tp.credentialFromTaggedObject(e)}static credentialFromError(e){return Tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Tp.credential(n,r)}catch(s){return null}}}Tp.GOOGLE_SIGN_IN_METHOD="google.com",Tp.PROVIDER_ID="google.com";class Ip extends Sp{constructor(){super("github.com")}static credential(e){return bp._fromParams({providerId:Ip.PROVIDER_ID,signInMethod:Ip.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ip.credentialFromTaggedObject(e)}static credentialFromError(e){return Ip.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ip.credential(t.oauthAccessToken)}catch(n){return null}}}Ip.GITHUB_SIGN_IN_METHOD="github.com",Ip.PROVIDER_ID="github.com";class jp extends Sp{constructor(){super("twitter.com")}static credential(e,t){return bp._fromParams({providerId:jp.PROVIDER_ID,signInMethod:jp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jp.credentialFromTaggedObject(e)}static credentialFromError(e){return jp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return jp.credential(n,r)}catch(s){return null}}}jp.TWITTER_SIGN_IN_METHOD="twitter.com",jp.PROVIDER_ID="twitter.com";class Ap{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Am._fromIdTokenResponse(e,n,r),i=Rp(n);return new Ap({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Rp(n);return new Ap({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Rp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Pp extends en{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Pp(e,t,n,r)}}function Dp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Pp._fromErrorAndOperation(e,n,t,r);throw n}))}async function Op(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await _m(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ap._forOperation(e,"link",r)}async function Lp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Er(r.app))return Promise.reject(Gf(r));const s="reauthenticate";try{const i=await _m(e,Dp(r,s,t,e),n);Yf(i.idToken,r,"internal-error");const a=Nm(i.idToken);Yf(a,r,"internal-error");const{sub:o}=a;return Yf(e.uid===o,r,"user-mismatch"),Ap._forOperation(e,s,i)}catch(zy){throw(null===zy||void 0===zy?void 0:zy.code)==="auth/".concat("user-not-found")&&qf(r,"user-mismatch"),zy}}async function Mp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Er(e.app))return Promise.reject(Gf(e));const r="signIn",s=await Dp(e,r,t),i=await Ap._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function Up(e,t){return cm(e,"POST","/v2/accounts/mfaEnrollment:start",lm(e,t))}new WeakMap;const Fp="__sak";class Vp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class zp extends Vp{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Gm()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zp.type="LOCAL";const Bp=zp;function Hp(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function qp(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Wp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=qp(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Hp(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=qp(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=qp(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Hp(n);const s=setInterval((()=>{const e=Hp(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(s)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Wp.type="COOKIE";class Kp extends Vp{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kp.type="SESSION";const Gp=Kp;class Qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Qp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,s))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qp.receivers=[];class Xp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise(((a,o)=>{const l=Yp("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Jp(){return window}function $p(){return"undefined"!==typeof Jp().WorkerGlobalScope&&"function"===typeof Jp().importScripts}const Zp="firebaseLocalStorageDb",eg="firebaseLocalStorage",tg="fbase_key";class ng{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rg(e,t){return e.transaction([eg],t?"readwrite":"readonly").objectStore(eg)}function sg(){const e=indexedDB.open(Zp,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(eg,{keyPath:tg})}catch(zy){n(zy)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(eg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Zp);return new ng(e).toPromise()}(),t(await sg()))}))}))}async function ig(e,t,n){const r=rg(e,!0).put({[tg]:t,value:n});return new ng(r).toPromise()}function ag(e,t){const n=rg(e,!0).delete(t);return new ng(n).toPromise()}class og{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await sg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(zy){if(t++>3)throw zy;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $p()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qp._getInstance($p()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Xp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await ig(e,Fp,"1"),await ag(e,Fp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ig(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rg(e,!1).get(t),r=await new ng(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ag(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rg(e,!1).getAll();return new ng(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}og.type="LOCAL";const lg=og;function cg(e,t){return cm(e,"POST","/v2/accounts/mfaSignIn:start",lm(e,t))}rp("rcb"),new nm(3e4,6e4);const ug="recaptcha";async function dg(e,t,n){var r;if(!e._getRecaptchaConfig())try{await up(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Yf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=cp(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ap){Yf((null===n||void 0===n?void 0:n.type)===ug,e,"argument-error");return Up(e,await hg(e,t,n))}return Up(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Yf("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Yf(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=cp(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ap){Yf((null===n||void 0===n?void 0:n.type)===ug,e,"argument-error");return cg(e,await hg(e,t,n))}return cg(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=cp(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===ap){Yf((null===n||void 0===n?void 0:n.type)===ug,e,"argument-error");return xp(e,await hg(e,t,n))}return xp(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function hg(e,t,n){Yf(n.type===ug,e,"argument-error");const r=await n.verify();Yf("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class fg{constructor(e){this.providerId=fg.PROVIDER_ID,this.auth=Zm(e)}verifyPhoneNumber(e,t){return dg(this.auth,e,dn(t))}static credential(e,t){return Np._fromVerification(e,t)}static credentialFromResult(e){const t=e;return fg.credentialFromTaggedObject(t)}static credentialFromError(e){return fg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Np._fromTokenResponse(n,r):null}}function mg(e,t){return t?Pm(t):(Yf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fg.PROVIDER_ID="phone",fg.PHONE_SIGN_IN_METHOD="phone";class pg extends mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gg(e){return Mp(e.auth,new pg(e),e.bypassAuthState)}function vg(e){const{auth:t,user:n}=e;return Yf(n,t,"internal-error"),Lp(n,new pg(e),e.bypassAuthState)}async function yg(e){const{auth:t,user:n}=e;return Yf(n,t,"internal-error"),Op(n,new pg(e),e.bypassAuthState)}class bg{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(zy){this.reject(zy)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(zy){this.reject(zy)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gg;case"linkViaPopup":case"linkViaRedirect":return yg;case"reauthViaPopup":case"reauthViaRedirect":return vg;default:qf(this.auth,"internal-error")}}resolve(e){Jf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xg=new nm(2e3,1e4);class wg extends bg{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,wg.currentPopupAction&&wg.currentPopupAction.cancel(),wg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yf(e,this.auth,"internal-error"),e}async onExecution(){Jf(1===this.filter.length,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wf(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wf(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,xg.get())};e()}}wg.currentPopupAction=null;const Ng=new Map;class Eg extends bg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ng.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Sg(t),r=kg(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(zy){e=()=>Promise.reject(zy)}Ng.set(this.auth._key(),e)}return this.bypassAuthState||Ng.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _g(e,t){Ng.set(e._key(),t)}function kg(e){return Pm(e._redirectPersistence)}function Sg(e){return Lm("pendingRedirect",e.config.apiKey,e.name)}async function Cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Er(e.app))return Promise.reject(Gf(e));const r=Zm(e),s=mg(r,t),i=new Eg(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Tg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jg(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ig(e))}saveEventToCache(e){this.cachedEventUids.add(Ig(e)),this.lastProcessedEventTime=Date.now()}}function Ig(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function jg(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ag=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rg=/^https?/;async function Pg(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return cm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Dg(r))return}catch(n){}qf(e,"unauthorized-domain")}function Dg(e){const t=$f(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Rg.test(n))return!1;if(Ag.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Og=new nm(3e4,6e4);function Lg(){const e=Jp().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Mg(e){return new Promise(((t,n)=>{var r,s,i;function a(){Lg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lg(),n(Wf(e,"network-request-failed"))},timeout:Og.get()})}if(null===(s=null===(r=Jp().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Jp().gapi)||void 0===i?void 0:i.load)){const t=rp("iframefcb");return Jp()[t]=()=>{gapi.load?a():n(Wf(e,"network-request-failed"))},np("".concat(tp.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Ug=null,e}))}let Ug=null;const Fg=new nm(5e3,15e3),Vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bg(e){const t=e.config;Yf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?rm(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sr},s=zg.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(an(r).slice(1))}async function Hg(e){const t=await function(e){return Ug=Ug||Mg(e),Ug}(e),n=Jp().gapi;return Yf(n,e,"internal-error"),t.open({where:document.body,url:Bg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vg,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Wf(e,"network-request-failed"),i=Jp().setTimeout((()=>{r(s)}),Fg.get());function a(){Jp().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(s)}))}))))}const qg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(zy){}}}function Kg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},qg),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Xt().toLowerCase();n&&(o=zm(c)?"_blank":n),Fm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Km(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Wg(null);const d=window.open(t||"",o,u);Yf(d,e,"popup-blocked");try{d.focus()}catch(zy){}return new Wg(d)}const Gg="__/auth/handler",Qg="emulator/auth/handler",Yg=encodeURIComponent("fac");async function Xg(e,t,n,r,s,i){Yf(e.config.authDomain,e,"auth-domain-config-required"),Yf(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sr,eventId:s};if(t instanceof kp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Sp){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Yg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gg);return rm(t,Qg)}(e),"?").concat(an(o).slice(1)).concat(c)}const Jg="webStorageSupport";const $g=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gp,this._completeRedirectFn=Cg,this._overrideRedirectResult=_g}async _openPopup(e,t,n,r){var s;Jf(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Kg(e,await Xg(e,t,n,$f(),r),Yp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Jp().location.href=e}(await Xg(e,t,n,$f(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Jf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Hg(e),n=new Tg(e);return t.register("authEvent",(t=>{Yf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jg,{type:Jg},(n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Jg];void 0!==s&&t(!!s),qf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qm()||Vm()||Km()}};var Zg="@firebase/auth",ev="1.10.6";class tv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nv=Bt("authIdTokenMaxAge")||300;let rv=null;var sv;tp={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},sv="Browser",wr(new hn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Yf(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:sv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ym(sv)},c=new $m(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),wr(new hn("auth-internal",(e=>(e=>new tv(e))(Zm(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(Zg,ev,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sv)),Ir(Zg,ev,"esm2017");const iv="firebasestorage.googleapis.com",av="storageBucket";class ov extends en{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(uv(e),"Firebase Storage: ".concat(t," (").concat(uv(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ov.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var lv,cv;function uv(e){return"storage/"+e}function dv(){return new ov(lv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hv(){return new ov(lv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fv(){return new ov(lv.CANCELED,"User canceled the upload/download.")}function mv(){return new ov(lv.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pv(e){return new ov(lv.INVALID_ARGUMENT,e)}function gv(){return new ov(lv.APP_DELETED,"The Firebase app was deleted.")}function vv(e,t){return new ov(lv.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yv(e){throw new ov(lv.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(lv||(lv={}));class bv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=bv.makeFromUrl(e,t)}catch(zy){return new bv(e,"")}if(""===n.path)return n;throw r=e,new ov(lv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===iv?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new bv(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new ov(lv.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class xv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function wv(e){return"string"===typeof e||e instanceof String}function Nv(e){return Ev()&&e instanceof Blob}function Ev(){return"undefined"!==typeof Blob}function _v(e,t,n,r){if(r<t)throw pv("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pv("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function kv(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Sv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Cv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cv||(cv={}));class Tv{constructor(e,t,n,r,s,i,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Iv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===cv.NO_ERROR,s=n.getStatus();if(!t||Cv(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===cv.ABORT;return void e(!1,new Iv(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Iv(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(zy){r(zy)}else if(null!==s){const e=dv();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?gv():fv())}else{r(hv())}};this.canceled_?t(0,new Iv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){s=setTimeout((()=>{s=null,e(f,l())}),t)}function h(){i&&clearTimeout(i)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),d(i)}let m=!1;function p(e){m||(m=!0,h(),c||(null!==s?(e||(o=2),clearTimeout(s),d(0)):e||(o=1)))}return d(0),i=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Iv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function jv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Av(){const e=jv();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ev())return new Blob(n);throw new ov(lv.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Rv(e){if("undefined"===typeof atob)throw t="base-64",new ov(lv.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Pv="raw",Dv="base64",Ov="base64url",Lv="data_url";class Mv{constructor(e,t){this.data=e,this.contentType=t||null}}function Uv(e,t){switch(e){case Pv:return new Mv(Fv(t));case Dv:case Ov:return new Mv(Vv(e,t));case Lv:return new Mv(function(e){const t=new zv(e);return t.base64?Vv(Dv,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(zy){throw vv(Lv,"Malformed data URL.")}return Fv(t)}(t.rest)}(t),new zv(t).contentType)}throw dv()}function Fv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Vv(e,t){switch(e){case Dv:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw vv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Ov:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw vv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rv(t)}catch(zy){if(zy.message.includes("polyfill"))throw zy;throw vv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class zv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw vv(Lv,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Bv{constructor(e,t){let n=0,r="";Nv(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Nv(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Bv(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Bv(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ev()){const e=t.map((e=>e instanceof Bv?e.data_:e));return new Bv(Av.apply(null,e))}{const e=t.map((e=>wv(e)?Uv(Pv,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let s=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]})),new Bv(r,!0)}}uploadData(){return this.data_}}function Hv(e){let t;try{t=JSON.parse(e)}catch(zy){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function qv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Wv(e,t){return t}class Kv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Wv}}let Gv=null;function Qv(){if(Gv)return Gv;const e=[];e.push(new Kv("bucket")),e.push(new Kv("generation")),e.push(new Kv("metageneration")),e.push(new Kv("name","fullPath",!0));const t=new Kv("name");t.xform=function(e,t){return function(e){return!wv(e)||e.length<2?e:qv(e)}(t)},e.push(t);const n=new Kv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Kv("timeCreated")),e.push(new Kv("updated")),e.push(new Kv("md5Hash",null,!0)),e.push(new Kv("cacheControl",null,!0)),e.push(new Kv("contentDisposition",null,!0)),e.push(new Kv("contentEncoding",null,!0)),e.push(new Kv("contentLanguage",null,!0)),e.push(new Kv("contentType",null,!0)),e.push(new Kv("metadata","customMetadata",!0)),Gv=e,Gv}function Yv(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new bv(n,r);return t._makeStorageReference(s)}})}(r,e),r}function Xv(e,t,n){const r=Hv(t);if(null===r)return null;return Yv(e,r,n)}function Jv(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class $v{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zv(e){if(!e)throw dv()}function ey(e,t){return function(n,r){const s=Xv(e,r,t);return Zv(null!==s),s}}function ty(e,t){return function(n,r){const s=Xv(e,r,t);return Zv(null!==s),function(e,t,n,r){const s=Hv(t);if(null===s)return null;if(!wv(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map((t=>{const s=e.bucket,i=e.fullPath;return kv("/b/"+a(s)+"/o/"+a(i),n,r)+Sv({alt:"media",token:t})}))[0]}(s,r,e.host,e._protocol)}}function ny(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ov(lv.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new ov(lv.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new ov(lv.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new ov(lv.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ry(e){const t=ny(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new ov(lv.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function sy(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function iy(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=sy(t,r,s),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Jv(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Bv.getBlob(c,r,u);if(null===d)throw mv();const h={name:l.fullPath},f=kv(i,e.host,e._protocol),m=e.maxUploadRetryTime,p=new $v(f,"POST",ey(e,n),m);return p.urlParams=h,p.headers=a,p.body=d.uploadData(),p.errorHandler=ny(t),p}class ay{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cv.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=cv.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=cv.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r,s){if(this.sent_)throw yv("cannot .send() more than once");if(qt(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(zy){return-1}}getResponse(){if(!this.sent_)throw yv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class oy extends ay{initXhr(){this.xhr_.responseType="text"}}function ly(){return new oy}class cy{constructor(e,t){this._service=e,this._location=t instanceof bv?t:bv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cy(e,t)}get root(){const e=new bv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new bv(this._location.bucket,e);return new cy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ov(lv.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function uy(e,t,n){e._throwIfRoot("uploadBytes");const r=iy(e.storage,e._location,Qv(),new Bv(t,!0),n);return e.storage.makeRequestWithTokens(r,ly).then((t=>({metadata:t,ref:e})))}function dy(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=kv(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new $v(r,"GET",ty(e,n),s);return i.errorHandler=ry(t),i}(e.storage,e._location,Qv());return e.storage.makeRequestWithTokens(t,ly).then((e=>{if(null===e)throw new ov(lv.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function hy(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new bv(e._location.bucket,n);return new cy(e.storage,r)}function fy(e,t){if(e instanceof gy){const n=e;if(null==n._bucket)throw new ov(lv.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+av+"' property when initializing the app?");const r=new cy(n,n._bucket);return null!=t?fy(r,t):r}return void 0!==t?hy(e,t):e}function my(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gy)return new cy(e,t);throw pv("To use ref(service, url), the first argument must be a Storage instance.")}return fy(e,t)}function py(e,t){const n=null===t||void 0===t?void 0:t[av];return null==n?null:bv.makeFromBucketSpec(n,e)}class gy{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=i,this._bucket=null,this._host=iv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?bv.makeFromBucketSpec(r,this._host):py(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=bv.makeFromBucketSpec(this._url,e):this._bucket=py(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_v("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_v("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cy(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new xv(gv());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Sv(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Tv(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const vy="@firebase/storage",yy="0.13.12",by="storage";function xy(e,t,n){return uy(e=dn(e),t,n)}function wy(e){return dy(e=dn(e))}function Ny(e,t){return my(e=dn(e),t)}function Ey(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new gy(r,s,i,n,Sr)}wr(new hn(by,Ey,"PUBLIC").setMultipleInstances(!0)),Ir(vy,yy,""),Ir(vy,yy,"esm2017");const _y=Cr({apiKey:"AIzaSyAZbqzxJ9CbWRU4fh3I-ZnYESsggabjkvM",authDomain:"victor-landy-wedding.firebaseapp.com",projectId:"victor-landy-wedding",storageBucket:"victor-landy-wedding.firebasestorage.app",messagingSenderId:"209201397711",appId:"1:209201397711:web:79d1aaec1ed28019075cba"}),ky=function(e,t){const n="object"==typeof e?e:Tr(),r="string"==typeof e?e:t||na,s=Nr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=Vt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;e=bh(e,Eh);const i=qt(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&(Wt("https://".concat(l)),Yt("Firestore",!0)),a.host!==xh&&a.host!==l&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:i,emulatorOptions:r});if(!rn(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ns.MOCK_USER;else{t=Kt(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ps(ms.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ns(i)}e._authCredentials=new bs(new vs(t,n))}}(s,...e)}return s}(_y),Sy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr(),t=arguments.length>1?arguments[1]:void 0;e=dn(e);const n=Nr(e,by).getImmediate({identifier:t}),r=Vt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const s=qt(t);s&&(Wt("https://".concat(e.host)),Yt("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Kt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(_y),Cy=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();const t=Nr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Nr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(rn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;qf(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$g,persistence:[lg,Bp,Gp]}),r=Bt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>nv)return;const r=null===t||void 0===t?void 0:t.token;rv!==r&&(rv=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){dn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){dn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var s;const i=Ft("auth");i&&dp(n,"http://".concat(i))}(_y),[{partyId:"smith-family",partyName:"Smith Family",contactEmail:"sam.smith@email.com",members:[{id:"sam-smith",name:"Sam Smith",isMainContact:!0,searchNames:["sam smith","samuel smith"]},{id:"sarah-smith",name:"Sarah Smith",isMainContact:!1,searchNames:["sarah smith","sara smith"]},{id:"sam-smith-jr",name:"Sam Smith Jr",isMainContact:!1,searchNames:["sam smith jr","sam jr","sammy smith"]}]},{partyId:"garcia-family",partyName:"Garc\xeda Family",contactEmail:"maria.garcia@email.com",members:[{id:"maria-garcia",name:"Mar\xeda Garc\xeda",isMainContact:!0,searchNames:["maria garcia","mar\xeda garc\xeda","maria"]},{id:"carlos-garcia",name:"Carlos Garc\xeda",isMainContact:!1,searchNames:["carlos garcia","carlos garc\xeda","carlos"]}]},{partyId:"johnson-party",partyName:"Johnson Party",contactEmail:"alex.johnson@email.com",members:[{id:"alex-johnson",name:"Alex Johnson",isMainContact:!0,searchNames:["alex johnson","alexander johnson","alex"]},{id:"jamie-johnson",name:"Jamie Johnson",isMainContact:!1,searchNames:["jamie johnson","james johnson"]},{id:"taylor-johnson",name:"Taylor Johnson",isMainContact:!1,searchNames:["taylor johnson","taylor"]}]}]);function Ty(e){let{language:t,onPartySelected:n,onError:s}=e;const[i,a]=(0,r.useState)(""),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f=(0,r.useCallback)((async e=>{if(e.trim().length<2)return l([]),void h(!1);u(!0),h(!0),s("");try{await new Promise((e=>setTimeout(e,300)));const n=(e=>{const t=[],n=e.toLowerCase().trim();if(n.length<2)return t;Cy.forEach((e=>{e.members.forEach((r=>{r.searchNames.some((e=>e.toLowerCase().includes(n)))&&t.push({party:e,matchedMember:r})}))}));const r=[],s=new Set;return t.forEach((e=>{s.has(e.party.partyId)||(s.add(e.party.partyId),r.push(e))})),r})(e.trim());l(n),0===n.length&&s("es"===t?"No se encontr\xf3 ning\xfan invitado con ese nombre. Verifica la ortograf\xeda o intenta con un nombre diferente.":"No guests found with that name. Please check the spelling or try a different name.")}catch(n){console.error("Search error:",n),s("es"===t?"Error al buscar invitados. Por favor, int\xe9ntalo de nuevo.":"Error searching for guests. Please try again.")}finally{u(!1)}}),[t,s]);return(0,Nt.jsx)("div",{className:"p-8",children:(0,Nt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h2",{className:"text-2xl font-semibold text-stone-700 mb-4",children:"es"===t?"Confirmaci\xf3n de Asistencia":"RSVP Confirmation"}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-6",children:"es"===t?"Te guiaremos paso a paso para confirmar la asistencia de tu grupo.":"We'll guide you step by step to confirm your party's attendance."}),(0,Nt.jsxs)("div",{className:"bg-stone-50 border border-stone-200 rounded-xl p-4 mb-6",children:[(0,Nt.jsx)("h3",{className:"text-stone-700 font-semibold mb-3 text-sm",children:"es"===t?"Proceso en 3 pasos:":"3-step process:"}),(0,Nt.jsxs)("div",{className:"text-xs text-stone-600 space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Nt.jsx)("span",{className:"w-5 h-5 bg-pink-400 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),(0,Nt.jsx)("span",{children:"es"===t?"Buscar tu nombre":"Find your name"})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Nt.jsx)("span",{className:"w-5 h-5 bg-stone-300 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),(0,Nt.jsx)("span",{children:"es"===t?"Confirmar por persona":"Confirm per person"})]}),(0,Nt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Nt.jsx)("span",{className:"w-5 h-5 bg-stone-300 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),(0,Nt.jsx)("span",{children:"es"===t?"Revisar y enviar":"Review and submit"})]})]})]})]}),(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{className:"block text-stone-700 font-medium mb-2",children:"es"===t?"Paso 1: Escribe tu nombre":"Step 1: Enter your name"}),(0,Nt.jsx)("input",{type:"text",value:i,onChange:e=>{const t=e.target.value;a(t),f(t)},placeholder:"es"===t?"Ej: Mar\xeda Garc\xeda":"Ex: John Smith",className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent",autoComplete:"off"}),(0,Nt.jsx)("p",{className:"text-xs text-stone-500 mt-2",children:"es"===t?"Buscaremos tu grupo autom\xe1ticamente":"We'll automatically find your party"})]}),c&&(0,Nt.jsxs)("div",{className:"text-center py-4",children:[(0,Nt.jsx)("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-pink-400"}),(0,Nt.jsx)("p",{className:"text-stone-600 mt-2",children:"es"===t?"Buscando...":"Searching..."})]}),!c&&o.length>0&&(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsx)("h3",{className:"text-lg font-medium text-stone-700 mb-4",children:"es"===t?"Selecciona tu grupo:":"Select your party:"}),o.map((e=>(0,Nt.jsx)("div",{onClick:()=>{return t=e.party,void n(t);var t},className:"p-4 border border-stone-200 rounded-xl hover:border-pink-300 hover:bg-pink-50 cursor-pointer transition-colors",children:(0,Nt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold text-stone-700",children:e.party.partyName}),(0,Nt.jsxs)("p",{className:"text-sm text-stone-600 mt-1",children:["es"===t?"Encontrado: ":"Found: ",(0,Nt.jsx)("span",{className:"font-medium",children:e.matchedMember.name})]}),(0,Nt.jsxs)("p",{className:"text-xs text-stone-500 mt-1",children:[e.party.members.length," ",1===e.party.members.length?"es"===t?"persona":"person":"es"===t?"personas":"people"]})]}),(0,Nt.jsx)("div",{className:"text-pink-400",children:(0,Nt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},e.party.partyId)))]}),!c&&d&&0===o.length&&i.trim().length>=2&&(0,Nt.jsxs)("div",{className:"text-center py-8",children:[(0,Nt.jsx)("div",{className:"text-stone-400 text-4xl mb-4",children:"\ud83d\udd0d"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"es"===t?"No se encontraron resultados":"No results found"}),(0,Nt.jsx)("p",{className:"text-sm text-stone-500 mt-2",children:"es"===t?"Intenta con un nombre diferente o verifica la ortograf\xeda":"Try a different name or check the spelling"})]}),!d&&(0,Nt.jsxs)("div",{className:"text-center py-8 text-stone-500",children:[(0,Nt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udc4b"}),(0,Nt.jsx)("p",{className:"text-sm",children:"es"===t?"Escribe tu nombre o apellido para comenzar":"Type your first or last name to get started"})]})]})})}function Iy(e){let{language:t,party:n,existingResponses:r,onContinue:s,onStartOver:i}=e;const a=Object.keys(r).length>0,o=(()=>{if(!a)return null;let e=0,t=0,n=0,s=0;return Object.values(r).forEach((r=>{"yes"===r.weddingDay&&e++,"no"===r.weddingDay&&t++,"yes"===r.tornaBoda&&n++,"no"===r.tornaBoda&&s++})),{weddingAttending:e,weddingNotAttending:t,tornaAttending:n,tornaNotAttending:s}})();return(0,Nt.jsx)("div",{className:"p-8",children:(0,Nt.jsxs)("div",{className:"max-w-2xl mx-auto",children:["        ",(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("div",{className:"text-green-500 text-4xl mb-4",children:"\ud83d\udc65"}),(0,Nt.jsxs)("h2",{className:"text-2xl font-semibold text-stone-700 mb-4",children:["es"===t?"\xa1Hola!":"Hello!"," ",n.partyName]}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-6",children:"es"===t?"Hemos encontrado tu grupo. A continuaci\xf3n podr\xe1s confirmar la asistencia para cada persona en los siguientes pasos.":"We found your party. You'll be able to confirm attendance for each person in the following steps."}),(0,Nt.jsxs)("div",{className:"bg-pink-50 border border-pink-200 rounded-xl p-4 mb-6",children:[(0,Nt.jsxs)("h3",{className:"text-pink-800 font-semibold mb-3 text-center",children:[(0,Nt.jsx)("span",{className:"inline-block align-middle mr-2 text-lg",children:"\ud83d\udccb"}),(0,Nt.jsx)("span",{className:"inline-block align-middle",children:"es"===t?"Proceso de Confirmaci\xf3n (3 pasos)":"Confirmation Process (3 steps)"})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"w-8 h-8 bg-pink-400 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"1"}),(0,Nt.jsx)("p",{className:"text-pink-700 font-medium",children:"es"===t?"Ver tu grupo":"View your party"}),(0,Nt.jsx)("p",{className:"text-pink-600 text-xs",children:"es"===t?"(paso actual)":"(current step)"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"w-8 h-8 bg-stone-300 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"2"}),(0,Nt.jsx)("p",{className:"text-stone-600 font-medium",children:"es"===t?"Confirmar por persona":"Confirm per person"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-xs",children:"es"===t?"Cada invitado individualmente":"Each guest individually"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"w-8 h-8 bg-stone-300 text-white rounded-full flex items-center justify-center mx-auto mb-2 font-bold",children:"3"}),(0,Nt.jsx)("p",{className:"text-stone-600 font-medium",children:"es"===t?"Revisar y enviar":"Review and submit"}),(0,Nt.jsx)("p",{className:"text-stone-500 text-xs",children:"es"===t?"Confirmaci\xf3n final":"Final confirmation"})]})]})]})]}),"        ",(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-6 mb-8",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"es"===t?"Miembros del Grupo:":"Party Members:"}),(0,Nt.jsx)("p",{className:"text-sm text-stone-500 mb-4",children:"es"===t?"En el siguiente paso podr\xe1s confirmar la asistencia para cada persona individualmente.":"In the next step you'll be able to confirm attendance for each person individually."}),(0,Nt.jsx)("div",{className:"space-y-3",children:n.members.map((e=>(0,Nt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Nt.jsx)("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:(0,Nt.jsx)("span",{className:"text-pink-500 font-medium",children:e.name.charAt(0).toUpperCase()})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("p",{className:"font-medium text-stone-700",children:e.name}),e.isMainContact&&(0,Nt.jsx)("p",{className:"text-xs text-stone-500",children:"es"===t?"Contacto principal":"Main contact"})]})]}),r[e.id]&&(0,Nt.jsxs)("div",{className:"text-right text-sm",children:[(0,Nt.jsxs)("div",{className:"text-stone-600",children:["es"===t?"Boda:":"Wedding:",(0,Nt.jsx)("span",{className:"ml-1 font-medium ".concat("yes"===r[e.id].weddingDay?"text-green-600":"no"===r[e.id].weddingDay?"text-red-600":"text-stone-400"),children:"yes"===r[e.id].weddingDay?"\u2713":"no"===r[e.id].weddingDay?"\u2717":"?"})]}),(0,Nt.jsxs)("div",{className:"text-stone-600",children:["Torna-Boda:",(0,Nt.jsx)("span",{className:"ml-1 font-medium ".concat("yes"===r[e.id].tornaBoda?"text-green-600":"no"===r[e.id].tornaBoda?"text-red-600":"text-stone-400"),children:"yes"===r[e.id].tornaBoda?"\u2713":"no"===r[e.id].tornaBoda?"\u2717":"?"})]})]})]},e.id)))})]}),a&&o&&(0,Nt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"es"===t?"Respuestas Anteriores":"Previous Responses"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-medium text-blue-700 mb-2",children:"es"===t?"D\xeda de la Boda:":"Wedding Day:"}),(0,Nt.jsxs)("p",{className:"text-green-600",children:["\u2713 ",o.weddingAttending," ","es"===t?"asistir\xe1n":"attending"]}),(0,Nt.jsxs)("p",{className:"text-red-600",children:["\u2717 ",o.weddingNotAttending," ","es"===t?"no asistir\xe1n":"not attending"]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-medium text-blue-700 mb-2",children:"Torna-Boda:"}),(0,Nt.jsxs)("p",{className:"text-green-600",children:["\u2713 ",o.tornaAttending," ","es"===t?"asistir\xe1n":"attending"]}),(0,Nt.jsxs)("p",{className:"text-red-600",children:["\u2717 ",o.tornaNotAttending," ","es"===t?"no asistir\xe1n":"not attending"]})]})]}),(0,Nt.jsx)("p",{className:"text-blue-600 text-sm mt-3",children:"es"===t?"Puedes actualizar estas respuestas si es necesario.":"You can update these responses if needed."})]}),"        ",(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("p",{className:"text-stone-600 text-sm mb-4",children:"es"===t?"Haz clic en el bot\xf3n de abajo para comenzar el proceso de confirmaci\xf3n paso a paso.":"Click the button below to start the step-by-step confirmation process."}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Nt.jsx)("button",{onClick:i,className:"px-6 py-3 border border-stone-300 text-stone-700 rounded-xl hover:bg-stone-50 transition-colors",children:"es"===t?"Buscar Otro Grupo":"Search Different Party"}),(0,Nt.jsx)("button",{onClick:s,className:"px-8 py-4 bg-pink-400 hover:bg-pink-500 text-white rounded-xl font-medium transition-colors shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 justify-center",children:(0,Nt.jsx)("span",{children:a?"es"===t?"Actualizar Confirmaciones \u2192":"Update Confirmations \u2192":"es"===t?"Comenzar Confirmaci\xf3n \u2192":"Start Confirmation \u2192"})})]}),(0,Nt.jsx)("p",{className:"text-xs text-stone-500 mt-3",children:"es"===t?"Podr\xe1s confirmar cada persona individualmente en el siguiente paso":"You'll be able to confirm each person individually in the next step"})]})]})})}function jy(e){let{language:t,party:n,responses:s,onResponseChange:i,onContinue:a,onBack:o}=e;const[l,c]=(0,r.useState)({}),[d,h]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e={};n.members.forEach((t=>{e[t.id]=s[t.id]||{weddingDay:"",tornaBoda:""}})),c(e)}),[n.members,s]);const f=n.members[d],m=l[null===f||void 0===f?void 0:f.id]||{},p=(e,t)=>{const n=u(u({},l),{},{[f.id]:u(u({},m),{},{[e]:t})});c(n),i(f.id,n[f.id])},g=()=>{d<n.members.length-1&&h(d+1)},v=()=>{d>0&&h(d-1)},y=()=>m.weddingDay&&m.tornaBoda,b=()=>n.members.every((e=>{const t=l[e.id];return t&&t.weddingDay&&t.tornaBoda})),x=()=>{n.members.forEach((e=>{i(e.id,l[e.id])})),a()};return f?(0,Nt.jsx)("div",{className:"p-8",children:(0,Nt.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Nt.jsx)("div",{className:"flex justify-center items-center space-x-2 mb-8",children:n.members.map(((e,t)=>{var s,i;return(0,Nt.jsxs)(r.Fragment,{children:[(0,Nt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium cursor-pointer transition-colors ".concat(t===d?"bg-pink-400 text-white":null!==(s=l[e.id])&&void 0!==s&&s.weddingDay&&null!==(i=l[e.id])&&void 0!==i&&i.tornaBoda?"bg-green-100 text-green-600":"bg-stone-200 text-stone-500"),onClick:()=>h(t),children:t+1}),t<n.members.length-1&&(0,Nt.jsx)("div",{className:"w-4 h-px bg-stone-300"})]},e.id)}))}),(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Nt.jsx)("span",{className:"text-pink-500 text-xl font-bold",children:f.name.charAt(0).toUpperCase()})}),(0,Nt.jsx)("h2",{className:"text-2xl font-semibold text-stone-700 mb-2",children:f.name}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"es"===t?"Persona ".concat(d+1," de ").concat(n.members.length):"Person ".concat(d+1," of ").concat(n.members.length)})]}),(0,Nt.jsxs)("div",{className:"space-y-8",children:[(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-6",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-4",children:"es"===t?"D\xeda de la Boda":"Wedding Day"}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-4 text-sm",children:"es"===t?"S\xe1bado, [Fecha] - Ceremonia y Recepci\xf3n":"Saturday, [Date] - Ceremony and Reception"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsxs)("label",{className:"flex items-center p-3 bg-white rounded-lg cursor-pointer hover:bg-green-50 transition-colors",children:[(0,Nt.jsx)("input",{type:"radio",name:"wedding-".concat(f.id),value:"yes",checked:"yes"===m.weddingDay,onChange:e=>p("weddingDay",e.target.value),className:"mr-3 text-green-500"}),(0,Nt.jsx)("span",{className:"text-stone-700",children:"es"===t?"\u2713 S\xed, asistir\xe9":"\u2713 Yes, I will attend"})]}),(0,Nt.jsxs)("label",{className:"flex items-center p-3 bg-white rounded-lg cursor-pointer hover:bg-red-50 transition-colors",children:[(0,Nt.jsx)("input",{type:"radio",name:"wedding-".concat(f.id),value:"no",checked:"no"===m.weddingDay,onChange:e=>p("weddingDay",e.target.value),className:"mr-3 text-red-500"}),(0,Nt.jsx)("span",{className:"text-stone-700",children:"es"===t?"\u2717 No podr\xe9 asistir":"\u2717 I cannot attend"})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-6",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-4",children:"Torna-Boda"}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-4 text-sm",children:"es"===t?"Domingo, [Fecha] - Celebraci\xf3n posterior":"Sunday, [Date] - Post-wedding celebration"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsxs)("label",{className:"flex items-center p-3 bg-white rounded-lg cursor-pointer hover:bg-green-50 transition-colors",children:[(0,Nt.jsx)("input",{type:"radio",name:"torna-".concat(f.id),value:"yes",checked:"yes"===m.tornaBoda,onChange:e=>p("tornaBoda",e.target.value),className:"mr-3 text-green-500"}),(0,Nt.jsx)("span",{className:"text-stone-700",children:"es"===t?"\u2713 S\xed, asistir\xe9":"\u2713 Yes, I will attend"})]}),(0,Nt.jsxs)("label",{className:"flex items-center p-3 bg-white rounded-lg cursor-pointer hover:bg-red-50 transition-colors",children:[(0,Nt.jsx)("input",{type:"radio",name:"torna-".concat(f.id),value:"no",checked:"no"===m.tornaBoda,onChange:e=>p("tornaBoda",e.target.value),className:"mr-3 text-red-500"}),(0,Nt.jsx)("span",{className:"text-stone-700",children:"es"===t?"\u2717 No podr\xe9 asistir":"\u2717 I cannot attend"})]})]})]})]}),"        ",(0,Nt.jsxs)("div",{className:"mt-8 pt-6 border-t border-stone-200",children:[(0,Nt.jsxs)("div",{className:"block sm:hidden space-y-3",children:[(0,Nt.jsx)("button",{onClick:o,className:"w-full px-6 py-3 border border-stone-300 text-stone-700 rounded-xl hover:bg-stone-50 transition-colors",children:"es"===t?"\u2190 Volver al Grupo":"\u2190 Back to Party"}),(0,Nt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[d>0&&(0,Nt.jsx)("button",{onClick:v,className:"px-4 py-3 border border-stone-300 text-stone-700 rounded-xl hover:bg-stone-50 transition-colors text-sm",children:"es"===t?"\u2190 Anterior":"\u2190 Previous"}),d<n.members.length-1?(0,Nt.jsx)("button",{onClick:g,disabled:!y(),className:"px-4 py-3 rounded-xl font-medium transition-colors text-sm ".concat(y()?"bg-pink-400 hover:bg-pink-500 text-white":"bg-stone-200 text-stone-400 cursor-not-allowed"," ").concat(0===d?"col-span-2":""),children:"es"===t?"Siguiente \u2192":"Next \u2192"}):(0,Nt.jsx)("button",{onClick:x,disabled:!b(),className:"px-6 py-3 rounded-xl font-medium transition-colors text-sm ".concat(b()?"bg-pink-400 hover:bg-pink-500 text-white":"bg-stone-200 text-stone-400 cursor-not-allowed"," ").concat(0===d?"col-span-2":""),children:"es"===t?"Revisar \u2192":"Review \u2192"})]})]}),(0,Nt.jsxs)("div",{className:"hidden sm:flex justify-between items-center",children:[(0,Nt.jsx)("button",{onClick:o,className:"px-6 py-3 border border-stone-300 text-stone-700 rounded-xl hover:bg-stone-50 transition-colors",children:"es"===t?"\u2190 Volver":"\u2190 Back"}),(0,Nt.jsxs)("div",{className:"flex space-x-3",children:[d>0&&(0,Nt.jsx)("button",{onClick:v,className:"px-4 py-3 border border-stone-300 text-stone-700 rounded-xl hover:bg-stone-50 transition-colors",children:"es"===t?"\u2190 Anterior":"\u2190 Previous"}),d<n.members.length-1?(0,Nt.jsx)("button",{onClick:g,disabled:!y(),className:"px-4 py-3 rounded-xl font-medium transition-colors ".concat(y()?"bg-pink-400 hover:bg-pink-500 text-white":"bg-stone-200 text-stone-400 cursor-not-allowed"),children:"es"===t?"Siguiente \u2192":"Next \u2192"}):(0,Nt.jsx)("button",{onClick:x,disabled:!b(),className:"px-6 py-3 rounded-xl font-medium transition-colors ".concat(b()?"bg-pink-400 hover:bg-pink-500 text-white":"bg-stone-200 text-stone-400 cursor-not-allowed"),children:"es"===t?"Revisar \u2192":"Review \u2192"})]})]})]}),(0,Nt.jsxs)("div",{className:"mt-4 text-center text-sm text-stone-500",children:[n.members.filter((e=>{const t=l[e.id];return t&&t.weddingDay&&t.tornaBoda})).length," ","es"===t?"de":"of"," ",n.members.length," ","es"===t?"completadas":"completed"]})]})}):null}function Ay(e){let{language:t,party:n,responses:s,onSubmit:i,onBack:a,loading:o}=e;const[l,c]=(0,r.useState)(n.contactEmail||""),[d,h]=(0,r.useState)(!1),f=(()=>{const e=n.members.map((e=>u(u({},e),{},{response:s[e.id]||{}}))),t=e.filter((e=>"yes"===e.response.weddingDay)).length,r=e.filter((e=>"yes"===e.response.tornaBoda)).length;e.filter((e=>{var t;return null===(t=e.response.additionalNotes)||void 0===t?void 0:t.trim()})).length;return{members:e,weddingAttending:t,tornaAttending:r}})();return(0,Nt.jsx)("div",{className:"p-8",children:(0,Nt.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("div",{className:"text-blue-500 text-4xl mb-4",children:"\ud83d\udccb"}),(0,Nt.jsx)("h2",{className:"text-2xl font-semibold text-stone-700 mb-4",children:"es"===t?"Revisar Confirmaci\xf3n":"Review RSVP"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"es"===t?"Por favor revisa las respuestas antes de enviar":"Please review your responses before submitting"})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-6",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-4",children:"es"===t?"D\xeda de la Boda":"Wedding Day"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"Asistir\xe1n:":"Attending:"}),(0,Nt.jsx)("span",{className:"font-semibold text-green-600",children:f.weddingAttending})]}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"No asistir\xe1n:":"Not attending:"}),(0,Nt.jsx)("span",{className:"font-semibold text-red-600",children:n.members.length-f.weddingAttending})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-6",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-4",children:"Torna-Boda"}),(0,Nt.jsxs)("div",{className:"space-y-2",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"Asistir\xe1n:":"Attending:"}),(0,Nt.jsx)("span",{className:"font-semibold text-green-600",children:f.tornaAttending})]}),(0,Nt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Nt.jsx)("span",{className:"text-stone-600",children:"es"===t?"No asistir\xe1n:":"Not attending:"}),(0,Nt.jsx)("span",{className:"font-semibold text-red-600",children:n.members.length-f.tornaAttending})]})]})]})]}),(0,Nt.jsxs)("div",{className:"bg-white border border-stone-200 rounded-xl p-6 mb-8",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-6",children:"es"===t?"Respuestas Detalladas":"Detailed Responses"}),(0,Nt.jsx)("div",{className:"space-y-6",children:f.members.map((e=>(0,Nt.jsxs)("div",{className:"border-b border-stone-100 pb-6 last:border-b-0 last:pb-0",children:[(0,Nt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Nt.jsx)("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:(0,Nt.jsx)("span",{className:"text-pink-500 font-medium",children:e.name.charAt(0).toUpperCase()})}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h4",{className:"font-semibold text-stone-700",children:e.name}),e.isMainContact&&(0,Nt.jsx)("p",{className:"text-xs text-stone-500",children:"es"===t?"Contacto principal":"Main contact"})]})]}),(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("span",{className:"text-sm text-stone-600",children:"es"===t?"D\xeda de la Boda:":"Wedding Day:"}),(0,Nt.jsx)("div",{className:"inline-block ml-2 px-2 py-1 rounded-full text-xs font-medium ".concat("yes"===e.response.weddingDay?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"yes"===e.response.weddingDay?"es"===t?"Asistir\xe1":"Attending":"es"===t?"No asistir\xe1":"Not attending"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("span",{className:"text-sm text-stone-600",children:"Torna-Boda:"}),(0,Nt.jsx)("div",{className:"inline-block ml-2 px-2 py-1 rounded-full text-xs font-medium ".concat("yes"===e.response.tornaBoda?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"yes"===e.response.tornaBoda?"es"===t?"Asistir\xe1":"Attending":"es"===t?"No asistir\xe1":"Not attending"})]}),"                "]})]},e.id)))})]}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-6 mb-8",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-4",children:"es"===t?"Email de Contacto":"Contact Email"}),(0,Nt.jsx)("input",{type:"email",value:l,onChange:e=>c(e.target.value),placeholder:"es"===t?"tu@email.com":"your@email.com",className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent",required:!0}),(0,Nt.jsx)("p",{className:"text-sm text-stone-500 mt-2",children:"es"===t?"Usaremos este email para enviarte confirmaciones y actualizaciones":"We'll use this email to send you confirmations and updates"})]}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Nt.jsx)("button",{onClick:a,disabled:o||d,className:"px-6 py-3 border border-stone-300 text-stone-700 rounded-xl hover:bg-stone-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"es"===t?"\u2190 Editar Respuestas":"\u2190 Edit Responses"}),(0,Nt.jsx)("button",{onClick:async()=>{h(!0);const e=u({},s),t=u(u({},e),{},{contactEmail:l.trim(),submittedAt:(new Date).toISOString()});await i(t),h(!1)},disabled:o||d||!l.trim(),className:"px-8 py-3 rounded-xl font-medium transition-colors ".concat(o||d||!l.trim()?"bg-stone-200 text-stone-400 cursor-not-allowed":"bg-pink-400 hover:bg-pink-500 text-white"),children:o||d?(0,Nt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Nt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Nt.jsx)("span",{children:"es"===t?"Enviando...":"Submitting..."})]}):"es"===t?"Enviar Confirmaci\xf3n":"Submit RSVP"})]}),(0,Nt.jsx)("div",{className:"text-center mt-6",children:(0,Nt.jsx)("p",{className:"text-xs text-stone-500",children:"es"===t?"Al enviar, confirmas que la informaci\xf3n es correcta y puedes ser contactado en el email proporcionado.":"By submitting, you confirm the information is correct and you can be contacted at the provided email."})})]})})}function Ry(e){let{language:t,texts:n}=e;const[s,i]=(0,r.useState)("search"),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)({}),[d,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),p=async e=>{try{const t=Th(ky,"rsvps",e),n=await function(e){e=bh(e,kh);const t=bh(e.firestore,Rh);return dh(Ph(t),e._key).then((n=>Lf(t,e,n)))}(t);if(n.exists()){const e=n.data();c(e.responses||{})}}catch(f){console.error("Error loading existing responses:",f)}},g=()=>{i("search"),o(null),c({}),m("")};return(0,Nt.jsx)("div",{className:"min-h-screen py-16 px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-6xl mb-6",children:"\ud83d\udc8c"}),(0,Nt.jsx)("h1",{className:"text-4xl font-autography text-stone-700 mb-4",children:n[t].rsvp.title}),(0,Nt.jsx)("p",{className:"text-lg text-stone-600 mb-8",children:"es"===t?"Busca tu nombre para encontrar tu grupo y confirmar asistencia":"Search your name to find your party and confirm attendance"}),(0,Nt.jsxs)("div",{className:"flex justify-center items-center space-x-4 mb-8",children:[(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("search"===s?"bg-pink-400":["party","individual","review","submitted"].includes(s)?"bg-stone-400":"bg-stone-200")}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("party"===s?"bg-pink-400":["individual","review","submitted"].includes(s)?"bg-stone-400":"bg-stone-200")}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("individual"===s?"bg-pink-400":["review","submitted"].includes(s)?"bg-stone-400":"bg-stone-200")}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("review"===s?"bg-pink-400":"submitted"===s?"bg-stone-400":"bg-stone-200")}),(0,Nt.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("submitted"===s?"bg-pink-400":"bg-stone-200")})]})]}),"        ",f&&(0,Nt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6",children:f}),(0,Nt.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg border border-stone-200 overflow-hidden",children:["search"===s&&(0,Nt.jsx)(Ty,{language:t,onPartySelected:async e=>{o(e),i("party"),await p(e.partyId)},onError:m}),"party"===s&&a&&(0,Nt.jsx)(Iy,{language:t,party:a,existingResponses:l,onContinue:()=>i("individual"),onStartOver:g}),"individual"===s&&a&&(0,Nt.jsx)(jy,{language:t,party:a,responses:l,onResponseChange:(e,t)=>{c((n=>u(u({},n),{},{[e]:t})))},onContinue:()=>i("review"),onBack:()=>i("party")}),"review"===s&&a&&(0,Nt.jsx)(Ay,{language:t,party:a,responses:l,onSubmit:async e=>{h(!0),m("");try{const t=Th(ky,"rsvps",a.partyId);await Pf(t,{partyId:a.partyId,partyName:a.partyName,contactEmail:a.contactEmail,responses:e,submittedAt:Mf(),lastUpdated:Mf()},{merge:!0}),i("submitted")}catch(f){console.error("Error submitting RSVP:",f),m("es"===t?"Error al enviar la confirmaci\xf3n. Por favor, int\xe9ntalo de nuevo.":"Error submitting RSVP. Please try again.")}finally{h(!1)}},onBack:()=>i("individual"),loading:d}),"submitted"===s&&(0,Nt.jsxs)("div",{className:"p-8 text-center",children:[(0,Nt.jsx)("div",{className:"text-green-500 text-6xl mb-6",children:"\u2705"}),(0,Nt.jsx)("h2",{className:"text-2xl font-semibold text-stone-700 mb-4",children:"es"===t?"\xa1Confirmaci\xf3n Recibida!":"RSVP Received!"}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-6",children:"es"===t?"Gracias por confirmar tu asistencia. Hemos guardado tu respuesta.":"Thank you for confirming your attendance. We have saved your response."}),(0,Nt.jsx)("button",{onClick:g,className:"bg-pink-400 hover:bg-pink-500 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"es"===t?"Hacer Otra Confirmaci\xf3n":"Make Another RSVP"})]})]})]})})}function Py(e){var t;let{language:n,texts:s}=e;const[i,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[x,w]=(0,r.useState)(!1),[N,E]=(0,r.useState)(new Set),_=null===s||void 0===s||null===(t=s[n])||void 0===t?void 0:t.registry;(0,r.useEffect)((()=>{_&&s&&k()}),[_,s]);const k=async()=>{try{l(!0);const e=gf(Ch(ky,"registry"),xf("createdAt","desc")),t=await Rf(e);if(t.empty){const e=(null===_||void 0===_?void 0:_.items)||[];if(e.length>0){const t=await Promise.all(e.map((async e=>{const t=Th(ky,"registry",e.id);return await Pf(t,{itemId:e.id,name:e.name,description:e.description,targetAmount:e.targetAmount,image:e.image,currentAmount:0,contributions:[],createdAt:Mf()}),u(u({},e),{},{currentAmount:0,contributions:[]})})));a(t)}else a([])}else{const e=[];t.forEach((t=>{const n=t.data();e.push({id:t.id,name:n.name,description:n.description,targetAmount:n.targetAmount,image:n.image,imageUrl:n.imageUrl,currentAmount:n.currentAmount||0,contributions:n.contributions||[]})})),a(e)}}catch(e){console.error("Error loading registry data:",e),a([])}finally{l(!1)}},S=()=>{d(null),f(""),p(""),v(""),w(!1)},C=(e,t)=>Math.min(e/t*100,100),T=(e,t)=>e>=t,I=e=>{E((t=>new Set([...t,e])))},j=e=>e.imageUrl&&!N.has(e.id);return o?(0,Nt.jsx)("div",{className:"min-h-screen py-16 px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto text-center",children:[(0,Nt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-400 mx-auto"}),(0,Nt.jsx)("p",{className:"mt-4 text-stone-600",children:"Loading registry..."})]})}):_?(0,Nt.jsxs)("div",{className:"min-h-screen py-16 px-6 bg-gray-50",children:[(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-6xl mb-6",children:"\ud83c\udf81"}),(0,Nt.jsx)("h1",{className:"text-4xl font-autography text-stone-700 mb-4",children:_.title}),(0,Nt.jsx)("h2",{className:"text-2xl text-stone-600 mb-6",children:_.subtitle}),(0,Nt.jsx)("p",{className:"text-lg text-stone-600 max-w-3xl mx-auto",children:_.description})]}),"        ",(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map((e=>(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-stone-200 overflow-hidden hover:shadow-xl transition-shadow",children:[(0,Nt.jsx)("div",{className:"relative",children:j(e)?(0,Nt.jsx)("div",{className:"w-full h-48 bg-stone-100",children:(0,Nt.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover",onError:()=>I(e.id)})}):(0,Nt.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-pink-50 to-stone-100 flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"text-6xl",children:e.image})})}),(0,Nt.jsxs)("div",{className:"p-4",children:[(0,Nt.jsxs)("div",{className:"text-center mb-3",children:[(0,Nt.jsx)("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:e.name}),(0,Nt.jsx)("p",{className:"text-stone-600 text-xs line-clamp-2",children:e.description})]}),(0,Nt.jsxs)("div",{className:"mb-3",children:[(0,Nt.jsxs)("div",{className:"flex justify-between text-xs text-stone-600 mb-1",children:[(0,Nt.jsxs)("span",{children:[_.contributed,": $",e.currentAmount]}),(0,Nt.jsxs)("span",{children:[_.goal,": $",e.targetAmount]})]}),(0,Nt.jsx)("div",{className:"w-full bg-stone-200 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(T(e.currentAmount,e.targetAmount)?"bg-green-500":"bg-pink-400"),style:{width:"".concat(C(e.currentAmount,e.targetAmount),"%")}})}),(0,Nt.jsx)("div",{className:"text-center mt-1",children:(0,Nt.jsxs)("span",{className:"text-xs font-medium text-stone-700",children:[Math.round(C(e.currentAmount,e.targetAmount)),"%"]})})]}),"                ",T(e.currentAmount,e.targetAmount)?(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsxs)("div",{className:"inline-flex items-center bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-medium",children:[(0,Nt.jsx)("span",{className:"mr-1",children:"\u2705"}),_.goalReached]})}):(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsx)("button",{onClick:()=>(e=>{d(e),f(""),p(""),v(""),w(!1)})(e),className:"bg-pink-400 hover:bg-pink-500 text-white px-4 py-2 rounded-xl font-medium transition-colors w-full text-sm",children:_.contributeButton})}),e.contributions&&e.contributions.length>0&&(0,Nt.jsxs)("div",{className:"mt-2 text-center text-xs text-stone-500",children:[e.contributions.length," ","es"===n?"contribuci\xf3n(es)":"contribution(s)"]})]})]},e.id)))})]}),"      ",c&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Nt.jsx)("div",{className:"bg-white rounded-3xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:x?(0,Nt.jsxs)("div",{className:"p-8 text-center",children:[(0,Nt.jsx)("div",{className:"text-green-500 text-6xl mb-4",children:"\u2705"}),(0,Nt.jsx)("h3",{className:"text-2xl font-semibold text-stone-700 mb-4",children:_.thankYou}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-6",children:_.contributionSuccess}),(0,Nt.jsx)("button",{onClick:S,className:"bg-pink-400 hover:bg-pink-500 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:_.backToRegistry})]}):(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsxs)("h3",{className:"text-xl font-semibold text-stone-700",children:["es"===n?"Contribuir a":"Contribute to"," ",c.name]}),(0,Nt.jsx)("button",{onClick:S,className:"text-stone-400 hover:text-stone-600 p-1",children:(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"                ",(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("div",{className:"mb-4",children:j(c)?(0,Nt.jsx)("div",{className:"w-full h-40 rounded-xl overflow-hidden bg-stone-100",children:(0,Nt.jsx)("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover",onError:()=>I(c.id)})}):(0,Nt.jsx)("div",{className:"w-full h-40 rounded-xl bg-gradient-to-br from-pink-50 to-stone-100 flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"text-6xl",children:c.image})})}),(0,Nt.jsx)("div",{className:"text-center mb-4",children:(0,Nt.jsx)("p",{className:"text-stone-600 text-sm",children:c.description})}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-4",children:[(0,Nt.jsxs)("div",{className:"text-sm text-stone-600 mb-2",children:[_.contributed,": $",c.currentAmount," / $",c.targetAmount]}),(0,Nt.jsx)("div",{className:"w-full bg-stone-200 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"h-2 bg-pink-400 rounded-full transition-all duration-500",style:{width:"".concat(C(c.currentAmount,c.targetAmount),"%")}})})]})]}),(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"es"===n?"Monto de Contribuci\xf3n ($)":"Contribution Amount ($)"}),(0,Nt.jsx)("input",{type:"number",min:"1",value:h,onChange:e=>f(e.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"25"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"es"===n?"Tu Nombre":"Your Name"}),(0,Nt.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"es"===n?"Tu nombre":"Your name"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"es"===n?"Mensaje (Opcional)":"Message (Optional)"}),(0,Nt.jsx)("textarea",{value:g,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",rows:"3",placeholder:"es"===n?"Un mensaje especial...":"A special message..."})]})]}),(0,Nt.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Nt.jsx)("button",{onClick:S,className:"flex-1 bg-stone-200 hover:bg-stone-300 text-stone-700 px-4 py-3 rounded-xl font-medium transition-colors",children:"es"===n?"Cancelar":"Cancel"}),(0,Nt.jsx)("button",{onClick:async()=>{if(h&&m){b(!0);try{const t=parseFloat(h);if(t<=0)return;const n=Th(ky,"registry",c.id),r={amount:t,contributorName:m.trim(),message:g.trim(),timestamp:Mf(),id:Date.now().toString()};await Df(n,{currentAmount:(e=t,new Xh("increment",e)),contributions:[...c.contributions||[],r],lastUpdated:Mf()}),w(!0),setTimeout((()=>{k(),S()}),2e3)}catch(t){console.error("Error submitting contribution:",t)}finally{b(!1)}var e}},disabled:!h||!m||y,className:"flex-1 bg-pink-400 hover:bg-pink-500 disabled:bg-stone-300 disabled:cursor-not-allowed text-white px-4 py-3 rounded-xl font-medium transition-colors",children:y?"es"===n?"Enviando...":"Submitting...":_.contributeButton})]})]})})})]}):(0,Nt.jsx)("div",{className:"min-h-screen py-16 px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto text-center",children:[(0,Nt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-400 mx-auto"}),(0,Nt.jsx)("p",{className:"mt-4 text-stone-600",children:"Loading..."})]})})}function Dy(e){let{language:t,texts:n}=e;const[s,i]=(0,r.useState)("rsvp"),[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),[f,m]=(0,r.useState)(""),[p,g]=(0,r.useState)("all"),[v,y]=(0,r.useState)(""),[b,x]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),[E,_]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[C,T]=(0,r.useState)(null),[I,j]=(0,r.useState)({name:"",description:"",targetAmount:"",image:"\ud83c\udf81",imageFile:null,imageUrl:""}),[A,R]=(0,r.useState)(!1),P=e=>{e.preventDefault(),"VictorLandy2025!"===w?(x(!0),_(""),M()):_("Invalid password")},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&e.type.startsWith("image/")){const n=new FileReader;n.onload=n=>{t?T((t=>u(u({},t),{},{imageFile:e,imageUrl:n.target.result}))):j((t=>u(u({},t),{},{imageFile:e,imageUrl:n.target.result})))},n.readAsDataURL(e)}},O=()=>{j({name:"",description:"",targetAmount:"",image:"\ud83c\udf81",imageFile:null,imageUrl:""}),S(!1)},L=()=>{T(null)};(0,r.useEffect)((()=>{b&&("rsvp"===s?M():"registry"===s&&U())}),[b,s]);const M=async()=>{try{h(!0);const e=gf(Ch(ky,"rsvps"),xf("submittedAt","desc")),t=await Rf(e),n=[];t.forEach((e=>{n.push(u({id:e.id},e.data()))})),o(n)}catch(f){console.error("Error loading RSVPs:",f),m("Error loading RSVP data")}finally{h(!1)}},U=async()=>{try{h(!0);const e=gf(Ch(ky,"registry"),xf("createdAt","desc")),t=await Rf(e),n=[];t.forEach((e=>{n.push(u({id:e.id},e.data()))})),c(n)}catch(f){console.error("Error loading registry items:",f),m("Error loading registry data")}finally{h(!1)}},F=async e=>{var t;if(window.confirm("Are you sure you want to delete this registry item? This action cannot be undone."))try{const n=Th(ky,"registry",e);await(t=n,Of(bh(t.firestore,Rh),[new dl(t._key,$o.none())])),U()}catch(f){console.error("Error deleting registry item:",f),m("Error deleting registry item")}},V=a.filter((e=>{if(v){const t=v.toLowerCase();if(!e.partyName.toLowerCase().includes(t)&&!e.contactEmail.toLowerCase().includes(t))return!1}return!0})),z=(e,t)=>{const n=Cy.find((t=>t.partyId===e));if(n){const e=n.members.find((e=>e.id===t));return e?e.name:"Member ".concat(t)}return"Member ".concat(t)},B=(()=>{let e=0,t=0,n=0,r=0,s=0,i=0;return a.forEach((a=>{Object.values(a.responses||{}).forEach((a=>{var o;a&&"object"===typeof a&&(a.weddingDay||a.tornaBoda)&&(e++,"yes"===a.weddingDay&&t++,"no"===a.weddingDay&&n++,"yes"===a.tornaBoda&&r++,"no"===a.tornaBoda&&s++,null!==(o=a.dietaryRestrictions)&&void 0!==o&&o.trim()&&i++)}))})),{totalParties:a.length,totalPeople:e,weddingAttending:t,weddingNotAttending:n,tornaAttending:r,tornaNotAttending:s,totalDietary:i}})();return b?d?(0,Nt.jsx)("div",{className:"min-h-screen py-16 px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto text-center",children:[(0,Nt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-400 mx-auto mb-4"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"Loading RSVP data..."})]})}):(0,Nt.jsx)("div",{className:"min-h-screen py-16 px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-7xl mx-auto",children:["        ",(0,Nt.jsxs)("div",{className:"text-center mb-12",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Nt.jsx)("div",{}),(0,Nt.jsx)("h1",{className:"text-4xl font-autography text-stone-700",children:"Admin Dashboard"}),(0,Nt.jsx)("button",{onClick:()=>{x(!1),N(""),_("")},className:"px-4 py-2 text-stone-600 hover:text-stone-800 border border-stone-300 rounded-lg hover:bg-stone-50 transition-colors",children:"Logout"})]}),(0,Nt.jsx)("p",{className:"text-lg text-stone-600",children:"Wedding Management Portal"}),(0,Nt.jsx)("div",{className:"flex justify-center mt-8",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-2 shadow-sm border border-stone-200",children:[(0,Nt.jsx)("button",{onClick:()=>i("rsvp"),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat("rsvp"===s?"bg-pink-400 text-white":"text-stone-600 hover:text-stone-800 hover:bg-stone-50"),children:"RSVP Management"}),(0,Nt.jsx)("button",{onClick:()=>i("registry"),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat("registry"===s?"bg-pink-400 text-white":"text-stone-600 hover:text-stone-800 hover:bg-stone-50"),children:"Registry Management"})]})})]}),"        ",f&&(0,Nt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6",children:f}),"rsvp"===s&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-stone-700",children:B.totalParties}),(0,Nt.jsx)("div",{className:"text-stone-600",children:"Total Parties"})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-stone-700",children:B.totalPeople}),(0,Nt.jsx)("div",{className:"text-stone-600",children:"Total People"})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-green-600",children:B.weddingAttending}),(0,Nt.jsx)("div",{className:"text-stone-600",children:"Wedding Attending"})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:B.tornaAttending}),(0,Nt.jsx)("div",{className:"text-stone-600",children:"Torna-Boda Attending"})]})]}),(0,Nt.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200 mb-8",children:(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,Nt.jsxs)("div",{className:"flex gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>g("all"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("all"===p?"bg-pink-400 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"),children:"All Responses"}),(0,Nt.jsx)("button",{onClick:()=>g("wedding"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("wedding"===p?"bg-pink-400 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"),children:"Wedding Day"}),(0,Nt.jsx)("button",{onClick:()=>g("torna"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("torna"===p?"bg-pink-400 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"),children:"Torna-Boda"})]}),(0,Nt.jsx)("div",{className:"flex-1 max-w-md",children:(0,Nt.jsx)("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Search parties or emails...",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent"})}),(0,Nt.jsx)("button",{onClick:M,className:"px-4 py-2 bg-stone-600 text-white rounded-lg hover:bg-stone-700 transition-colors",children:"Refresh"})]})}),(0,Nt.jsx)("div",{className:"space-y-6",children:0===V.length?(0,Nt.jsxs)("div",{className:"text-center py-12",children:[(0,Nt.jsx)("div",{className:"text-stone-400 text-4xl mb-4",children:"\ud83d\udced"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"No RSVP responses found"})]}):V.map((e=>{var t,n,r;return(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"text-xl font-semibold text-stone-700",children:e.partyName}),(0,Nt.jsx)("p",{className:"text-stone-600",children:e.contactEmail}),(0,Nt.jsxs)("p",{className:"text-sm text-stone-500",children:["Submitted: ",(null===(t=e.submittedAt)||void 0===t||null===(n=t.toDate)||void 0===n||null===(r=n.call(t))||void 0===r?void 0:r.toLocaleDateString())||"Unknown"]})]}),(0,Nt.jsx)("div",{className:"text-right",children:(0,Nt.jsxs)("div",{className:"text-sm text-stone-500",children:[Object.values(e.responses||{}).filter((e=>e&&"object"===typeof e&&(e.weddingDay||e.tornaBoda))).length," people"]})})]}),(0,Nt.jsx)("div",{className:"grid gap-4",children:Object.entries(e.responses||{}).map((t=>{let[n,r]=t;return r&&"object"===typeof r&&(r.weddingDay||r.tornaBoda)?(0,Nt.jsxs)("div",{className:"border border-stone-100 rounded-lg p-4",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Nt.jsx)("div",{children:(0,Nt.jsx)("h4",{className:"font-medium text-stone-700",children:z(e.partyId,n)})}),(0,Nt.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-stone-600 mb-1",children:"Wedding"}),(0,Nt.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("yes"===r.weddingDay?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"yes"===r.weddingDay?"Yes":"No"})]}),(0,Nt.jsxs)("div",{className:"text-center",children:[(0,Nt.jsx)("div",{className:"text-stone-600 mb-1",children:"Torna-Boda"}),(0,Nt.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("yes"===r.tornaBoda?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"yes"===r.tornaBoda?"Yes":"No"})]})]})]}),r.dietaryRestrictions&&(0,Nt.jsxs)("div",{className:"mb-2",children:[(0,Nt.jsx)("span",{className:"text-sm font-medium text-stone-600",children:"Dietary: "}),(0,Nt.jsx)("span",{className:"text-sm text-stone-700",children:r.dietaryRestrictions})]}),r.additionalNotes&&(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("span",{className:"text-sm font-medium text-stone-600",children:"Notes: "}),(0,Nt.jsx)("span",{className:"text-sm text-stone-700",children:r.additionalNotes})]})]},n):null})).filter(Boolean)})]},e.id)}))})]}),"registry"===s&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h2",{className:"text-2xl font-semibold text-stone-700",children:"Registry Items"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"Manage your wedding registry items and contributions"})]}),(0,Nt.jsx)("button",{onClick:()=>S(!0),className:"bg-pink-400 hover:bg-pink-500 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Add New Item"})]}),(0,Nt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===l.length?(0,Nt.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Nt.jsx)("div",{className:"text-stone-400 text-4xl mb-4",children:"\ud83c\udf81"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"No registry items found"}),(0,Nt.jsx)("button",{onClick:()=>S(!0),className:"mt-4 bg-pink-400 hover:bg-pink-500 text-white px-6 py-3 rounded-xl font-medium transition-colors",children:"Add Your First Item"})]}):l.map((e=>(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-4",children:[e.imageUrl?(0,Nt.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-16 h-16 object-cover rounded-lg mx-auto mb-2"}):(0,Nt.jsx)("div",{className:"text-3xl mb-2",children:e.image}),(0,Nt.jsx)("h3",{className:"font-semibold text-stone-700 mb-2",children:e.name}),(0,Nt.jsx)("p",{className:"text-sm text-stone-600 mb-3",children:e.description})]}),(0,Nt.jsxs)("div",{className:"mb-4",children:[(0,Nt.jsxs)("div",{className:"flex justify-between text-sm text-stone-600 mb-2",children:[(0,Nt.jsxs)("span",{children:["Contributed: $",e.currentAmount||0]}),(0,Nt.jsxs)("span",{children:["Goal: $",e.targetAmount]})]}),(0,Nt.jsx)("div",{className:"w-full bg-stone-200 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"h-2 bg-pink-400 rounded-full transition-all duration-500",style:{width:"".concat(Math.min((e.currentAmount||0)/e.targetAmount*100,100),"%")}})}),(0,Nt.jsxs)("div",{className:"text-center mt-2 text-sm text-stone-600",children:[Math.round((e.currentAmount||0)/e.targetAmount*100),"% complete"]})]}),(0,Nt.jsxs)("div",{className:"flex gap-2",children:[(0,Nt.jsx)("button",{onClick:()=>T(e),className:"flex-1 bg-stone-100 hover:bg-stone-200 text-stone-700 px-4 py-2 rounded-lg font-medium transition-colors",children:"Edit"}),(0,Nt.jsx)("button",{onClick:()=>F(e.id),className:"flex-1 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg font-medium transition-colors",children:"Delete"})]}),e.contributions&&e.contributions.length>0&&(0,Nt.jsxs)("div",{className:"mt-4 pt-4 border-t border-stone-200",children:[(0,Nt.jsxs)("p",{className:"text-sm font-medium text-stone-600 mb-2",children:["Recent Contributions (",e.contributions.length,")"]}),(0,Nt.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:e.contributions.slice(-3).map(((e,t)=>(0,Nt.jsxs)("div",{className:"text-xs text-stone-600 bg-stone-50 p-2 rounded",children:[(0,Nt.jsxs)("span",{className:"font-medium",children:["$",e.amount]})," by ",e.contributorName,e.message&&(0,Nt.jsxs)("div",{className:"italic mt-1",children:['"',e.message,'"']})]},t)))})]})]},e.id)))})]}),"        ",k&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Nt.jsx)("div",{className:"bg-white rounded-3xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-semibold text-stone-700",children:"Add New Registry Item"}),"                  ",(0,Nt.jsx)("button",{onClick:O,className:"text-stone-400 hover:text-stone-600 p-1",children:(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"                ",(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Item Name"}),(0,Nt.jsx)("input",{type:"text",value:I.name,onChange:e=>j(u(u({},I),{},{name:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"Living Room Sofa"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Description"}),(0,Nt.jsx)("textarea",{value:I.description,onChange:e=>j(u(u({},I),{},{description:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",rows:"3",placeholder:"A beautiful, comfortable sofa for our new living room..."})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Target Amount ($)"}),(0,Nt.jsx)("input",{type:"number",min:"1",value:I.targetAmount,onChange:e=>j(u(u({},I),{},{targetAmount:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"1500"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Item Image"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsx)("div",{className:"flex items-center justify-center w-full",children:I.imageUrl?(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("img",{src:I.imageUrl,alt:"Preview",className:"w-20 h-20 object-cover rounded-xl border-2 border-stone-200"}),(0,Nt.jsx)("button",{onClick:()=>j(u(u({},I),{},{imageFile:null,imageUrl:""})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"\xd7"})]}):(0,Nt.jsx)("div",{className:"text-4xl p-4 bg-stone-100 rounded-xl",children:I.image})}),(0,Nt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,Nt.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-stone-300 border-dashed rounded-xl cursor-pointer bg-stone-50 hover:bg-stone-100",children:[(0,Nt.jsxs)("div",{className:"flex flex-col items-center justify-center py-2",children:[(0,Nt.jsx)("svg",{className:"w-6 h-6 mb-1 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Nt.jsx)("p",{className:"text-xs text-stone-500",children:"Upload image"})]}),(0,Nt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>e.target.files[0]&&D(e.target.files[0],!1)})]})})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Emoji Icon (fallback)"}),(0,Nt.jsx)("input",{type:"text",value:I.image,onChange:e=>j(u(u({},I),{},{image:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"\ud83d\udecb\ufe0f"})]})]}),"                ",(0,Nt.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Nt.jsx)("button",{onClick:O,className:"flex-1 bg-stone-200 hover:bg-stone-300 text-stone-700 px-4 py-3 rounded-xl font-medium transition-colors",children:"Cancel"}),(0,Nt.jsx)("button",{onClick:async()=>{if(I.name&&I.description&&I.targetAmount)try{R(!0);const e=I.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");let t=null;if(I.imageFile){const n=Ny(Sy,"registry/".concat(e,"/").concat(I.imageFile.name));await xy(n,I.imageFile),t=await wy(n)}const n=Th(ky,"registry",e);await Pf(n,{itemId:e,name:I.name,description:I.description,targetAmount:parseFloat(I.targetAmount),image:I.image,imageUrl:t,currentAmount:0,contributions:[],createdAt:Mf()}),S(!1),j({name:"",description:"",targetAmount:"",image:"\ud83c\udf81",imageFile:null,imageUrl:""}),U(),m("")}catch(f){console.error("Error adding registry item:",f),m("Error adding registry item")}finally{R(!1)}else m("Please fill in all required fields")},disabled:!I.name||!I.description||!I.targetAmount||A,className:"flex-1 bg-pink-400 hover:bg-pink-500 disabled:bg-stone-300 disabled:cursor-not-allowed text-white px-4 py-3 rounded-xl font-medium transition-colors",children:A?"Uploading...":"Add Item"})]})]})})}),"        ",C&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Nt.jsx)("div",{className:"bg-white rounded-3xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:(0,Nt.jsxs)("div",{className:"p-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Nt.jsx)("h3",{className:"text-xl font-semibold text-stone-700",children:"Edit Registry Item"}),"                  ",(0,Nt.jsx)("button",{onClick:L,className:"text-stone-400 hover:text-stone-600 p-1",children:(0,Nt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),"                ",(0,Nt.jsxs)("div",{className:"space-y-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Item Name"}),(0,Nt.jsx)("input",{type:"text",value:C.name,onChange:e=>T(u(u({},C),{},{name:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Description"}),(0,Nt.jsx)("textarea",{value:C.description,onChange:e=>T(u(u({},C),{},{description:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent",rows:"3"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Target Amount ($)"}),(0,Nt.jsx)("input",{type:"number",min:"1",value:C.targetAmount,onChange:e=>T(u(u({},C),{},{targetAmount:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Item Image"}),(0,Nt.jsxs)("div",{className:"space-y-3",children:[(0,Nt.jsx)("div",{className:"flex items-center justify-center w-full",children:C.imageUrl?(0,Nt.jsxs)("div",{className:"relative",children:[(0,Nt.jsx)("img",{src:C.imageUrl,alt:"Current",className:"w-20 h-20 object-cover rounded-xl border-2 border-stone-200"}),C.imageFile&&(0,Nt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-xl flex items-center justify-center",children:(0,Nt.jsx)("span",{className:"text-white text-xs",children:"New"})})]}):(0,Nt.jsx)("div",{className:"text-4xl p-4 bg-stone-100 rounded-xl",children:C.image})}),(0,Nt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,Nt.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-stone-300 border-dashed rounded-xl cursor-pointer bg-stone-50 hover:bg-stone-100",children:[(0,Nt.jsxs)("div",{className:"flex flex-col items-center justify-center pt-2 pb-3",children:[(0,Nt.jsx)("svg",{className:"w-6 h-6 mb-2 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Nt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Nt.jsx)("p",{className:"text-xs text-stone-500",children:"Upload new image"})]}),(0,Nt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>e.target.files[0]&&D(e.target.files[0],!0)})]})})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Emoji Icon (fallback)"}),(0,Nt.jsx)("input",{type:"text",value:C.image,onChange:e=>T(u(u({},C),{},{image:e.target.value})),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:ring-2 focus:ring-pink-400 focus:border-transparent"})]}),(0,Nt.jsxs)("div",{className:"bg-stone-50 rounded-xl p-4",children:[(0,Nt.jsxs)("div",{className:"text-sm text-stone-600 mb-2",children:["Current Progress: $",C.currentAmount||0," / $",C.targetAmount]}),(0,Nt.jsx)("div",{className:"w-full bg-stone-200 rounded-full h-2",children:(0,Nt.jsx)("div",{className:"h-2 bg-pink-400 rounded-full",style:{width:"".concat(Math.min((C.currentAmount||0)/C.targetAmount*100,100),"%")}})})]})]}),"                ",(0,Nt.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Nt.jsx)("button",{onClick:L,className:"flex-1 bg-stone-200 hover:bg-stone-300 text-stone-700 px-4 py-3 rounded-xl font-medium transition-colors",children:"Cancel"}),(0,Nt.jsx)("button",{onClick:async()=>{if(C.name&&C.description&&C.targetAmount)try{R(!0);let e=C.imageUrl||null;if(C.imageFile){const t=Ny(Sy,"registry/".concat(C.id,"/").concat(C.imageFile.name));await xy(t,C.imageFile),e=await wy(t)}const t=Th(ky,"registry",C.id);await Df(t,{name:C.name,description:C.description,targetAmount:parseFloat(C.targetAmount),image:C.image,imageUrl:e,lastUpdated:Mf()}),T(null),U(),m("")}catch(f){console.error("Error updating registry item:",f),m("Error updating registry item")}finally{R(!1)}else m("Please fill in all required fields")},disabled:!C.name||!C.description||!C.targetAmount||A,className:"flex-1 bg-pink-400 hover:bg-pink-500 disabled:bg-stone-300 disabled:cursor-not-allowed text-white px-4 py-3 rounded-xl font-medium transition-colors",children:A?"Uploading...":"Update Item"})]})]})})})]})}):(0,Nt.jsx)("div",{className:"min-h-screen py-16 px-6 bg-gray-50 flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"max-w-md w-full",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-200",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8",children:[(0,Nt.jsx)("h1",{className:"text-3xl font-autography text-stone-700 mb-2",children:"Admin Access"}),(0,Nt.jsx)("p",{className:"text-stone-600",children:"Enter password to view RSVP dashboard"})]}),(0,Nt.jsxs)("form",{onSubmit:P,children:[(0,Nt.jsxs)("div",{className:"mb-6",children:[(0,Nt.jsx)("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Password"}),(0,Nt.jsx)("input",{type:"password",value:w,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-400 focus:border-transparent",placeholder:"Enter admin password",required:!0})]}),E&&(0,Nt.jsx)("div",{className:"mb-4 text-red-600 text-sm text-center",children:E}),(0,Nt.jsx)("button",{type:"submit",className:"w-full bg-pink-400 text-white py-3 px-6 rounded-xl hover:bg-pink-500 transition-colors font-medium",children:"Access Dashboard"})]})]})})})}function Oy(e){let{language:t,texts:n}=e;const[s,i]=(0,r.useState)("all"),[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[d,h]=(0,r.useState)({files:[],category:"engagement",caption:"",uploaderName:""}),[f,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1),[b,x]=(0,r.useState)(0),[w,N]=(0,r.useState)(null),[E,_]=(0,r.useState)(null);(0,r.useEffect)((()=>{k()}),[]);const k=async()=>{try{const e=gf(Ch(ky,"gallery-photos"),xf("uploadedAt","desc")),t=await Rf(e),n=[];t.forEach((e=>{var t;const r=e.data();n.push(u(u({id:e.id},r),{},{date:(null===(t=r.uploadedAt)||void 0===t?void 0:t.toDate().toISOString().split("T")[0])||(new Date).toISOString().split("T")[0],isCollection:r.urls&&r.urls.length>1,urls:r.urls||[r.url],url:r.urls?r.urls[0]:r.url}))})),g(n)}catch(e){console.error("Error loading photos:",e)}},S=p,C=S.length,T=[...new Set(S.map((e=>e.uploadedBy)))].length,I=S.reduce(((e,t)=>e+(t.urls?t.urls.length:1)),0),j={all:{label:"es"===t?"Todas":"All",icon:"\ud83d\udcf8"},engagement:{label:"es"===t?"Compromiso":"Engagement",icon:"\ud83d\udc8d"},"pre-wedding":{label:"es"===t?"Pre-Boda":"Pre-Wedding",icon:"\ud83c\udf1f"},wedding:{label:"es"===t?"Boda":"Wedding",icon:"\ud83d\udc92"},reception:{label:"es"===t?"Recepci\xf3n":"Reception",icon:"\ud83c\udf89"},"behind-scenes":{label:"es"===t?"Tras C\xe1maras":"Behind Scenes",icon:"\ud83c\udfac"}},A="all"===s?S:S.filter((e=>e.category===s));return(0,Nt.jsx)("div",{className:"min-h-screen py-8 md:py-16 px-4 md:px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Nt.jsxs)("div",{className:"text-center mb-8 md:mb-12",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-5xl md:text-6xl mb-4 md:mb-6",children:"\ud83d\udcf8"}),(0,Nt.jsx)("h1",{className:"text-3xl md:text-4xl font-autography text-stone-700 mb-4 px-4",children:n[t].gallery.title}),(0,Nt.jsx)("p",{className:"text-lg text-stone-600 px-4 mb-6",children:"es"===t?"Comparte tus momentos favoritos con nosotros y crea recuerdos juntos":"Share your favorite moments with us and create memories together"}),(0,Nt.jsxs)("button",{onClick:()=>o(!0),className:"bg-pink-400 hover:bg-pink-500 text-white px-6 py-3 rounded-full font-semibold transition-colors shadow-lg hover:shadow-xl",children:["\ud83d\udcf7 ","es"===t?"Subir Foto":"Upload Photo"]}),"        "]}),(0,Nt.jsx)("div",{className:"mb-8",children:(0,Nt.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:Object.entries(j).map((e=>{let[t,n]=e;return(0,Nt.jsxs)("button",{onClick:()=>i(t),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(s===t?"bg-pink-400 text-white shadow-md":"bg-white text-stone-600 hover:bg-pink-50 border border-stone-200"),children:[n.icon," ",n.label]},t)}))})}),"        ",(0,Nt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:[A.map((e=>{var n;return(0,Nt.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group",children:[(0,Nt.jsxs)("div",{className:"relative aspect-square overflow-hidden cursor-pointer",onClick:()=>c(e),children:[(0,Nt.jsx)("img",{src:e.url,alt:e.caption,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,Nt.jsx)("div",{className:"w-full h-full bg-stone-100 flex items-center justify-center",style:{display:"none"},children:(0,Nt.jsx)("span",{className:"text-stone-300 text-4xl",children:"\ud83d\udcf7"})}),e.isCollection&&(0,Nt.jsxs)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,Nt.jsx)("span",{children:"\ud83d\udcf8"}),(0,Nt.jsx)("span",{children:e.urls.length})]}),(0,Nt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300 flex items-center justify-center",children:(0,Nt.jsx)("div",{className:"text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"es"===t?"Click para ver":"Click to view"})})]}),(0,Nt.jsxs)("div",{className:"p-4",children:[(0,Nt.jsx)("p",{className:"text-stone-700 text-sm mb-2 line-clamp-2",children:e.caption}),(0,Nt.jsxs)("div",{className:"flex items-center justify-between text-xs text-stone-500 mb-2",children:[(0,Nt.jsx)("span",{children:e.uploadedBy}),(0,Nt.jsx)("span",{children:e.date})]}),(0,Nt.jsx)("div",{className:"flex items-center justify-end",children:(0,Nt.jsx)("div",{className:"text-pink-400 text-xs font-medium",children:null===(n=j[e.category])||void 0===n?void 0:n.icon})})]})]},e.id)})),(0,Nt.jsxs)("div",{onClick:()=>o(!0),className:"bg-white rounded-xl border-2 border-dashed border-stone-300 hover:border-pink-400 transition-colors cursor-pointer aspect-square flex flex-col items-center justify-center text-stone-400 hover:text-pink-400 group",children:[(0,Nt.jsx)("div",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:"\ud83d\udcf8"}),(0,Nt.jsx)("p",{className:"text-sm font-medium",children:"es"===t?"Agregar Foto":"Add Photo"})]})]}),(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200 text-center",children:[(0,Nt.jsxs)("h3",{className:"text-xl font-autography text-stone-700 mb-4",children:["\ud83d\udcca ","es"===t?"Estad\xedsticas de la Galer\xeda":"Gallery Stats"]}),"          ",(0,Nt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-pink-400",children:C}),(0,Nt.jsx)("div",{className:"text-sm text-stone-600",children:"es"===t?"Publicaciones":"Posts"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-pink-400",children:I}),(0,Nt.jsx)("div",{className:"text-sm text-stone-600",children:"es"===t?"Fotos Totales":"Total Photos"})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("div",{className:"text-2xl font-bold text-pink-400",children:T}),(0,Nt.jsx)("div",{className:"text-sm text-stone-600",children:"es"===t?"Contribuyentes":"Contributors"})]})]})]}),"        ",a&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Nt.jsxs)("h3",{className:"text-xl font-autography text-stone-700",children:["\ud83d\udcf7 ","es"===t?"Subir Foto":"Upload Photo"]}),(0,Nt.jsx)("button",{onClick:()=>o(!1),className:"text-stone-400 hover:text-stone-600",disabled:f,children:"\u2715"})]}),(0,Nt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.files.length&&d.caption.trim()&&d.uploaderName.trim()?d.files.length>15?alert("es"===t?"M\xe1ximo 15 fotos por subida":"Maximum 15 photos per upload"):y(!0):alert("es"===t?"Por favor completa todos los campos y selecciona al menos una foto":"Please fill in all fields and select at least one photo")},className:"space-y-4",children:["                ",(0,Nt.jsxs)("div",{className:"border-2 border-dashed border-stone-300 rounded-lg p-8 text-center",children:[(0,Nt.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf8"}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-4",children:"es"===t?"Selecciona tus fotos (m\xe1ximo 15)":"Select your photos (max 15)"}),(0,Nt.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).slice(0,15);h((e=>u(u({},e),{},{files:t})))},className:"hidden",id:"photo-upload",disabled:f}),(0,Nt.jsx)("label",{htmlFor:"photo-upload",className:"bg-pink-400 text-white px-4 py-2 rounded-lg hover:bg-pink-500 transition-colors cursor-pointer inline-block",children:"es"===t?"Seleccionar Archivos":"Select Files"}),d.files.length>0&&(0,Nt.jsxs)("div",{className:"mt-4",children:[(0,Nt.jsxs)("p",{className:"text-sm text-stone-600 mb-2",children:[d.files.length," ","es"===t?"archivo(s) seleccionado(s)":"file(s) selected"]}),(0,Nt.jsx)("div",{className:"max-h-32 overflow-y-auto",children:d.files.map(((e,t)=>(0,Nt.jsxs)("div",{className:"flex items-center justify-between bg-stone-50 rounded p-2 mb-1",children:[(0,Nt.jsx)("span",{className:"text-xs text-stone-600 truncate",children:e.name}),(0,Nt.jsx)("button",{type:"button",onClick:()=>{const e=d.files.filter(((e,n)=>n!==t));h((t=>u(u({},t),{},{files:e})))},className:"text-red-500 hover:text-red-700 ml-2",disabled:f,children:"\u2715"})]},t)))})]})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-stone-700 font-semibold mb-2",children:"es"===t?"Categor\xeda":"Category"}),(0,Nt.jsx)("select",{value:d.category,onChange:e=>h((t=>u(u({},t),{},{category:e.target.value}))),className:"w-full p-3 border border-stone-300 rounded-lg focus:border-pink-400 focus:outline-none",disabled:f,children:Object.entries(j).slice(1).map((e=>{let[t,n]=e;return(0,Nt.jsxs)("option",{value:t,children:[n.icon," ",n.label]},t)}))})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-stone-700 font-semibold mb-2",children:"es"===t?"Descripci\xf3n/Historia":"Caption/Story"}),(0,Nt.jsx)("textarea",{value:d.caption,onChange:e=>h((t=>u(u({},t),{},{caption:e.target.value}))),className:"w-full p-3 border border-stone-300 rounded-lg focus:border-pink-400 focus:outline-none",rows:"3",placeholder:"es"===t?"Cu\xe9ntanos la historia detr\xe1s de esta foto...":"Tell us the story behind this photo...",disabled:f,required:!0})]}),(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("label",{className:"block text-stone-700 font-semibold mb-2",children:"es"===t?"Tu Nombre":"Your Name"}),(0,Nt.jsx)("input",{type:"text",value:d.uploaderName,onChange:e=>h((t=>u(u({},t),{},{uploaderName:e.target.value}))),className:"w-full p-3 border border-stone-300 rounded-lg focus:border-pink-400 focus:outline-none",placeholder:"es"===t?"Tu nombre":"Your name",disabled:f,required:!0})]}),(0,Nt.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-pink-400 text-white py-3 rounded-lg hover:bg-pink-500 transition-colors font-semibold disabled:bg-stone-300 disabled:cursor-not-allowed",children:f?"es"===t?"\ud83d\udd04 Subiendo...":"\ud83d\udd04 Uploading...":"es"===t?"\ud83c\udf89 Compartir Foto":"\ud83c\udf89 Share Photo"}),"              "]})]})}),"        ",v&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:(0,Nt.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[(0,Nt.jsxs)("div",{className:"text-center mb-6",children:[(0,Nt.jsx)("div",{className:"text-4xl mb-4",children:"\u26a0\ufe0f"}),(0,Nt.jsx)("h3",{className:"text-xl font-autography text-stone-700 mb-4",children:"es"===t?"\xbfConfirmar subida?":"Confirm Upload?"}),"                ",(0,Nt.jsx)("p",{className:"text-stone-600 text-sm leading-relaxed",children:"es"===t?"Una vez que subas tu".concat(d.files.length>1?"s":""," foto").concat(d.files.length>1?"s":"",", no podr\xe1s eliminarla").concat(d.files.length>1?"s":"",". \xbfEst\xe1s seguro de que quieres compartir ").concat(d.files.length>1?"estas im\xe1genes":"esta imagen","?"):"Once you upload your photo".concat(d.files.length>1?"s":"",", you won't be able to delete ").concat(d.files.length>1?"them":"it",". Are you sure you want to share ").concat(d.files.length>1?"these images":"this image","?")})]}),(0,Nt.jsxs)("div",{className:"flex gap-3",children:[(0,Nt.jsx)("button",{onClick:()=>y(!1),className:"flex-1 bg-stone-200 text-stone-700 py-3 rounded-lg hover:bg-stone-300 transition-colors font-medium",children:"es"===t?"Cancelar":"Cancel"}),(0,Nt.jsx)("button",{onClick:async()=>{y(!1),m(!0);try{const e=[],n=Date.now();for(let t=0;t<d.files.length;t++){const r=d.files[t],s="gallery/".concat(n,"-").concat(t,"-").concat(r.name),i=Ny(Sy,s),a=await xy(i,r),o=await wy(a.ref);e.push(o)}const r={urls:e,url:e[0],caption:d.caption.trim(),category:d.category,uploadedBy:d.uploaderName.trim(),uploadedAt:new Date,photoCount:e.length};await function(e,t){const n=bh(e.firestore,Rh),r=Th(e),s=kf(e.converter,t);return Of(n,[Gh(Kh(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,$o.exists(!1))]).then((()=>r))}(Ch(ky,"gallery-photos"),r),h({files:[],category:"engagement",caption:"",uploaderName:""}),o(!1),await k(),alert("es"===t?"\xa1".concat(e.length," foto").concat(e.length>1?"s":""," subida").concat(e.length>1?"s":""," exitosamente! \ud83c\udf89"):"".concat(e.length," photo").concat(e.length>1?"s":""," uploaded successfully! \ud83c\udf89"))}catch(e){console.error("Error uploading photos:",e),alert("es"===t?"Error al subir las fotos. Por favor intenta de nuevo.":"Error uploading photos. Please try again.")}finally{m(!1)}},className:"flex-1 bg-pink-400 text-white py-3 rounded-lg hover:bg-pink-500 transition-colors font-medium",children:"es"===t?"S\xed, compartir":"Yes, share"})]})]})}),"        ",l&&(0,Nt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Nt.jsx)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:(0,Nt.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,Nt.jsxs)("div",{className:"flex-1 relative",children:[(0,Nt.jsxs)("div",{className:"aspect-square bg-stone-100 flex items-center justify-center overflow-hidden",onTouchStart:e=>{_(null),N(e.targetTouches[0].clientX)},onTouchMove:e=>_(e.targetTouches[0].clientX),onTouchEnd:()=>{if(!w||!E)return;const e=w-E,t=e>50,n=e<-50;l&&l.urls.length>1&&(t&&x((e=>e===l.urls.length-1?0:e+1)),n&&x((e=>0===e?l.urls.length-1:e-1)))},children:[(0,Nt.jsx)("img",{src:l.urls[b],alt:l.caption,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,Nt.jsx)("div",{className:"w-full h-full bg-stone-100 flex items-center justify-center",style:{display:"none"},children:(0,Nt.jsx)("span",{className:"text-stone-300 text-6xl",children:"\ud83d\udcf7"})})]}),l.urls.length>1&&(0,Nt.jsxs)(Nt.Fragment,{children:[(0,Nt.jsx)("button",{onClick:()=>x((e=>0===e?l.urls.length-1:e-1)),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all hidden md:block",children:"\u2190"}),(0,Nt.jsx)("button",{onClick:()=>x((e=>e===l.urls.length-1?0:e+1)),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all hidden md:block",children:"\u2192"}),(0,Nt.jsxs)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-sm px-3 py-1 rounded-full",children:[b+1," / ",l.urls.length]}),(0,Nt.jsx)("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-xs px-3 py-1 rounded-full md:hidden",children:"es"===t?"Desliza para ver m\xe1s":"Swipe to see more"})]})]}),(0,Nt.jsxs)("div",{className:"w-full md:w-80 p-6",children:[(0,Nt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Nt.jsxs)("div",{children:[(0,Nt.jsx)("h3",{className:"font-semibold text-stone-700",children:l.uploadedBy}),(0,Nt.jsx)("p",{className:"text-xs text-stone-500",children:l.date}),l.urls.length>1&&(0,Nt.jsxs)("p",{className:"text-xs text-pink-400 mt-1",children:["\ud83d\udcf8 ",l.urls.length," ","es"===t?"fotos":"photos"]})]}),(0,Nt.jsx)("button",{onClick:()=>{c(null),x(0)},className:"text-stone-400 hover:text-stone-600 text-xl",children:"\u2715"})]}),(0,Nt.jsx)("p",{className:"text-stone-700 mb-6",children:l.caption}),l.urls.length>1&&(0,Nt.jsx)("div",{className:"mb-6",children:(0,Nt.jsx)("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto",children:l.urls.map(((e,t)=>(0,Nt.jsx)("button",{onClick:()=>x(t),className:"aspect-square rounded-lg overflow-hidden border-2 ".concat(b===t?"border-pink-400":"border-stone-200 hover:border-stone-300"),children:(0,Nt.jsx)("img",{src:e,alt:"".concat(l.caption," ").concat(t+1),className:"w-full h-full object-cover"})},t)))})}),(0,Nt.jsx)("div",{className:"text-center",children:(0,Nt.jsx)("p",{className:"text-sm text-stone-500",children:"es"===t?"Gracias por compartir este momento especial con nosotros \ud83d\udc95":"Thank you for sharing this special moment with us \ud83d\udc95"})})]})]})})})]})})}function Ly(e){let{language:t,texts:n}=e;const[s,i]=(0,r.useState)(null);return(0,Nt.jsx)("div",{className:"min-h-screen py-8 md:py-16 px-4 md:px-6 bg-gray-50",children:(0,Nt.jsxs)("div",{className:"max-w-3xl mx-auto",children:["        ",(0,Nt.jsxs)("div",{className:"text-center mb-8 md:mb-12",children:[(0,Nt.jsx)("div",{className:"text-pink-400 text-5xl md:text-6xl mb-4 md:mb-6",children:"\u2753"}),(0,Nt.jsx)("h1",{className:"text-3xl md:text-4xl font-autography text-stone-700 mb-4 px-4",children:n[t].faq.title}),(0,Nt.jsx)("p",{className:"text-lg text-stone-600 px-4",children:n[t].faq.content})]}),"        ",(0,Nt.jsx)("div",{className:"space-y-3 md:space-y-4",children:{es:[{question:"\xbfCu\xe1l es el c\xf3digo de vestimenta?",answer:"Elegante casual. Recomendamos vestidos de verano, guayaberas, o trajes ligeros. Ten en cuenta el clima c\xe1lido de Yucat\xe1n."},{question:"\xbfHay transporte desde el hotel?",answer:"Proporcionaremos transporte desde los hoteles recomendados hasta el venue. Los detalles se compartir\xe1n m\xe1s cerca de la fecha."},{question:"\xbfQu\xe9 documentos necesito para viajar a M\xe9xico?",answer:"Los ciudadanos estadounidenses necesitan pasaporte v\xe1lido. Otros pa\xedses pueden requerir visa. Consulta con tu embajada local."},{question:"\xbfHabr\xe1 comida vegetariana/vegana?",answer:"\xa1S\xed! Tendremos opciones vegetarianas y veganas. Por favor indica tus restricciones alimentarias en el RSVP."},{question:"\xbfPuedo traer ni\xf1os?",answer:"Esta ser\xe1 una celebraci\xf3n solo para adultos. Agradecemos tu comprensi\xf3n."},{question:"\xbfCu\xe1l es la fecha l\xedmite para el RSVP?",answer:"Por favor confirma tu asistencia antes del 15 de enero de 2026."}],en:[{question:"What is the dress code?",answer:"Smart casual. We recommend summer dresses, guayaberas, or light suits. Keep in mind Yucatan's warm climate."},{question:"Is there transportation from the hotel?",answer:"We will provide transportation from the recommended hotels to the venue. Details will be shared closer to the date."},{question:"What documents do I need to travel to Mexico?",answer:"US citizens need a valid passport. Other countries may require a visa. Check with your local embassy."},{question:"Will there be vegetarian/vegan food?",answer:"Yes! We will have vegetarian and vegan options. Please indicate your dietary restrictions in the RSVP."},{question:"Can I bring children?",answer:"This will be an adults-only celebration. We appreciate your understanding."},{question:"What is the RSVP deadline?",answer:"Please confirm your attendance before January 15th, 2026."}]}[t].map(((e,t)=>(0,Nt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-stone-200",children:[(0,Nt.jsxs)("button",{onClick:()=>(e=>{i(s===e?null:e)})(t),className:"w-full p-4 md:p-6 text-left hover:bg-stone-50 transition flex justify-between items-center",children:[(0,Nt.jsx)("h3",{className:"text-base md:text-lg font-semibold text-stone-700 pr-4",children:e.question}),(0,Nt.jsx)("span",{className:"text-pink-400 text-lg md:text-xl transform transition-transform ".concat(s===t?"rotate-180":""),children:"\u2193"})]}),s===t&&(0,Nt.jsx)("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:(0,Nt.jsx)("div",{className:"border-t border-stone-200 pt-4",children:(0,Nt.jsx)("p",{className:"text-stone-600 leading-relaxed",children:e.answer})})})]},t)))}),"        ",(0,Nt.jsxs)("div",{className:"mt-8 md:mt-12 bg-white rounded-2xl p-6 md:p-8 shadow-lg text-center border border-stone-200",children:[(0,Nt.jsx)("h3",{className:"text-xl md:text-2xl font-autography text-stone-700 mb-4",children:"es"===t?"\xbfM\xe1s preguntas?":"More questions?"}),(0,Nt.jsx)("p",{className:"text-stone-600 mb-4 md:mb-6 px-4",children:"es"===t?"Si tienes alguna pregunta que no est\xe9 aqu\xed, no dudes en contactarnos directamente.":"If you have any questions that aren't here, don't hesitate to contact us directly."}),(0,Nt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center",children:[(0,Nt.jsxs)("a",{href:"mailto:victor.landy.wedding@gmail.com",className:"bg-pink-400 text-white px-4 md:px-6 py-2 md:py-3 rounded-full hover:bg-pink-500 transition",children:["\ud83d\udce7 ","es"===t?"Enviar Email":"Send Email"]}),(0,Nt.jsxs)("a",{href:"tel:+1234567890",className:"bg-stone-600 text-white px-4 md:px-6 py-2 md:py-3 rounded-full hover:bg-stone-700 transition",children:["\ud83d\udcde ","es"===t?"Llamar":"Call Us"]})]})]})]})})}const My={es:{welcome:"\xa1Bienvenidos!",subtitle:"Un viaje, un destino, un amor",intro:"Nos emociona mucho celebrar este momento tan especial con ustedes en M\xe9rida, Yucat\xe1n. Esta p\xe1gina contiene toda la informaci\xf3n sobre nuestra boda, desde los detalles del evento hasta recomendaciones para disfrutar su visita.\n\xa1Gracias por ser parte de nuestra historia!",countdown:"Faltan",days:"d\xedas",hours:"horas",minutes:"minutos",seconds:"segundos",nav:["Inicio","Nuestra Historia","Detalles del Evento","Hospedaje y Viaje","RSVP","Mesa de Regalos","Galer\xeda","Preguntas Frecuentes"],ourStory:{title:"Nuestra Historia",content:"Todo comenz\xf3 con una sonrisa y una mirada que cambi\xf3 nuestras vidas para siempre. Despu\xe9s de [a\xf1os] juntos, decidimos dar el siguiente paso en este hermoso viaje llamado amor."},eventDetails:{title:"Detalles del Evento",ceremony:"Ceremonia",reception:"Recepci\xf3n",date:"14 de Febrero, 2026",time:"5:00 PM",venue:"Hacienda [Nombre]",location:"M\xe9rida, Yucat\xe1n",dresscode:"C\xf3digo de Vestimenta: Elegante Casual"},travel:{title:"Hospedaje y Viaje",content:"Hemos reservado habitaciones con descuento en hoteles cercanos al venue. Tambi\xe9n encontrar\xe1s informaci\xf3n \xfatil sobre c\xf3mo llegar a M\xe9rida."},thingsToDo:{title:"Qu\xe9 Hacer en M\xe9rida",content:"M\xe9rida es una ciudad llena de cultura, historia y gastronom\xeda incre\xedble. Te compartimos nuestras recomendaciones favoritas."},rsvp:{title:"RSVP",content:"Por favor confirma tu asistencia antes del 15 de Enero, 2026"},registry:{title:"Mesa de Regalos",subtitle:"Ay\xfadanos a construir nuestro hogar juntos",description:"En lugar de una lista tradicional de regalos, hemos creado metas para art\xedculos especiales que necesitamos para nuestro nuevo hogar. \xa1Cualquier contribuci\xf3n ser\xe1 muy apreciada!",goalReached:"\xa1Meta Alcanzada!",contributed:"Contribuido",goal:"Meta",contributeButton:"Contribuir",thankYou:"\xa1Gracias por tu contribuci\xf3n!",contributionSuccess:"Tu contribuci\xf3n ha sido registrada exitosamente.",backToRegistry:"Volver a Mesa de Regalos",items:[{id:"living-room-sofa",name:"Sill\xf3n para Sala",description:"Un hermoso sill\xf3n c\xf3modo para nuestra nueva sala de estar donde podremos relajarnos juntos.",targetAmount:1500,image:"\ud83d\udecb\ufe0f"},{id:"dining-table",name:"Mesa de Comedor",description:"Una mesa de comedor elegante para recibir a familiares y amigos en nuestro hogar.",targetAmount:800,image:"\ud83c\udf7d\ufe0f"},{id:"bedroom-set",name:"Juego de Dormitorio",description:"Un juego completo de dormitorio para nuestro nuevo hogar como pareja casada.",targetAmount:1200,image:"\ud83d\udecf\ufe0f"},{id:"kitchen-appliances",name:"Electrodom\xe9sticos de Cocina",description:"Electrodom\xe9sticos esenciales para preparar deliciosas comidas juntos.",targetAmount:1e3,image:"\ud83c\udf73"},{id:"washing-machine",name:"Lavadora",description:"Una lavadora eficiente para mantener nuestra ropa limpia y fresca.",targetAmount:600,image:"\ud83e\uddfa"},{id:"honeymoon-fund",name:"Fondo para Luna de Miel",description:"Ay\xfadanos a crear recuerdos inolvidables en nuestra luna de miel.",targetAmount:2e3,image:"\ud83c\udfd6\ufe0f"}]},gallery:{title:"Galer\xeda",content:"Pronto compartiremos fotos de nuestro d\xeda especial"},faq:{title:"Preguntas Frecuentes",content:"\xbfTienes dudas? Aqu\xed encontrar\xe1s las respuestas a las preguntas m\xe1s comunes."}},en:{welcome:"Welcome!",subtitle:"One journey, one destination, one love",intro:"We're so excited to celebrate this special moment with you in M\xe9rida, Yucat\xe1n. This website has all the information you'll need \u2014 from event details to recommendations to enjoy your stay.\nThank you for being part of our story!",countdown:"Time left",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds",nav:["Home","Our Story","Event Details","Travel & Lodging","RSVP","Registry","Gallery","FAQ"],ourStory:{title:"Our Story",content:"It all started with a smile and a look that changed our lives forever. After [years] together, we decided to take the next step in this beautiful journey called love."},eventDetails:{title:"Event Details",ceremony:"Ceremony",reception:"Reception",date:"February 14th, 2026",time:"5:00 PM",venue:"Hacienda [Name]",location:"M\xe9rida, Yucat\xe1n",dresscode:"Dress Code: Smart Casual"},travel:{title:"Travel & Lodging",content:"We've reserved discounted rooms at nearby hotels. You'll also find useful information on how to get to M\xe9rida."},thingsToDo:{title:"Things to Do",content:"M\xe9rida is a city full of culture, history, and incredible gastronomy. We're sharing our favorite recommendations."},rsvp:{title:"RSVP",content:"Please confirm your attendance before January 15th, 2026"},registry:{title:"Registry",subtitle:"Help us build our home together",description:"Instead of a traditional gift list, we've created funding goals for special items we need for our new home. Any contribution will be greatly appreciated!",goalReached:"Goal Reached!",contributed:"Contributed",goal:"Goal",contributeButton:"Contribute",thankYou:"Thank you for your contribution!",contributionSuccess:"Your contribution has been successfully recorded.",backToRegistry:"Back to Registry",items:[{id:"living-room-sofa",name:"Living Room Sofa",description:"A beautiful, comfortable sofa for our new living room where we can relax together.",targetAmount:1500,image:"\ud83d\udecb\ufe0f"},{id:"dining-table",name:"Dining Table",description:"An elegant dining table to host family and friends in our home.",targetAmount:800,image:"\ud83c\udf7d\ufe0f"},{id:"bedroom-set",name:"Bedroom Set",description:"A complete bedroom set for our new home as a married couple.",targetAmount:1200,image:"\ud83d\udecf\ufe0f"},{id:"kitchen-appliances",name:"Kitchen Appliances",description:"Essential appliances to prepare delicious meals together.",targetAmount:1e3,image:"\ud83c\udf73"},{id:"washing-machine",name:"Washing Machine",description:"An efficient washing machine to keep our clothes clean and fresh.",targetAmount:600,image:"\ud83e\uddfa"},{id:"honeymoon-fund",name:"Honeymoon Fund",description:"Help us create unforgettable memories on our honeymoon.",targetAmount:2e3,image:"\ud83c\udfd6\ufe0f"}]},gallery:{title:"Gallery",content:"We'll soon share photos from our special day"},faq:{title:"FAQ",content:"Have questions? Here you'll find answers to the most common questions."}}};function Uy(){const[e,t]=(0,r.useState)("es"),n="/"===de().pathname,s=()=>t("es"===e?"en":"es");return(0,Nt.jsxs)("div",{className:"bg-[#F5F5DC] text-[#2D5016] font-sans min-h-screen",children:[!n&&(0,Nt.jsx)(Et,{language:e,toggleLanguage:s,texts:My}),!n&&(0,Nt.jsx)(_t,{language:e,texts:My}),(0,Nt.jsx)("main",{children:(0,Nt.jsxs)(Ae,{children:[(0,Nt.jsx)(Ie,{path:"/",element:(0,Nt.jsx)(Tt,{language:e,texts:My,toggleLanguage:s})}),(0,Nt.jsx)(Ie,{path:"/our-story",element:(0,Nt.jsx)(It,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/event-details",element:(0,Nt.jsx)(jt,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/travel",element:(0,Nt.jsx)(At,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/rsvp",element:(0,Nt.jsx)(Ry,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/registry",element:(0,Nt.jsx)(Py,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/admin",element:(0,Nt.jsx)(Dy,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/gallery",element:(0,Nt.jsx)(Oy,{language:e,texts:My})}),(0,Nt.jsx)(Ie,{path:"/faq",element:(0,Nt.jsx)(Ly,{language:e,texts:My})})]})}),(0,Nt.jsx)(kt,{language:e,toggleLanguage:s})]})}function Fy(){return(0,Nt.jsx)(ht,{basename:"/wedding",children:(0,Nt.jsx)(Uy,{})})}const Vy=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)}))};s.createRoot(document.getElementById("root")).render((0,Nt.jsx)(r.StrictMode,{children:(0,Nt.jsx)(Fy,{})})),Vy()})();
//# sourceMappingURL=main.29fac324.js.map